(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rm={exports:{}},Ol={};var Sv;function PA(){if(Sv)return Ol;Sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var bv;function kA(){return bv||(bv=1,rm.exports=PA()),rm.exports}var b=kA(),sm={exports:{}},Ae={};var Av;function LA(){if(Av)return Ae;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function ne(V,Z,oe){this.props=V,this.context=Z,this.refs=H,this.updater=oe||G}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ne.prototype;function ie(V,Z,oe){this.props=V,this.context=Z,this.refs=H,this.updater=oe||G}var ge=ie.prototype=new re;ge.constructor=ie,Y(ge,ne.prototype),ge.isPureReactComponent=!0;var Se=Array.isArray;function te(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,Z,oe){var he=oe.ref;return{$$typeof:r,type:V,key:Z,ref:he!==void 0?he:null,props:oe}}function P(V,Z){return C(V.type,Z,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return Z[oe]})}var I=/\/+/g;function Qe(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Z.toString(36)}function et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(te,te):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function L(V,Z,oe,he,Te){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case r:case e:je=!0;break;case E:return je=V._init,L(je(V._payload),Z,oe,he,Te)}}if(je)return Te=Te(V),je=he===""?"."+Qe(V,0):he,Se(Te)?(oe="",je!=null&&(oe=je.replace(I,"$&/")+"/"),L(Te,Z,oe,"",function(ps){return ps})):Te!=null&&(N(Te)&&(Te=P(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+je)),Z.push(Te)),1;je=0;var Nt=he===""?".":he+":";if(Se(V))for(var at=0;at<V.length;at++)he=V[at],Ie=Nt+Qe(he,at),je+=L(he,Z,oe,Ie,Te);else if(at=O(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ie=Nt+Qe(he,at++),je+=L(he,Z,oe,Ie,Te);else if(Ie==="object"){if(typeof V.then=="function")return L(et(V),Z,oe,he,Te);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(V,Z,oe){if(V==null)return V;var he=[],Te=0;return L(V,he,"","",function(Ie){return Z.call(oe,Ie,Te++)}),he}function le(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Le={map:se,forEach:function(V,Z,oe){se(V,function(){Z.apply(this,arguments)},oe)},count:function(V){var Z=0;return se(V,function(){Z++}),Z},toArray:function(V){return se(V,function(Z){return Z})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=S,Ae.Children=Le,Ae.Component=ne,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,Z,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=Y({},V.props),Te=V.key;if(Z!=null)for(Ie in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(he[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var je=Array(Ie),Nt=0;Nt<Ie;Nt++)je[Nt]=arguments[Nt+2];he.children=je}return C(V.type,Te,he)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,Z,oe){var he,Te={},Ie=null;if(Z!=null)for(he in Z.key!==void 0&&(Ie=""+Z.key),Z)R.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=Z[he]);var je=arguments.length-2;if(je===1)Te.children=oe;else if(1<je){for(var Nt=Array(je),at=0;at<je;at++)Nt[at]=arguments[at+2];Te.children=Nt}if(V&&V.defaultProps)for(he in je=V.defaultProps,je)Te[he]===void 0&&(Te[he]=je[he]);return C(V,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=N,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:le}},Ae.memo=function(V,Z){return{$$typeof:p,type:V,compare:Z===void 0?null:Z}},Ae.startTransition=function(V){var Z=x.T,oe={};x.T=oe;try{var he=V(),Te=x.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(te,ye)}catch(Ie){ye(Ie)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),x.T=Z}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(V){return x.H.use(V)},Ae.useActionState=function(V,Z,oe){return x.H.useActionState(V,Z,oe)},Ae.useCallback=function(V,Z){return x.H.useCallback(V,Z)},Ae.useContext=function(V){return x.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,Z){return x.H.useDeferredValue(V,Z)},Ae.useEffect=function(V,Z){return x.H.useEffect(V,Z)},Ae.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(V,Z,oe){return x.H.useImperativeHandle(V,Z,oe)},Ae.useInsertionEffect=function(V,Z){return x.H.useInsertionEffect(V,Z)},Ae.useLayoutEffect=function(V,Z){return x.H.useLayoutEffect(V,Z)},Ae.useMemo=function(V,Z){return x.H.useMemo(V,Z)},Ae.useOptimistic=function(V,Z){return x.H.useOptimistic(V,Z)},Ae.useReducer=function(V,Z,oe){return x.H.useReducer(V,Z,oe)},Ae.useRef=function(V){return x.H.useRef(V)},Ae.useState=function(V){return x.H.useState(V)},Ae.useSyncExternalStore=function(V,Z,oe){return x.H.useSyncExternalStore(V,Z,oe)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var wv;function tp(){return wv||(wv=1,sm.exports=LA()),sm.exports}var q=tp();const UA=VA(q);var am={exports:{}},Ml={},om={exports:{}},lm={};var Rv;function jA(){return Rv||(Rv=1,(function(r){function e(L,se){var le=L.length;L.push(se);e:for(;0<le;){var ye=le-1>>>1,Le=L[ye];if(0<o(Le,se))L[ye]=se,L[le]=Le,le=ye;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var se=L[0],le=L.pop();if(le!==se){L[0]=le;e:for(var ye=0,Le=L.length,V=Le>>>1;ye<V;){var Z=2*(ye+1)-1,oe=L[Z],he=Z+1,Te=L[he];if(0>o(oe,le))he<Le&&0>o(Te,oe)?(L[ye]=Te,L[he]=le,ye=he):(L[ye]=oe,L[Z]=le,ye=Z);else if(he<Le&&0>o(Te,le))L[ye]=Te,L[he]=le,ye=he;else break e}}return se}function o(L,se){var le=L.sortIndex-se.sortIndex;return le!==0?le:L.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,S=null,w=3,O=!1,G=!1,Y=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ge(L){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=L)s(p),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(p)}}function Se(L){if(Y=!1,ge(L),!G)if(n(y)!==null)G=!0,te||(te=!0,k());else{var se=n(p);se!==null&&et(Se,se.startTime-L)}}var te=!1,x=-1,R=5,C=-1;function P(){return H?!0:!(r.unstable_now()-C<R)}function N(){if(H=!1,te){var L=r.unstable_now();C=L;var se=!0;try{e:{G=!1,Y&&(Y=!1,re(x),x=-1),O=!0;var le=w;try{t:{for(ge(L),S=n(y);S!==null&&!(S.expirationTime>L&&P());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,w=S.priorityLevel;var Le=ye(S.expirationTime<=L);if(L=r.unstable_now(),typeof Le=="function"){S.callback=Le,ge(L),se=!0;break t}S===n(y)&&s(y),ge(L)}else s(y);S=n(y)}if(S!==null)se=!0;else{var V=n(p);V!==null&&et(Se,V.startTime-L),se=!1}}break e}finally{S=null,w=le,O=!1}se=void 0}}finally{se?k():te=!1}}}var k;if(typeof ie=="function")k=function(){ie(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Qe=I.port2;I.port1.onmessage=N,k=function(){Qe.postMessage(null)}}else k=function(){ne(N,0)};function et(L,se){x=ne(function(){L(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(L){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var le=w;w=se;try{return L()}finally{w=le}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(L,se){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=w;w=L;try{return se()}finally{w=le}},r.unstable_scheduleCallback=function(L,se,le){var ye=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,L){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=le+Le,L={id:E++,callback:se,priorityLevel:L,startTime:le,expirationTime:Le,sortIndex:-1},le>ye?(L.sortIndex=le,e(p,L),n(y)===null&&L===n(p)&&(Y?(re(x),x=-1):Y=!0,et(Se,le-ye))):(L.sortIndex=Le,e(y,L),G||O||(G=!0,te||(te=!0,k()))),L},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(L){var se=w;return function(){var le=w;w=se;try{return L.apply(this,arguments)}finally{w=le}}}})(lm)),lm}var Cv;function zA(){return Cv||(Cv=1,om.exports=jA()),om.exports}var um={exports:{}},$t={};var Iv;function BA(){if(Iv)return $t;Iv=1;var r=tp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},$t.flushSync=function(y){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},$t.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},$t.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},$t.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},$t.requestFormReset=function(y){s.d.r(y)},$t.unstable_batchedUpdates=function(y,p){return y(p)},$t.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var xv;function qA(){if(xv)return um.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=BA(),um.exports}var Dv;function HA(){if(Dv)return Ml;Dv=1;var r=zA(),e=tp(),n=qA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case Se:return"Suspense";case te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var et=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],Le=-1;function V(t){return{current:t}}function Z(t){0>Le||(t.current=ye[Le],ye[Le]=null,Le--)}function oe(t,i){Le++,ye[Le]=t.current,t.current=i}var he=V(null),Te=V(null),Ie=V(null),je=V(null);function Nt(t,i){switch(oe(Ie,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=G_(i),t=Q_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(he),oe(he,t)}function at(){Z(he),Z(Te),Z(Ie)}function ps(t){t.memoizedState!==null&&oe(je,t);var i=he.current,a=Q_(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function aa(t){Te.current===t&&(Z(he),Z(Te)),je.current===t&&(Z(je),Il._currentValue=le)}var oa,la;function ri(t){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+t+la}var Io=!1;function gs(t,i){if(!t||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var F=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){F=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){F=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function xo(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return gs(t.type,!1);case 11:return gs(t.type.render,!1);case 1:return gs(t.type,!0);case 31:return ri("Activity");default:return""}}function Do(t){try{var i="",a=null;do i+=xo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,af=r.unstable_shouldYield,_u=r.unstable_requestPaint,tn=r.unstable_now,ys=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,of=r.unstable_LowPriority,vu=r.unstable_IdlePriority,Eu=r.log,Tu=r.unstable_setDisableYieldValue,Bn=null,zt=null;function An(t){if(typeof Eu=="function"&&Tu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var dt=Math.clz32?Math.clz32:bu,Su=Math.log,ua=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Su(t)/ua|0)|0}var si=256,_s=262144,Et=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-dt(a),W=1<<X;T[X]=0,D[X]=-1;var F=B[X];if(F!==null)for(B[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&Es(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Es(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ts(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ts(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,Pt="__reactProps$"+Fn,ui="__reactContainer$"+Fn,ca="__reactEvents$"+Fn,cf="__reactListeners$"+Fn,Ru="__reactHandles$"+Fn,Cu="__reactResources$"+Fn,ci="__reactMarker$"+Fn;function ha(t){delete t[Tt],delete t[Pt],delete t[ca],delete t[cf],delete t[Ru]}function hi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[Tt])return a;t=Z_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Tt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ci]=!0}var Po=new Set,ko={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},jo={};function Iu(t){return vt.call(jo,t)?!0:vt.call(Uo,t)?!1:Lo.test(t)?jo[t]=!0:(Uo[t]=!0,!1)}function fa(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Ss(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bs=/[\n"\\]/g;function sn(t){return t.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,kt(i)):a!=null?Bo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+kt(T):t.removeAttribute("name")}function xu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Bo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Du(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Fo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,gi=null;function As(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ss(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var ga=!1;function br(t,i,a){if(ga)return t(i,a);ga=!0;try{var l=t(i);return l}finally{if(ga=!1,(Sr!==null||gi!==null)&&(wc(),Sr&&(i=Sr,t=gi,gi=Sr=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Cn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){ws=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{ws=!1}var yi=null,Go=null,Rs=null;function Qo(){if(Rs)return Rs;var t,i=Go,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Rs=h.slice(t,1<l?1-l:void 0)}function Cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Kn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Li),Ar=S({},Li,{view:0,detail:0}),Ko=Bt(Ar),wr,ya,vi,_a=S({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(wr=t.screenX-vi.screenX,ya=t.screenY-vi.screenY):ya=wr=0,vi=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Yo=Bt(_a),Is=S({},_a,{dataTransfer:0}),Mu=Bt(Is),Vu=S({},Ar,{relatedTarget:0}),xs=Bt(Vu),Xo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Bt(Xo),va=S({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Bt(va),Lu=S({},Li,{data:0}),Ei=Bt(Lu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Rr(){return Bu}var nn=S({},Ar,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Bt(nn),Hu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Bt(Hu),c=S({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),g=Bt(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),j=S({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Bt(j),ae=S({},Li,{newState:0,oldState:0}),Re=Bt(ae),mt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var In=Cn&&"TextEvent"in window&&!ot,Ti=Cn&&(!He||ot&&8<ot&&11>=ot),Yn=" ",Xn=!1;function Ds(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function rb(t,i){switch(t){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function sb(t,i){if(Ta)return t==="compositionend"||!He&&Ds(t,i)?(t=Qo(),Rs=Go=yi=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ab[t.type]:i==="textarea"}function ig(t,i,a,l){Sr?gi?gi.push(l):gi=[l]:Sr=l,i=Oc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var $o=null,Wo=null;function ob(t){j_(t,0)}function Fu(t){var i=mn(t);if(Ss(i))return t}function rg(t,i){if(t==="change")return i}var sg=!1;if(Cn){var hf;if(Cn){var ff="oninput"in document;if(!ff){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),ff=typeof ag.oninput=="function"}hf=ff}else hf=!1;sg=hf&&(!document.documentMode||9<document.documentMode)}function og(){$o&&($o.detachEvent("onpropertychange",lg),Wo=$o=null)}function lg(t){if(t.propertyName==="value"&&Fu(Wo)){var i=[];ig(i,Wo,t,Rn(t)),br(ob,i)}}function lb(t,i,a){t==="focusin"?(og(),$o=i,Wo=a,$o.attachEvent("onpropertychange",lg)):t==="focusout"&&og()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Wo)}function cb(t,i){if(t==="click")return Fu(i)}function hb(t,i){if(t==="input"||t==="change")return Fu(i)}function fb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:fb;function Jo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,i){var a=ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ug(a)}}function hg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var db=Cn&&"documentMode"in document&&11>=document.documentMode,Sa=null,mf=null,Zo=null,pf=!1;function dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Sa==null||Sa!==pi(l)||(l=Sa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Oc(mf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Sa)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},gf={},mg={};Cn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Os(t){if(gf[t])return gf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return gf[t]=i[a];return t}var pg=Os("animationend"),gg=Os("animationiteration"),yg=Os("animationstart"),mb=Os("transitionrun"),pb=Os("transitionstart"),gb=Os("transitioncancel"),_g=Os("transitionend"),vg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function $n(t,i){vg.set(t,i),di(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Aa=0,_f=0;function Qu(){for(var t=Aa,i=_f=Aa=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Eg(a,h,d)}}function Ku(t,i,a,l){xn[Aa++]=t,xn[Aa++]=i,xn[Aa++]=a,xn[Aa++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Ku(t,i,a,l),Yu(t)}function Ms(t,i){return Ku(t,null,null,i),Yu(t)}function Eg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<Tl)throw Tl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function yb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new yb(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=SA(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,h),t.elementType=C,t.lanes=d,t;case Y:return Vs(a.children,h,d,i);case H:_=8,h|=24;break;case ne:return t=yn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Se:return t=yn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case te:return t=yn(19,a,i,h),t.elementType=te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case re:_=9;break e;case ge:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Vs(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Sg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var bg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Do(i)},bg.set(t,i),i)}return{value:t,source:i,stack:Do(i)}}var Ra=[],Ca=0,$u=null,el=0,Nn=[],On=0,Cr=null,Si=1,bi="";function zi(t,i){Ra[Ca++]=el,Ra[Ca++]=$u,$u=t,el=i}function Ag(t,i,a){Nn[On++]=Si,Nn[On++]=bi,Nn[On++]=Cr,Cr=t;var l=Si;t=bi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-dt(i)+h|a<<h|l,bi=d+t}else Si=1<<d|a<<h|l,bi=t}function bf(t){t.return!==null&&(zi(t,1),Ag(t,1,0))}function Af(t){for(;t===$u;)$u=Ra[--Ca],Ra[Ca]=null,el=Ra[--Ca],Ra[Ca]=null;for(;t===Cr;)Cr=Nn[--On],Nn[On]=null,bi=Nn[--On],Nn[On]=null,Si=Nn[--On],Nn[On]=null}function wg(t,i){Nn[On++]=Si,Nn[On++]=bi,Nn[On++]=Cr,Si=i.id,bi=i.overflow,Cr=t}var qt=null,it=null,Ue=!1,Ir=null,Mn=!1,wf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Dn(i,t)),wf}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ne(bl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||H_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||xr(t,!0)}function Cg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ia(t){if(t!==qt)return!1;if(!Ue)return Cg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&it&&xr(t),Cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=J_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=J_(t)}else i===27?(i=it,Hr(t.type)?(t=Yd,Yd=null,it=t):it=i):it=qt?Pn(t.stateNode.nextSibling):null;return!0}function Ps(){it=qt=null,Ue=!1}function Rf(){var t=Ir;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ir=null),t}function tl(t){Ir===null?Ir=[t]:Ir.push(t)}var Cf=V(null),ks=null,Bi=null;function Dr(t,i,a){oe(Cf,i._currentValue),i._currentValue=a}function qi(t){t._currentValue=Cf.current,Z(Cf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function xf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&xf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){ks=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Ig(ks,t)}function Ju(t,i){return ks===null&&Ls(t),Ig(t,i)}function Ig(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var _b=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vb=r.unstable_scheduleCallback,Eb=r.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new _b,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&vb(Eb,function(){t.controller.abort()})}var il=null,Nf=0,Da=0,Na=null;function Tb(t,i){if(il===null){var a=il=[];Nf=0,Da=Vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(xg,xg),i}function xg(){if(--Nf===0&&il!==null){Na!==null&&(Na.status="fulfilled");var t=il;il=null,Da=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Sb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dg=L.S;L.S=function(t,i){d_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Tb(t,i),Dg!==null&&Dg(t,i)};var Us=V(null);function Of(){var t=Us.current;return t!==null?t:tt.pooledCache}function Zu(t,i){i===null?oe(Us,Us.current):oe(Us,i.pool)}function Ng(){var t=Of();return t===null?null:{parent:At._currentValue,pool:t}}var Oa=Error(s(460)),Mf=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw zs=i,Oa}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zs=a,Oa):a}}var zs=null;function Vg(){if(zs===null)throw Error(s(459));var t=zs;return zs=null,t}function Pg(t){if(t===Oa||t===ec)throw Error(s(483))}var Ma=null,rl=0;function nc(t){var i=rl;return rl+=1,Ma===null&&(Ma=[]),Mg(Ma,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kg(t){function i(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ji(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,z,$){return M===null||M.tag!==6?(M=Tf(z,U.mode,$),M.return=U,M):(M=h(M,z),M.return=U,M)}function D(U,M,z,$){var me=z.type;return me===Y?X(U,M,z.props.children,$,z.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&js(me)===M.type)?(M=h(M,z.props),sl(M,z),M.return=U,M):(M=Xu(z.type,z.key,z.props,null,U.mode,$),sl(M,z),M.return=U,M)}function B(U,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Sf(z,U.mode,$),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function X(U,M,z,$,me){return M===null||M.tag!==7?(M=Vs(z,U.mode,$,me),M.return=U,M):(M=h(M,z),M.return=U,M)}function W(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return z=Xu(M.type,M.key,M.props,null,U.mode,z),sl(z,M),z.return=U,z;case G:return M=Sf(M,U.mode,z),M.return=U,M;case R:return M=js(M),W(U,M,z)}if(et(M)||k(M))return M=Vs(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return W(U,nc(M),z);if(M.$$typeof===ie)return W(U,Ju(U,M),z);ic(U,M)}return null}function F(U,M,z,$){var me=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:T(U,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===me?D(U,M,z,$):null;case G:return z.key===me?B(U,M,z,$):null;case R:return z=js(z),F(U,M,z,$)}if(et(z)||k(z))return me!==null?null:X(U,M,z,$,null);if(typeof z.then=="function")return F(U,M,nc(z),$);if(z.$$typeof===ie)return F(U,M,Ju(U,z),$);ic(U,z)}return null}function K(U,M,z,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(z)||null,T(M,U,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return U=U.get($.key===null?z:$.key)||null,D(M,U,$,me);case G:return U=U.get($.key===null?z:$.key)||null,B(M,U,$,me);case R:return $=js($),K(U,M,z,$,me)}if(et($)||k($))return U=U.get(z)||null,X(M,U,$,me,null);if(typeof $.then=="function")return K(U,M,z,nc($),me);if($.$$typeof===ie)return K(U,M,z,Ju(M,$),me);ic(M,$)}return null}function fe(U,M,z,$){for(var me=null,Be=null,de=M,xe=M=0,Me=null;de!==null&&xe<z.length;xe++){de.index>xe?(Me=de,de=null):Me=de.sibling;var qe=F(U,de,z[xe],$);if(qe===null){de===null&&(de=Me);break}t&&de&&qe.alternate===null&&i(U,de),M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe,de=Me}if(xe===z.length)return a(U,de),Ue&&zi(U,xe),me;if(de===null){for(;xe<z.length;xe++)de=W(U,z[xe],$),de!==null&&(M=d(de,M,xe),Be===null?me=de:Be.sibling=de,Be=de);return Ue&&zi(U,xe),me}for(de=l(de);xe<z.length;xe++)Me=K(de,U,xe,z[xe],$),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?xe:Me.key),M=d(Me,M,xe),Be===null?me=Me:Be.sibling=Me,Be=Me);return t&&de.forEach(function(Yr){return i(U,Yr)}),Ue&&zi(U,xe),me}function _e(U,M,z,$){if(z==null)throw Error(s(151));for(var me=null,Be=null,de=M,xe=M=0,Me=null,qe=z.next();de!==null&&!qe.done;xe++,qe=z.next()){de.index>xe?(Me=de,de=null):Me=de.sibling;var Yr=F(U,de,qe.value,$);if(Yr===null){de===null&&(de=Me);break}t&&de&&Yr.alternate===null&&i(U,de),M=d(Yr,M,xe),Be===null?me=Yr:Be.sibling=Yr,Be=Yr,de=Me}if(qe.done)return a(U,de),Ue&&zi(U,xe),me;if(de===null){for(;!qe.done;xe++,qe=z.next())qe=W(U,qe.value,$),qe!==null&&(M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return Ue&&zi(U,xe),me}for(de=l(de);!qe.done;xe++,qe=z.next())qe=K(de,U,xe,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?xe:qe.key),M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(MA){return i(U,MA)}),Ue&&zi(U,xe),me}function Ze(U,M,z,$){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:e:{for(var me=z.key;M!==null;){if(M.key===me){if(me=z.type,me===Y){if(M.tag===7){a(U,M.sibling),$=h(M,z.props.children),$.return=U,U=$;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&js(me)===M.type){a(U,M.sibling),$=h(M,z.props),sl($,z),$.return=U,U=$;break e}a(U,M);break}else i(U,M);M=M.sibling}z.type===Y?($=Vs(z.props.children,U.mode,$,z.key),$.return=U,U=$):($=Xu(z.type,z.key,z.props,null,U.mode,$),sl($,z),$.return=U,U=$)}return _(U);case G:e:{for(me=z.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),$=h(M,z.children||[]),$.return=U,U=$;break e}else{a(U,M);break}else i(U,M);M=M.sibling}$=Sf(z,U.mode,$),$.return=U,U=$}return _(U);case R:return z=js(z),Ze(U,M,z,$)}if(et(z))return fe(U,M,z,$);if(k(z)){if(me=k(z),typeof me!="function")throw Error(s(150));return z=me.call(z),_e(U,M,z,$)}if(typeof z.then=="function")return Ze(U,M,nc(z),$);if(z.$$typeof===ie)return Ze(U,M,Ju(U,z),$);ic(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),$=h(M,z),$.return=U,U=$):(a(U,M),$=Tf(z,U.mode,$),$.return=U,U=$),_(U)):a(U,M)}return function(U,M,z,$){try{rl=0;var me=Ze(U,M,z,$);return Ma=null,me}catch(de){if(de===Oa||de===ec)throw de;var Be=yn(29,de,null,U.mode);return Be.lanes=$,Be.return=U,Be}finally{}}}var Bs=kg(!0),Lg=kg(!1),Nr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),Eg(t,null,a),i}return Ku(t,l,i,a),Yu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function ol(){if(Lf){var t=Na;if(t!==null)throw t}}function ll(t,i,a,l){Lf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;_=0,X=B=D=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Oe&F)===F:(l&F)===F){F!==0&&F===Da&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;F=i;var Ze=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){W=fe.call(Ze,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(Ze,W,F):fe,F==null)break e;W=S({},W,F);break e;case 2:Nr=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=K,D=W):X=X.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=W),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ur|=_,t.lanes=_,t.memoizedState=W}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Va=V(null),rc=V(0);function zg(t,i){t=Wi,oe(rc,t),oe(Va,i),Wi=t|i.baseLanes}function Uf(){oe(rc,Wi),oe(Va,Va.current)}function jf(){Wi=rc.current,Z(Va),Z(rc)}var _n=V(null),Vn=null;function Vr(t){var i=t.alternate;oe(pt,pt.current&1),oe(_n,t),Vn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Vn=t)}function zf(t){oe(pt,pt.current),oe(_n,t),Vn===null&&(Vn=t)}function Bg(t){t.tag===22?(oe(pt,pt.current),oe(_n,t),Vn===null&&(Vn=t)):Pr()}function Pr(){oe(pt,pt.current),oe(_n,_n.current)}function vn(t){Z(_n),Vn===t&&(Vn=null),Z(pt)}var pt=V(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Ce=null,We=null,wt=null,ac=!1,Pa=!1,qs=!1,oc=0,ul=0,ka=null,bb=0;function ht(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return Hi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Ay:id,qs=!1,d=a(l,h),qs=!1,Pa&&(d=Hg(i,a,l,h)),qg(t),d}function qg(t){L.H=fl;var i=We!==null&&We.next!==null;if(Hi=0,wt=We=Ce=null,ac=!1,ul=0,ka=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Wu(t)&&(Rt=!0))}function Hg(t,i,a,l){Ce=t;var h=0;do{if(Pa&&(ka=null),ul=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=wy,d=i(a,l)}while(Pa);return d}function Ab(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Hf(){var t=oc!==0;return oc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Hi=0,wt=We=Ce=null,Pa=!1,ul=oc=0,ka=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ce.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,ka===null&&(ka=[]),t=Mg(ka,t,i),i=Ce,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Ay:id),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=gt();return Kf(i,We,t)}function Kf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,B=i,X=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Oe&W)===W:(Hi&W)===W){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Da&&(X=!0);else if((Hi&F)===F){B=B.next,F===Da&&(X=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=W,_=d):D=D.next=W,Ce.lanes|=F,Ur|=F;W=B.action,qs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else F={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=F,_=d):D=D.next=F,Ce.lanes|=W,Ur|=W;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!gn(d,t.memoizedState)&&(Rt=!0,X&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,i,a){var l=Ce,h=gt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Wf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Qg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Hi&127)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=lc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&Xg(t)}function Kg(t,i,a){return a(function(){Yg(i)&&Xg(t)})}function Yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Xg(t){var i=Ms(t,2);i!==null&&hn(i,t,2)}function Xf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),qs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function $g(t,i,a,l){return t.baseState=a,Kf(t,We,typeof l=="function"?l:Fi)}function wb(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};L.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Wg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=L.T,_={};L.T=_;try{var T=a(h,l),D=L.S;D!==null&&D(_,T),Jg(t,i,T)}catch(B){$f(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),L.T=d}}else try{d=a(h,l),Jg(t,i,d)}catch(B){$f(t,i,B)}}function Jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(t,i,l)},function(l){return $f(t,i,l)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Wg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ey(i),i=i.next;while(i!==l)}t.action=null}function ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ty(t,i){return i}function ny(t,i){if(Ue){var a=tt.formState;if(a!==null){e:{var l=Ce;if(Ue){if(it){t:{for(var h=it,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),l=h.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ty.bind(null,Ce,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ce,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=wb.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function iy(t){var i=gt();return ry(i,We,t)}function ry(t,i,a){if(i=Kf(t,i,ty)[0],t=cc(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Oa?ec:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,La(9,{destroy:void 0},Rb.bind(null,h,a),null)),[l,d,t]}function Rb(t,i){t.action=i}function sy(t){var i=gt(),a=We;if(a!==null)return ry(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=lc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ay(){return gt().memoizedState}function hc(t,i,a,l){var h=rn();Ce.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Bf(l,We.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Ce.flags|=t,h.memoizedState=La(1|i,d,a,l))}function oy(t,i){hc(8390656,8,t,i)}function Wf(t,i){fc(2048,8,t,i)}function Cb(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=lc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ly(t){var i=gt().memoizedState;return Cb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function uy(t,i){return fc(4,2,t,i)}function cy(t,i){return fc(4,4,t,i)}function hy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fy(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,hy.bind(null,i,t),a)}function Jf(){}function dy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function my(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),qs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(Hi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=p_(),Ce.lanes|=t,Ur|=t,a)}function py(t,i,a,l){return gn(a,i)?a:Va.current!==null?(t=Zf(t,a,l),gn(t,i)||(Rt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=p_(),Ce.lanes|=t,Ur|=t,i)}function gy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=L.T,T={};L.T=T,nd(t,!1,i,a);try{var D=h(),B=L.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Sb(D,l);hl(t,i,X,Sn(t))}else hl(t,i,l,Sn(t))}catch(W){hl(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),L.T=_}}function Ib(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=yy(t).queue;gy(t,h,i,le,a===null?Ib:function(){return _y(t),a(l)})}function yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _y(t){var i=yy(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},Sn())}function td(){return Ht(Il)}function vy(){return gt().memoizedState}function Ey(){return gt().memoizedState}function xb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Or(a);var l=Mr(i,t,a);l!==null&&(hn(l,i,a),al(l,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function Db(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Sy(i,a):(a=vf(t,i,a,l),a!==null&&(hn(a,t,l),by(a,i,l)))}function Ty(t,i,a){var l=Sn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return Ku(t,i,h,0),tt===null&&Qu(),!1}catch{}finally{}if(a=vf(t,i,h,l),a!==null)return hn(a,t,l),by(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&hn(i,t,2)}function dc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Sy(t,i){Pa=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function by(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var fl={readContext:Ht,use:uc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};fl.useEffectEvent=ht;var Ay={readContext:Ht,use:uc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,hy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(qs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(qs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Db.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Ty.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=rn();return Zf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=gy.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=rn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Oe&127)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,oy(Kg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Qg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Ue){var a=bi,l=Si;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=bb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ny,useActionState:ny,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return rn().memoizedState=xb.bind(null,Ce)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ht,use:uc,useCallback:dy,useContext:Ht,useEffect:Wf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:cc,useRef:ay,useState:function(){return cc(Fi)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=gt();return py(a,We.memoizedState,t,i)},useTransition:function(){var t=cc(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:td,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=gt();return $g(a,We,t,i)},useMemoCache:Qf,useCacheRefresh:Ey};id.useEffectEvent=ly;var wy={readContext:Ht,use:uc,useCallback:dy,useContext:Ht,useEffect:Wf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Yf,useRef:ay,useState:function(){return Yf(Fi)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=gt();return We===null?Zf(a,t,i):py(a,We.memoizedState,t,i)},useTransition:function(){var t=Yf(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=gt();return We!==null?$g(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Ey};wy.useEffectEvent=ly;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(hn(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(hn(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(hn(i,t,a),al(i,t,a))}};function Ry(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function Cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Iy(t){Gu(t)}function xy(t){console.error(t)}function Dy(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Oy(t){return t=Or(t),t.tag=3,t}function My(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ny(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ny(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Nb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Rc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Rc(),!1}if(Ue)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),tl(Dn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),tl(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=ad(t.stateNode,l,h),kf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),El===null?El=[d]:El.push(d),ft!==4&&(ft=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Oy(h),My(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Lg(i,null,a,l):Bs(i,t.child,a,l)}function Vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ls(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!Rt?(Ff(t,i,h),Gi(t,i,h)):(Ue&&T&&bf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Py(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function ky(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return ld(t,i,a,l,h)}function Ly(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Uy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?zg(i,d):Uf(),Bg(i);else return l=i.lanes=536870912,Uy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),zg(i,d),Pr(),i.memoizedState=null):(t!==null&&Zu(i,null),Uf(),Pr());return Ft(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Uy(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),Uf(),Bg(i),t!==null&&xa(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function jy(t,i,a){return Bs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Ob(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,dl(null,t);if(zf(i),(t=it)?(t=W_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||xa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ms(t,_),hn(l,t,_),od;Rc(),i=jy(t,i,a)}else t=d.treeContext,it=Pn(_.nextSibling),qt=i,Ue=!0,Ir=null,Mn=!1,t!==null&&wg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return Ls(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!Rt?(Ff(t,i,h),Gi(t,i,h)):(Ue&&l&&bf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function zy(t,i,a,l,h,d){return Ls(i),i.updateQueue=null,a=Hg(i,l,a,h),qg(t),l=Hf(),t!==null&&!Rt?(Ff(t,i,d),Gi(t,i,d)):(Ue&&l&&bf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function By(t,i,a,l,h){if(Ls(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Hs(a,T);d.props=D;var B=d.context,X=a.contextType;_=wa,typeof X=="object"&&X!==null&&(_=Ht(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Cy(i,d,l,_),Nr=!1;var F=i.memoizedState;d.state=F,ll(i,l,d,h),ol(),B=i.memoizedState,T||F!==B||Nr?(typeof W=="function"&&(rd(i,a,W,l),B=i.memoizedState),(D=Nr||Ry(i,a,D,l,F,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),_=i.memoizedProps,X=Hs(a,_),d.props=X,W=i.pendingProps,F=d.context,B=a.contextType,D=wa,typeof B=="object"&&B!==null&&(D=Ht(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==D)&&Cy(i,d,l,D),Nr=!1,F=i.memoizedState,d.state=F,ll(i,l,d,h),ol();var K=i.memoizedState;_!==W||F!==K||Nr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(rd(i,a,T,l),K=i.memoizedState),(X=Nr||Ry(i,a,X,l,F,K,D)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Bs(i,t.child,null,h),i.child=Bs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function qy(t,i,a,l){return Ps(),i.flags|=256,Ft(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Ng()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Hy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?Vr(i):Pr(),(t=it)?(t=W_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw xr(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pr(),h=i.mode,T=yc({mode:"hidden",children:T},h),l=Vs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,dl(null,l)):(Vr(i),fd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),T=l.fallback,h=i.mode,l=yc({mode:"visible",children:l.children},h),T=Vs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Bs(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=dl(null,l));else if(Vr(i),Kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Rt||xa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=tt,_!==null&&(l=Vo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ms(t,l),hn(_,t,l),od;Qd(T)||Rc(),i=dd(t,i,a)}else Qd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,it=Pn(T.nextSibling),qt=i,Ue=!0,Ir=null,Mn=!1,t!==null&&wg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Pr(),T=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=ji(B,T):(T=Vs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,dl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=cd(a):(h=T.cachePool,h!==null?(D=At._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Ng(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=ud,dl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Bs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Gy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(pt,_),Ft(t,i,l,a),l=Ue?el:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,a,i);else if(t.tag===19)Fy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Mb(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Dr(i,At,t.memoizedState.cache),Ps();break;case 27:case 5:ps(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hy(t,i,a):(Vr(i),t=Gi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Gy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Ly(t,i,a,i.pendingProps);case 24:Dr(i,At,t.memoizedState.cache)}return Gi(t,i,a)}function Qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Rt=!1,Mb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&Ag(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Hs(t,l),i.tag=1,i=By(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Vy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=Qe(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),By(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(t,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,At,l),l!==d.cache&&xf(i,[At],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qy(t,i,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),i),tl(h),i=qy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Pn(t.firstChild),qt=i,Ue=!0,Ir=null,Mn=!0,a=Lg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ps(),l===h){i=Gi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Mc(Ie.current).createElement(a),l[Tt]=i,l[Pt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ps(i),t===null&&Ue&&(l=i.stateNode=ev(i.type,i.pendingProps,Ie.current),qt=i,Mn=!0,h=it,Hr(i.type)?(Yd=h,it=Pn(l.firstChild)):it=h),Ft(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=uA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,it=Pn(l.firstChild),Mn=!1,h=!0):h=!1),h||xr(i)),ps(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,Ab,null,null,a),Il._currentValue=h),gc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=cA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,it=null,t=!0):t=!1),t||xr(i)),null;case 13:return Hy(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Bs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Vy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ls(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return ky(t,i,i.type,i.pendingProps,a);case 19:return Gy(t,i,a);case 31:return Ob(t,i,a);case 22:return Ly(t,i,a,i.pendingProps);case 24:return Ls(i),l=Ht(At),t===null?(h=Of(),h===null&&(h=tt,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Dr(i,At,h)):((t.lanes&a)!==0&&(Pf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,At,l)):(l=d.cache,Dr(i,At,l),l!==h.cache&&xf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(v_())t.flags|=8192;else throw zs=tc,Mf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i))if(v_())t.flags|=8192;else throw zs=tc,Mf}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Au():536870912,t.lanes|=i,Ba|=i)}function ml(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Vb(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ia(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(rt(i),Ky(i,d)):(rt(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),rt(i),Ky(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),rt(i),gd(i,h,t,l,a)),null;case 27:if(aa(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=he.current,Ia(i)?Rg(i):(t=ev(h,l,a),i.stateNode=t,Qi(i))}return rt(i),null;case 5:if(aa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=he.current,Ia(i))Rg(i);else{var _=Mc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return rt(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Ia(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(t.nodeValue,a)),t||xr(i,!0)}else t=Mc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ia(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Ud(i.stateNode.containerInfo),rt(i),null;case 10:return qi(i.type),rt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Tg(a,t),a=a.sibling;return oe(pt,pt.current&1|2),Ue&&zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>bc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*tn()-l.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,oe(pt,h?a&1|2:a&1),Ue&&zi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return vn(i),jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Pb(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return at(),null;case 10:return qi(i.type),null;case 22:case 23:return vn(i),jf(),t!==null&&Z(Us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(At),null;case 25:return null;default:return null}}function Yy(t,i){switch(Af(i),i.tag){case 3:qi(At),at();break;case 26:case 27:case 5:aa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(pt);break;case 10:qi(i.type);break;case 22:case 23:vn(i),jf(),t!==null&&Z(Us);break;case 24:qi(At)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Xe(i,i.return,T)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,B=T;try{B()}catch(X){Xe(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{jg(i,a)}catch(l){Xe(t,t.return,l)}}}function $y(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Wy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;iA(l,t.type,a,i),l[Pt]=i}catch(h){Xe(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function Zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[Pt]=a}catch(d){Xe(t,t.return,d)}}var Ki=!1,Ct=!1,Ed=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function kb(t,i){if(t=t.containerInfo,Bd=zc,t=fg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,X=0,W=t,F=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===t)break t;if(F===a&&++B===h&&(T=_),F===d&&++X===l&&(D=_),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},zc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Hs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function t_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&pl(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Xy(a),l&512&&gl(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Zy(a);case 26:case 5:Xi(t,a),i===null&&l&4&&Wy(a),l&512&&gl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&r_(t,a);break;case 13:Xi(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Gb.bind(null,a),hA(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Ki;var d=Ct;Ki=l,(Ct=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Ki=h,Ct=d}break;case 30:break;default:Xi(t,a)}}function n_(t){var i=t.alternate;i!==null&&(t.alternate=null,n_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ha(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Yi(t,i,a){for(a=a.child;a!==null;)i_(t,i,a),a=a.sibling}function i_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||Ai(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ai(a,i);var l=lt,h=on;Hr(a.type)&&(lt=a.stateNode,on=!1),Yi(t,i,a),wl(a.stateNode),lt=l,on=h;break;case 5:Ct||Ai(a,i);case 6:if(l=lt,h=on,lt=null,Yi(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,X_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):X_(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,Yi(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),Ct||kr(4,a,i),Yi(t,i,a);break;case 1:Ct||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Yi(t,i,a),Ct=l;break;default:Yi(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){Xe(i,i.return,a)}}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){Xe(i,i.return,a)}}function Lb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new e_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new e_),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=Lb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Qb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Hr(T.type)){lt=T.stateNode,on=!1;break e}break;case 5:lt=T.stateNode,on=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(lt===null)throw Error(s(160));i_(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)a_(i,t),i=i.sibling}var Wn=null;function a_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(kr(3,t,t.return),pl(3,t),kr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=av("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(kc=null,h=Wn,Wn=Vc(i.containerInfo),ln(i,t),Wn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(fe){Xe(t,t.return,fe)}Ed&&(Ed=!1,o_(t));break;case 4:l=Wn,Wn=Vc(t.stateNode.containerInfo),ln(i,t),un(t),Wn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Ki,X=Ct;if(Ki=B||h,Ct=X||D,ln(i,t),Ct=X,Ki=B,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Ki||Ct||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Xe(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){Xe(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;h?$_(K,!0):$_(D.stateNode,!1)}catch(fe){Xe(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);vc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=_d(t);vc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=_d(t);vd(t,B,D);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Fs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$y(i,i.return,a),Fs(i);break;case 27:wl(i.stateNode);case 26:case 5:Ai(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),pl(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ug(D[h],T)}catch(B){Xe(l,l.return,B)}}a&&_&64&&Xy(d),gl(d,d.return);break;case 27:Zy(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&Wy(d),gl(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&r_(h,d);break;case 13:$i(h,d,a),a&&_&4&&s_(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),gl(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,l),i=i.sibling}function l_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&pl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):yl(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:Jn(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:Jn(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,T,D,h),pl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ua(d,_,T,D,h):yl(d,_):(X._visibility|=2,Ua(d,_,T,D,h)),h&&B&2048&&Td(_.alternate,_);break;case 24:Ua(d,_,T,D,h),h&&B&2048&&Sd(_.alternate,_);break;default:Ua(d,_,T,D,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Td(l.alternate,l);break;case 24:yl(a,l),h&2048&&Sd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function ja(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)u_(t,i,a),t=t.sibling}function u_(t,i,a){switch(t.tag){case 26:ja(t,i,a),t.flags&_l&&t.memoizedState!==null&&bA(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,i,a);break;case 3:case 4:var l=Wn;Wn=Vc(t.stateNode.containerInfo),ja(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,ja(t,i,a),_l=l):ja(t,i,a));break;default:ja(t,i,a)}}function c_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,f_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):vl(t);break;default:vl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,f_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function f_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(n_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var Ub={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},jb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,De=null,Oe=0,Ye=0,En=null,Lr=!1,za=!1,bd=!1,Wi=0,ft=0,Ur=0,Gs=0,Ad=0,Tn=0,Ba=0,El=null,cn=null,wd=!1,Sc=0,d_=0,bc=1/0,Ac=null,jr=null,Mt=0,zr=null,qa=null,Ji=0,Rd=0,Cd=null,m_=null,Tl=0,Id=null;function Sn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:L.T!==null?Vd():wu()}function p_(){if(Tn===0)if((Oe&536870912)===0||Ue){var t=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Br(t,Oe,Tn,!1)),vs(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Gs|=a),ft===4&&Br(t,Oe,Tn,!1)),wi(t))}function g_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?qb(t,i):Dd(t,i,!0),d=l;do{if(h===0){za&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!zb(a)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=El;var D=T.current.memoizedState.isDehydrated;if(D&&(Ha(T,_).flags|=256),_=Dd(T,_,!1),_!==2){if(bd&&!D){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,Tn,!Lr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-tn(),10<h)){if(Br(l,i,Tn,!Lr),oi(l,0,!0)!==0)break e;Ji=i,l.timeoutHandle=K_(y_.bind(null,l,a,cn,Ac,wd,i,Tn,Gs,Ba,Lr,d,"Throttled",-0,0),h);break e}y_(l,a,cn,Ac,wd,i,Tn,Gs,Ba,Lr,d,null,-0,0)}}break}while(!0);wi(t)}function y_(t,i,a,l,h,d,_,T,D,B,X,W,F,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},u_(i,d,W);var fe=(d&62914560)===d?Sc-tn():(d&4194048)===d?d_-tn():0;if(fe=AA(W,fe),fe!==null){Ji=d,t.cancelPendingCommit=fe(w_.bind(null,t,i,d,a,l,h,_,T,D,X,W,null,F,K)),Br(t,d,_,!B);return}}w_(t,i,d,a,l,h,_,T,D)}function zb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~Ad,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Es(t,a,i)}function wc(){return(Fe&6)===0?(Sl(0),!1):!0}function xd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Bi=ks=null,Gf(t),Ma=null,rl=0,t=De;for(;t!==null;)Yy(t.alternate,t),t=t.return;De=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,aA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ji=0,xd(),tt=t,De=a=ji(t.current,null),Oe=i,Ye=0,En=null,Lr=!1,za=qn(t,i),bd=!1,Ba=Tn=Ad=Gs=Ur=ft=0,cn=El=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Wi=i,Qu(),a}function __(t,i){Ce=null,L.H=fl,i===Oa||i===ec?(i=Vg(),Ye=3):i===Mf?(i=Vg(),Ye=4):Ye=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,De===null&&(ft=1,mc(t,Dn(i,t.current)))}function v_(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?Vn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Vn:!1}function E_(){var t=L.H;return L.H=fl,t===null?fl:t}function T_(){var t=L.A;return L.A=Ub,t}function Rc(){ft=4,Lr||(Oe&4194048)!==Oe&&_n.current!==null||(za=!0),(Ur&134217727)===0&&(Gs&134217727)===0||tt===null||Br(tt,Oe,Tn,!1)}function Dd(t,i,a){var l=Fe;Fe|=2;var h=E_(),d=T_();(tt!==t||Oe!==i)&&(Ac=null,Ha(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&De!==null){var T=De,D=En;switch(Ye){case 8:xd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var B=Ye;if(Ye=0,En=null,Fa(t,T,D,B),a&&za){_=0;break e}break;default:B=Ye,Ye=0,En=null,Fa(t,T,D,B)}}Bb(),_=ft;break}catch(X){__(t,X)}while(!0);return i&&t.shellSuspendCounter++,Bi=ks=null,Fe=l,L.H=h,L.A=d,De===null&&(tt=null,Oe=0,Qu()),_}function Bb(){for(;De!==null;)S_(De)}function qb(t,i){var a=Fe;Fe|=2;var l=E_(),h=T_();tt!==t||Oe!==i?(Ac=null,bc=tn()+500,Ha(t,i)):za=qn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Fa(t,i,d,1);break;case 2:case 9:if(Og(d)){Ye=0,En=null,b_(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),wi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Og(d)?(Ye=0,En=null,b_(i)):(Ye=0,En=null,Fa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?lv(_):T.stateNode.complete){Ye=0,En=null;var D=T.sibling;if(D!==null)De=D;else{var B=T.return;B!==null?(De=B,Cc(B)):De=null}break t}}Ye=0,En=null,Fa(t,i,d,5);break;case 6:Ye=0,En=null,Fa(t,i,d,6);break;case 8:xd(),ft=6;break e;default:throw Error(s(462))}}Hb();break}catch(X){__(t,X)}while(!0);return Bi=ks=null,L.H=l,L.A=h,Fe=a,De!==null?0:(tt=null,Oe=0,Qu(),ft)}function Hb(){for(;De!==null&&!af();)S_(De)}function S_(t){var i=Qy(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function b_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=zy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=zy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Gf(i);default:Yy(a,i),i=De=Tg(i,Wi),i=Qy(a,i,Wi)}t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function Fa(t,i,a,l){Bi=ks=null,Gf(i),Ma=null,rl=0;var h=i.return;try{if(Nb(t,h,i,a,Oe)){ft=1,mc(t,Dn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,mc(t,Dn(a,t.current)),De=null;return}i.flags&32768?(Ue||l===1?t=!0:za||(Oe&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){A_(i,Lr);return}t=i.return;var a=Vb(i.alternate,i,Wi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function A_(t,i){do{var a=Pb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function w_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Ic();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,_,T,D),t===tt&&(De=tt=null,Oe=0),qa=i,zr=t,Ji=a,Rd=d,Cd=h,m_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kb(yr,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=se.p,se.p=2,_=Fe,Fe|=4;try{kb(t,i,a)}finally{Fe=_,se.p=h,L.T=l}}Mt=1,R_(),C_(),I_()}}function R_(){if(Mt===1){Mt=0;var t=zr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{a_(i,t);var d=qd,_=fg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&hg(T.ownerDocument.documentElement,T)){if(D!==null&&df(T)){var B=D.start,X=D.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=T.textContent.length,_e=Math.min(D.start,fe),Ze=D.end===void 0?_e:Math.min(D.end,fe);!K.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var U=cg(T,_e),M=cg(T,Ze);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var z=W.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),_e>Ze?(K.addRange(z),K.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),K.addRange(z))}}}}for(W=[],K=T;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}zc=!!Bd,qd=Bd=null}finally{Fe=h,se.p=l,L.T=a}}t.current=i,Mt=2}}function C_(){if(Mt===2){Mt=0;var t=zr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{t_(t,i.alternate,i)}finally{Fe=h,se.p=l,L.T=a}}Mt=3}}function I_(){if(Mt===4||Mt===3){Mt=0,_u();var t=zr,i=qa,a=Ji,l=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,qa=zr=null,x_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),Pi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,h=se.p,se.p=2,L.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{L.T=i,se.p=h}}(Ji&3)!==0&&Ic(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Tl++:(Tl=0,Id=t):Tl=0,Sl(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ic(){return R_(),C_(),I_(),D_()}function D_(){if(Mt!==5)return!1;var t=zr,i=Rd;Rd=0;var a=Pi(Ji),l=L.T,h=se.p;try{se.p=32>a?32:a,L.T=null,a=Cd,Cd=null;var d=zr,_=Ji;if(Mt=0,qa=zr=null,Ji=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,h_(d.current),l_(d,d.current,_,a),Fe=T,Sl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,L.T=l,x_(t,i)}}function N_(t,i,a){i=Dn(a,i),i=ad(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(vs(t,2),wi(t))}function Xe(t,i,a){if(t.tag===3)N_(t,t,a);else for(;i!==null;){if(i.tag===3){N_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=Dn(a,t),a=Oy(2),l=Mr(i,a,2),l!==null&&(My(a,l,i,t),vs(l,2),wi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new jb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=Fb.bind(null,t,i,a),i.then(t,t))}function Fb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>tn()-Sc?(Fe&2)===0&&Ha(t,0):Ad|=a,Ba===Oe&&(Ba=0)),wi(t)}function O_(t,i){i===0&&(i=Au()),t=Ms(t,i),t!==null&&(vs(t,i),wi(t))}function Gb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),O_(t,a)}function Qb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),O_(t,a)}function Kb(t,i){return Ot(t,i)}var xc=null,Ga=null,Od=!1,Dc=!1,Md=!1,qr=0;function wi(t){t!==Ga&&t.next===null&&(Ga===null?xc=Ga=t:Ga=Ga.next=t),Dc=!0,Od||(Od=!0,Xb())}function Sl(t,i){if(!Md&&Dc){Md=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Oe,d=oi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Md=!1}}function Yb(){M_()}function M_(){Dc=Od=!1;var t=0;qr!==0&&sA()&&(t=qr);for(var i=tn(),a=null,l=xc;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Mt!==0&&Mt!==5||Sl(t),qr!==0&&(qr=0)}function V_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lf(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=Oe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),Pi(a)){case 2:case 8:a=Oo;break;case 32:a=yr;break;case 268435456:a=vu;break;default:a=yr}return l=P_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Oe;return l=oi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),V_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function k_(t,i){if(Ic())return null;g_(t,i,!0)}function Xb(){oA(function(){(Fe&6)!==0?Ot(No,Yb):M_()})}function Vd(){if(qr===0){var t=Da;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),qr=t}return qr}function L_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $b(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=L_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?L_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?U_(h,_):new FormData(h);ed(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?U_(h,_):new FormData(h),ed(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Pd=0;Pd<yf.length;Pd++){var kd=yf[Pd],Wb=kd.toLowerCase(),Jb=kd[0].toUpperCase()+kd.slice(1);$n(Wb,"on"+Jb)}$n(pg,"onAnimationEnd"),$n(gg,"onAnimationIteration"),$n(yg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(mb,"onTransitionRun"),$n(pb,"onTransitionStart"),$n(gb,"onTransitionCancel"),$n(_g,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function j_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){Gu(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){Gu(X)}h.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=t+"__bubble";a.has(l)||(z_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),z_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Nc]){t[Nc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(Zb.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Ld("selectionchange",!1,i))}}function z_(t,i,a,l){switch(pv(i)){case 2:var h=CA;break;case 8:h=IA;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}br(function(){var B=d,X=Rn(a),W=[];e:{var F=vg.get(t);if(F!==void 0){var K=_i,fe=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":K=qu;break;case"focusin":fe="focus",K=xs;break;case"focusout":fe="blur",K=xs;break;case"beforeblur":case"afterblur":K=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case pg:case gg:case yg:K=Pu;break;case _g:K=A;break;case"scroll":case"scrollend":K=Ko;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ui;break;case"toggle":case"beforetoggle":K=Re}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=B,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||U===null||($=Qn(M,U),$!=null&&_e.push(Al(M,$,z))),Ze)break;M=M.return}0<_e.length&&(F=new K(F,fe,null,a,X),W.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Fo&&(fe=a.relatedTarget||a.fromElement)&&(hi(fe)||fe[ui]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=B,fe=fe?hi(fe):null,fe!==null&&(Ze=u(fe),_e=fe.tag,fe!==Ze||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(K=null,fe=B),K!==fe)){if(_e=Yo,$="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ui,$="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=K==null?F:mn(K),z=fe==null?F:mn(fe),F=new _e($,M+"leave",K,a,X),F.target=Ze,F.relatedTarget=z,$=null,hi(X)===B&&(_e=new _e(U,M+"enter",fe,a,X),_e.target=z,_e.relatedTarget=Ze,$=_e),Ze=$,K&&fe)t:{for(_e=eA,U=K,M=fe,z=0,$=U;$;$=_e($))z++;$=0;for(var me=M;me;me=_e(me))$++;for(;0<z-$;)U=_e(U),z--;for(;0<$-z;)M=_e(M),$--;for(;z--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;K!==null&&B_(W,F,K,_e,!1),fe!==null&&Ze!==null&&B_(W,Ze,fe,_e,!0)}}e:{if(F=B?mn(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Be=rg;else if(ng(F))if(sg)Be=hb;else{Be=ub;var de=lb}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&ma(B.elementType)&&(Be=rg):Be=cb;if(Be&&(Be=Be(t,B))){ig(W,Be,a,X);break e}de&&de(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Bo(F,"number",F.value)}switch(de=B?mn(B):window,t){case"focusin":(ng(de)||de.contentEditable==="true")&&(Sa=de,mf=B,Zo=null);break;case"focusout":Zo=mf=Sa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,dg(W,a,X);break;case"selectionchange":if(db)break;case"keydown":case"keyup":dg(W,a,X)}var xe;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ta?Ds(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ti&&a.locale!=="ko"&&(Ta||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ta&&(xe=Qo()):(yi=X,Go="value"in yi?yi.value:yi.textContent,Ta=!0)),de=Oc(B,Me),0<de.length&&(Me=new Ei(Me,t,null,a,X),W.push({event:Me,listeners:de}),xe?Me.data=xe:(xe=Ea(a),xe!==null&&(Me.data=xe)))),(xe=In?rb(t,a):sb(t,a))&&(Me=Oc(B,"onBeforeInput"),0<Me.length&&(de=new Ei("onBeforeInput","beforeinput",null,a,X),W.push({event:de,listeners:Me}),de.data=xe)),$b(W,t,B,a,X)}j_(W,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Qn(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function eA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=Qn(a,d),B!=null&&_.unshift(Al(a,B,D))):h||(B=Qn(a,d),B!=null&&_.push(Al(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(tA,`
`).replace(nA,"")}function H_(t,i){return i=q_(i),q_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),fa(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,fa(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}xu(t,d,T,D,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Er(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ne(bl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(ma(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function iA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,B=null,X=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,W)}}for(var F in l){var K=l[F];if(W=a[F],l.hasOwnProperty(F)&&(K!=null||W!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==W&&Je(t,i,F,K,l,W)}}da(t,_,T,D,B,X,d,h);return;case"select":K=_=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,h,d,l,D)}i=T,a=_,l=K,F!=null?vr(t,!!a,F,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Du(t,F,K);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,i,fe,null,l,F)}for(D in l)if(F=l[D],K=a[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,i,D,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,F);for(B in l)if(F=l[B],K=a[B],l.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,B,F,l,K)}return;default:if(ma(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&zd(t,i,Ze,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||zd(t,i,X,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F==null&&K==null||Je(t,i,W,F,l,K)}function F_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&F_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var X=D.transferSize,W=D.initiatorType;X&&F_(W)&&(D=D.responseEnd,_+=X*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function sA(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(lA)}:K_;function lA(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function X_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Xa(i)}function $_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function cA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function W_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function J_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ev(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ha(t)}var kn=new Map,tv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=se.d;se.d={f:fA,r:dA,D:mA,C:pA,L:gA,m:yA,X:vA,S:_A,M:EA};function fA(){var t=Zi.f(),i=wc();return t||i}function dA(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?_y(i):Zi.r(t)}var Qa=typeof document>"u"?null:document;function nv(t,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function mA(t){Zi.D(t),nv("dns-prefetch",t,null)}function pA(t,i){Zi.C(t,i),nv("preconnect",t,i)}function gA(t,i,a){Zi.L(t,i,a);var l=Qa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Ya(t)}kn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function yA(t,i){Zi.m(t,i);var a=Qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!kn.has(d)&&(t=S({rel:"modulepreload",href:t},i),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function _A(t,i,a){Zi.S(t,i,a);var l=Qa;if(l&&t){var h=fi(l).hoistableStyles,d=Ka(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Rl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=kn.get(d))&&Xd(t,a);var D=_=l.createElement("link");St(D),Gt(D,"link",t),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function vA(t,i){Zi.X(t,i);var a=Qa;if(a&&t){var l=fi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0},i),(i=kn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function EA(t,i){Zi.M(t,i);var a=Qa;if(a&&t){var l=fi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=kn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,i,a,l){var h=(h=Ie.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||TA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+sn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function TA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function Ya(t){return'[src="'+sn(t)+'"]'}function Cl(t){return"script[async]"+t}function sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=rv(a),(h=kn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,St(h),h):(l=a,(h=kn.get(d))&&(l=S({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function av(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function SA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=rv(l),(h=kn.get(h))&&Xd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function AA(t,i){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*rA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(wA,t),Uc=null,Lc.call(t))}function wA(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:ie,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function RA(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function uv(t,i,a,l,h,d,_,T,D,B,X,W){return t=new RA(t,i,a,_,D,B,X,W,T),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function cv(t){return t?(t=wa,t):wa}function hv(t,i,a,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(hn(a,t,i),al(a,t,i))}function fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){fv(t,i),(t=t.alternate)&&fv(t,i)}function dv(t){if(t.tag===13||t.tag===31){var i=Ms(t,67108864);i!==null&&hn(i,t,67108864),Jd(t,67108864)}}function mv(t){if(t.tag===13||t.tag===31){var i=Sn();i=Ts(i);var a=Ms(t,i);a!==null&&hn(a,t,i),Jd(t,i)}}var zc=!0;function CA(t,i,a,l){var h=L.T;L.T=null;var d=se.p;try{se.p=2,Zd(t,i,a,l)}finally{se.p=d,L.T=h}}function IA(t,i,a,l){var h=L.T;L.T=null;var d=se.p;try{se.p=8,Zd(t,i,a,l)}finally{se.p=d,L.T=h}}function Zd(t,i,a,l){if(zc){var h=em(l);if(h===null)jd(t,i,l,Bc,a),gv(t,l);else if(DA(h,t,i,a,l))l.stopPropagation();else if(gv(t,l),i&4&&-1<xA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-dt(_);T.entanglements[1]|=D,_&=~D}wi(d),(Fe&6)===0&&(bc=tn()+500,Sl(0))}}break;case 31:case 13:T=Ms(d,2),T!==null&&hn(T,d,2),wc(),Jd(d,2)}if(d=em(l),d===null&&jd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function em(t){return t=Rn(t),tm(t)}var Bc=null;function tm(t){if(Bc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case No:return 2;case Oo:return 8;case yr:case of:return 32;case vu:return 268435456;default:return 32}default:return 32}}var nm=!1,Fr=null,Gr=null,Qr=null,xl=new Map,Dl=new Map,Kr=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function DA(t,i,a,l,h){switch(i){case"focusin":return Fr=Nl(Fr,t,i,a,l,h),!0;case"dragenter":return Gr=Nl(Gr,t,i,a,l,h),!0;case"mouseover":return Qr=Nl(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Nl(xl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function yv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){mv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=wn(a),i!==null&&dv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){qc(t)&&a.delete(i)}function NA(){nm=!1,Fr!==null&&qc(Fr)&&(Fr=null),Gr!==null&&qc(Gr)&&(Gr=null),Qr!==null&&qc(Qr)&&(Qr=null),xl.forEach(_v),Dl.forEach(_v)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NA)))}var Fc=null;function vv(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(D){return Hc(D,t)}Fr!==null&&Hc(Fr,t),Gr!==null&&Hc(Gr,t),Qr!==null&&Hc(Qr,t),xl.forEach(i),Dl.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||vv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),vv(a)}}}function Ev(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Gc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();hv(a,l,t,i,null,null)},Gc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),wc(),i[ui]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&yv(t)}};var Tv=e.version;if(Tv!=="19.2.0")throw Error(s(527,Tv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var OA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Bn=Qc.inject(OA),zt=Qc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Iy,d=xy,_=Dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=uv(t,1,!1,null,null,a,l,null,h,d,_,Ev),t[ui]=i.current,Ud(t),new im(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Iy,_=xy,T=Dy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=uv(t,1,!0,i,a??null,l,h,D,d,_,T,Ev),i.context=cv(null),a=i.current,l=Sn(),l=Ts(l),h=Or(l),h.callback=null,Mr(a,h,l),a=l,i.current.lanes=a,vs(i,a),wi(i),t[ui]=i.current,Ud(t),new Gc(i)},Ml.version="19.2.0",Ml}var Nv;function FA(){if(Nv)return am.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=HA(),am.exports}var GA=FA();var Ov="popstate";function QA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return YA(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substring(2,10)}function Mv(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||KA()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function YA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),ne=H==null?null:H-p;p=H,y&&y({action:m,location:Y.location,delta:ne})}function w(H,ne){m="PUSH";let re=Am(Y.location,H,ne);p=E()+1;let ie=Mv(re,p),ge=Y.createHref(re);try{f.pushState(ie,"",ge)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ge)}u&&y&&y({action:m,location:Y.location,delta:1})}function O(H,ne){m="REPLACE";let re=Am(Y.location,H,ne);p=E();let ie=Mv(re,p),ge=Y.createHref(re);f.replaceState(ie,"",ge),u&&y&&y({action:m,location:Y.location,delta:0})}function G(H){return XA(H)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Ov,S),y=H,()=>{o.removeEventListener(Ov,S),y=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let ne=G(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:O,go(H){return f.go(H)}};return Y}function XA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function d0(r,e,n="/"){return $A(r,e,n,!1)}function $A(r,e,n,s){let o=typeof e=="string"?go(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=m0(r);WA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let p=l1(u);m=a1(f[y],p,s)}return m}function m0(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=sr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),m0(f.children,e,w,S,y)),!(f.path==null&&!f.index)&&e.push({path:S,score:r1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of p0(f.path))u(f,m,!0,y)}),e}function p0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=p0(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function WA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:s1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JA=/^:[\w-]+$/,ZA=3,e1=2,t1=1,n1=10,i1=-2,Vv=r=>r==="*";function r1(r,e){let n=r.split("/"),s=n.length;return n.some(Vv)&&(s+=i1),e&&(s+=e1),n.filter(o=>!Vv(o)).reduce((o,u)=>o+(JA.test(u)?ZA:u===""?t1:n1),s)}function s1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function a1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=dh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),w=y.route;if(!S&&p&&n&&!s[s.length-1].route.index&&(S=dh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:sr([u,S.pathname]),pathnameBase:d1(sr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=sr([u,S.pathnameBase]))}return f}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=o1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const O=m[w];return S&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function o1(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function l1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=r=>u1.test(r);function h1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?go(r):r,u;if(n)if(c1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Pv(n.substring(1),"/"):u=Pv(n,e)}else u=e;return{pathname:u,search:m1(s),hash:p1(o)}}function Pv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=f1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=go(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let y=h1(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),d1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,p1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function g1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g0=["POST","PUT","PATCH","DELETE"];new Set(g0);var y1=["GET",...g0];new Set(y1);var yo=q.createContext(null);yo.displayName="DataRouter";var Ph=q.createContext(null);Ph.displayName="DataRouterState";q.createContext(!1);var y0=q.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var _1=q.createContext(new Map);_1.displayName="Fetchers";var v1=q.createContext(null);v1.displayName="Await";var ii=q.createContext(null);ii.displayName="Navigation";var iu=q.createContext(null);iu.displayName="Location";var Vi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var rp=q.createContext(null);rp.displayName="RouteError";function E1(r,{relative:e}={}){ut(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(ii),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _o(){return q.useContext(iu)!=null}function mr(){return ut(_o(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(iu).location}var _0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(r){q.useContext(ii).static||q.useLayoutEffect(r)}function sp(){let{isDataRoute:r}=q.useContext(Vi);return r?M1():T1()}function T1(){ut(_o(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(yo),{basename:e,navigator:n}=q.useContext(ii),{matches:s}=q.useContext(Vi),{pathname:o}=mr(),u=JSON.stringify(np(s)),f=q.useRef(!1);return v0(()=>{f.current=!0}),q.useCallback((y,p={})=>{if(zn(f.current,_0),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=ip(y,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}q.createContext(null);function ru(r,{relative:e}={}){let{matches:n}=q.useContext(Vi),{pathname:s}=mr(),o=JSON.stringify(np(n));return q.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function S1(r,e){return E0(r,e)}function E0(r,e,n,s,o){ut(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(ii),{matches:f}=q.useContext(Vi),m=f[f.length-1],y=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let re=S&&S.path||"";T0(p,!S||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let w=mr(),O;if(e){let re=typeof e=="string"?go(e):e;ut(E==="/"||re.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),O=re}else O=w;let G=O.pathname||"/",Y=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let H=d0(r,{pathname:Y});zn(S||H!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=C1(H&&H.map(re=>Object.assign({},re,{params:Object.assign({},y,re.params),pathname:sr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:sr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ne?q.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ne):ne}function b1(){let r=O1(),e=g1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var A1=q.createElement(b1,null),w1=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?q.createElement(Vi.Provider,{value:this.props.routeContext},q.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R1({routeContext:r,match:e,children:n}){let s=q.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vi.Provider,{value:r},n)}function C1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,y=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=E),S.route.id){let{loaderData:w,errors:O}=n,G=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!O||O[S.route.id]===void 0);if(S.route.lazy||G){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let O,G=!1,Y=null,H=null;n&&(O=f&&S.route.id?f[S.route.id]:void 0,Y=S.route.errorElement||A1,m&&(y<0&&w===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,H=null):y===w&&(G=!0,H=S.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),re=()=>{let ie;return O?ie=Y:G?ie=H:S.route.Component?ie=q.createElement(S.route.Component,null):S.route.element?ie=S.route.element:ie=E,q.createElement(R1,{match:S,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?q.createElement(w1,{location:n.location,revalidation:n.revalidation,component:Y,error:O,children:re(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):re()},null)}function ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(r){let e=q.useContext(yo);return ut(e,ap(r)),e}function x1(r){let e=q.useContext(Ph);return ut(e,ap(r)),e}function D1(r){let e=q.useContext(Vi);return ut(e,ap(r)),e}function op(r){let e=D1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function N1(){return op("useRouteId")}function O1(){let r=q.useContext(rp),e=x1("useRouteError"),n=op("useRouteError");return r!==void 0?r:e.errors?.[n]}function M1(){let{router:r}=I1("useNavigate"),e=op("useNavigate"),n=q.useRef(!1);return v0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{zn(n.current,_0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var kv={};function T0(r,e,n){!e&&!kv[r]&&(kv[r]=!0,zn(!1,n))}q.memo(V1);function V1({routes:r,future:e,state:n,unstable_onError:s}){return E0(r,void 0,n,s,e)}function wm({to:r,replace:e,state:n,relative:s}){ut(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(ii);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Vi),{pathname:f}=mr(),m=sp(),y=ip(r,np(u),f,s==="path"),p=JSON.stringify(y);return q.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function er(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:y="/",search:p="",hash:E="",state:S=null,key:w="default"}=n,O=q.useMemo(()=>{let G=ur(y,f);return G==null?null:{location:{pathname:G,search:p,hash:E,state:S,key:w},navigationType:s}},[f,y,p,E,S,w,s]);return zn(O!=null,`<Router basename="${f}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:q.createElement(ii.Provider,{value:m},q.createElement(iu.Provider,{children:e,value:O}))}function k1({children:r,location:e}){return S1(Rm(r),e)}function Rm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Rm(s.props.children,u));return}ut(s.type===er,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function L1(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function U1(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function j1(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function B1(r,e){return r.button===0&&(!e||e==="_self")&&!z1(r)}var Kc=null;function q1(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var H1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!H1.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function F1(r,e){let n,s,o,u,f;if(U1(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||th,o=hm(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(L1(r)||j1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?ur(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!q1()){let{name:p,type:E,value:S}=r;if(E==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,S)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function G1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Q1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Y1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Q1(u,n);return f.links?f.links():[]}return[]}));return J1(s.flat(1).filter(K1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(r,e,n,s,o,u){let f=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>f(y,p)||m(y,p)):u==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function X1(r,e,{includeHydrateFallback:n}={}){return $1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $1(r){return[...new Set(r)]}function W1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function J1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(W1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function S0(){let r=q.useContext(yo);return lp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Z1(){let r=q.useContext(Ph);return lp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var up=q.createContext(void 0);up.displayName="FrameworkContext";function b0(){let r=q.useContext(up);return lp(r,"You must render this element inside a <HydratedRouter> element"),r}function ew(r,e){let n=q.useContext(up),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=ne=>{ne.forEach(re=>{f(re.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let O=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(m,O),onBlur:Vl(y,G),onMouseEnter:Vl(p,O),onMouseLeave:Vl(E,G),onTouchStart:Vl(S,O)}]:[!1,w,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function tw({page:r,...e}){let{router:n}=S0(),s=q.useMemo(()=>d0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(iw,{page:r,matches:s,...e}):null}function nw(r){let{manifest:e,routeModules:n}=b0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Y1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function iw({page:r,matches:e,...n}){let s=mr(),{manifest:o,routeModules:u}=b0(),{basename:f}=S0(),{loaderData:m,matches:y}=Z1(),p=q.useMemo(()=>Lv(r,e,y,o,s,"data"),[r,e,y,o,s]),E=q.useMemo(()=>Lv(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(ne=>{let re=o.routes[ne.route.id];!re||!re.hasLoader||(!p.some(ie=>ie.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||re.hasClientLoader?Y=!0:G.add(ne.route.id))}),G.size===0)return[];let H=G1(r,f,"data");return Y&&G.size>0&&H.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,p,e,r,u]),w=q.useMemo(()=>X1(E,o),[E,o]),O=nw(E);return q.createElement(q.Fragment,null,S.map(G=>q.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>q.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),O.map(({key:G,link:Y})=>q.createElement("link",{key:G,nonce:n.nonce,...Y})))}function rw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.9.6")}catch{}function sw({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=QA({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(y=>{q.startTransition(()=>f(y))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(P1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mh=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:p,preventScrollReset:E,viewTransition:S,...w},O){let{basename:G}=q.useContext(ii),Y=typeof p=="string"&&w0.test(p),H,ne=!1;if(typeof p=="string"&&Y&&(H=p,A0))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),N=ur(P.pathname,G);P.origin===C.origin&&N!=null?p=N+P.search+P.hash:ne=!0}catch{zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=E1(p,{relative:o}),[ie,ge,Se]=ew(s,w),te=uw(p,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||te(C)}let R=q.createElement("a",{...w,...Se,href:H||re,onClick:ne||u?e:x,ref:rw(O,ge),target:y,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?q.createElement(q.Fragment,null,R,q.createElement(tw,{page:re})):R});mh.displayName="Link";var aw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...p},E){let S=ru(f,{relative:p.relative}),w=mr(),O=q.useContext(Ph),{navigator:G,basename:Y}=q.useContext(ii),H=O!=null&&mw(S)&&m===!0,ne=G.encodeLocation?G.encodeLocation(S).pathname:S.pathname,re=w.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(re=re.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&Y&&(ie=ur(ie,Y)||ie);const ge=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=re===ne||!o&&re.startsWith(ne)&&re.charAt(ge)==="/",te=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),x={isActive:Se,isPending:te,isTransitioning:H},R=Se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Se?"active":null,te?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(x):u;return q.createElement(mh,{...p,"aria-current":R,className:C,ref:E,style:P,to:f,viewTransition:m},typeof y=="function"?y(x):y)});aw.displayName="NavLink";var ow=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:S,...w},O)=>{let G=fw(),Y=dw(m,{relative:p}),H=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&w0.test(m),re=ie=>{if(y&&y(ie),ie.defaultPrevented)return;ie.preventDefault();let ge=ie.nativeEvent.submitter,Se=ge?.getAttribute("formmethod")||f;G(ge||ie.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:O,method:H,action:Y,onSubmit:s?y:re,...w,"data-discover":!ne&&r==="render"?"true":void 0})});ow.displayName="Form";function lw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(r){let e=q.useContext(yo);return ut(e,lw(r)),e}function uw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=sp(),y=mr(),p=ru(r,{relative:u});return q.useCallback(E=>{if(B1(E,e)){E.preventDefault();let S=n!==void 0?n:Kl(y)===Kl(p);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,p,n,s,e,r,o,u,f])}var cw=0,hw=()=>`__${String(++cw)}__`;function fw(){let{router:r}=R0("useSubmit"),{basename:e}=q.useContext(ii),n=N1();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:p}=F1(s,e);if(o.navigate===!1){let E=o.fetcherKey||hw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function dw(r,{relative:e}={}){let{basename:n}=q.useContext(ii),s=q.useContext(Vi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=mr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Kl(u)}function mw(r,{relative:e}={}){let n=q.useContext(y0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R0("useViewTransitionState"),o=ru(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,f)!=null||dh(o.pathname,u)!=null}const pw=()=>{};var Uv={};const C0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,O=p&63;y||(O=64,f||(w=64)),s.push(n[E],n[S],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(C0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new yw;const w=u<<2|m>>4;if(s.push(w),p!==64){const O=m<<4&240|p>>2;if(s.push(O),S!==64){const G=p<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _w=function(r){const e=C0(r);return I0.encodeByteArray(e,!0)},ph=function(r){return _w(r).replace(/\./g,"")},x0=function(r){try{return I0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ew=()=>vw().__FIREBASE_DEFAULTS__,Tw=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Sw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&x0(r[1]);return e&&JSON.parse(e)},Lh=()=>{try{return pw()||Ew()||Tw()||Sw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},D0=r=>Lh()?.emulatorHosts?.[r],bw=r=>{const e=D0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},N0=()=>Lh()?.config,O0=r=>Lh()?.[`_${r}`];class Aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(r){return(await fetch(r,{credentials:"include"})).ok}function ww(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const Bl={};function Rw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function Cw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jv=!1;function V0(r,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Bl[r]===e||Bl[r]||jv)return;Bl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Rw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Cw(s),O=n("text"),G=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),E(H,Y);const ge=p();y(re,ne),ie.append(re,G,H,ge),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function xw(){const r=Lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Vw(){return!xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pw(){try{return typeof indexedDB=="object"}catch{return!1}}function kw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Lw="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Lw,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Uw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function Uw(r,e){return r.replace(jw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jw=/\{\$([^}]+)}/g;function zw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(zv(u)&&zv(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Bw(r,e){const n=new qw(r,e);return n.subscribe.bind(n)}class qw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Hw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qs="[DEFAULT]";class Fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Aw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qw(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(r){return r===Qs?void 0:r}function Qw(r){return r.instantiationMode==="EAGER"}class Kw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const Yw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Xw=Ve.INFO,$w={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ww=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$w[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=Xw,this._logHandler=Ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Jw=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function Zw(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,Cm=new WeakMap,k0=new WeakMap,dm=new WeakMap,hp=new WeakMap;function tR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&P0.set(n,r)}).catch(()=>{}),hp.set(e,r),e}function nR(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iR(r){Im=r(Im)}function rR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return k0.set(s,e.sort?e.sort():[e]),es(s)}:eR().includes(r)?function(...e){return r.apply(mm(this),e),es(P0.get(this))}:function(...e){return es(r.apply(mm(this),e))}}function sR(r){return typeof r=="function"?rR(r):(r instanceof IDBTransaction&&nR(r),Jw(r,Zw())?new Proxy(r,Im):r)}function es(r){if(r instanceof IDBRequest)return tR(r);if(dm.has(r))return dm.get(r);const e=sR(r);return e!==r&&(dm.set(r,e),hp.set(e,r)),e}const mm=r=>hp.get(r);function aR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",y=>{s(es(f.result),y.oldVersion,y.newVersion,es(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const oR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],pm=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return pm.set(e,u),u}iR(r=>({...r,get:(e,n,s)=>Hv(e,n)||r.get(e,n,s),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cR(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",Fv="0.14.6";const cr=new cp("@firebase/app"),hR="@firebase/app-compat",fR="@firebase/analytics-compat",dR="@firebase/analytics",mR="@firebase/app-check-compat",pR="@firebase/app-check",gR="@firebase/auth",yR="@firebase/auth-compat",_R="@firebase/database",vR="@firebase/data-connect",ER="@firebase/database-compat",TR="@firebase/functions",SR="@firebase/functions-compat",bR="@firebase/installations",AR="@firebase/installations-compat",wR="@firebase/messaging",RR="@firebase/messaging-compat",CR="@firebase/performance",IR="@firebase/performance-compat",xR="@firebase/remote-config",DR="@firebase/remote-config-compat",NR="@firebase/storage",OR="@firebase/storage-compat",MR="@firebase/firestore",VR="@firebase/ai",PR="@firebase/firestore-compat",kR="firebase",LR="12.6.0";const Dm="[DEFAULT]",UR={[xm]:"fire-core",[hR]:"fire-core-compat",[dR]:"fire-analytics",[fR]:"fire-analytics-compat",[pR]:"fire-app-check",[mR]:"fire-app-check-compat",[gR]:"fire-auth",[yR]:"fire-auth-compat",[_R]:"fire-rtdb",[vR]:"fire-data-connect",[ER]:"fire-rtdb-compat",[TR]:"fire-fn",[SR]:"fire-fn-compat",[bR]:"fire-iid",[AR]:"fire-iid-compat",[wR]:"fire-fcm",[RR]:"fire-fcm-compat",[CR]:"fire-perf",[IR]:"fire-perf-compat",[xR]:"fire-rc",[DR]:"fire-rc-compat",[NR]:"fire-gcs",[OR]:"fire-gcs-compat",[MR]:"fire-fst",[PR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};const gh=new Map,jR=new Map,Nm=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Nm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of gh.values())Gv(n,r);for(const n of jR.values())Gv(n,r);return!0}function fp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const zR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new su("app","Firebase",zR);class BR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const Eo=LR;function L0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=N0()),!n)throw ts.create("no-options");const u=gh.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new Kw(o);for(const y of Nm.values())f.addComponent(y);const m=new BR(n,s,f);return gh.set(o,m),m}function U0(r=Dm){const e=gh.get(r);if(!e&&r===Dm&&N0())return L0();if(!e)throw ts.create("no-app",{appName:r});return e}function ns(r,e,n){let s=UR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}lo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const qR="firebase-heartbeat-database",HR=1,Yl="firebase-heartbeat-store";let gm=null;function j0(){return gm||(gm=aR(qR,HR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),gm}async function FR(r){try{const n=(await j0()).transaction(Yl),s=await n.objectStore(Yl).get(z0(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function Qv(r,e){try{const s=(await j0()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,z0(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}const GR=1024,QR=30;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>QR){const o=$R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kv(),{heartbeatsToSend:n,unsentEntries:s}=YR(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function YR(r,e=GR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pw()?kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function $R(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function WR(r){lo(new Ws("platform-logger",e=>new uR(e),"PRIVATE")),lo(new Ws("heartbeat",e=>new KR(e),"PRIVATE")),ns(xm,Fv,r),ns(xm,Fv,"esm2020"),ns("fire-js","")}WR("");var JR="firebase",ZR="12.6.0";ns(JR,ZR,"app");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,B0;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(P,N,k){for(var I=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)I[Qe-2]=arguments[Qe];return R.prototype[N].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)P[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],N=x.g[2];let k=x.g[3],I;I=R+(k^C&(N^k))+P[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(N^R&(C^N))+P[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=N+(C^k&(R^C))+P[2]+606105819&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(R^N&(k^R))+P[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(k^C&(N^k))+P[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(N^R&(C^N))+P[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=N+(C^k&(R^C))+P[6]+2821735955&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(R^N&(k^R))+P[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(k^C&(N^k))+P[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(N^R&(C^N))+P[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=N+(C^k&(R^C))+P[10]+4294925233&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(R^N&(k^R))+P[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(k^C&(N^k))+P[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(N^R&(C^N))+P[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=N+(C^k&(R^C))+P[14]+2792965006&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(R^N&(k^R))+P[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(N^k&(C^N))+P[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(R^C))+P[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(k^R))+P[11]+643717713&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(N^k))+P[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^k&(C^N))+P[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(R^C))+P[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(k^R))+P[15]+3634488961&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(N^k))+P[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^k&(C^N))+P[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(R^C))+P[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(k^R))+P[3]+4107603335&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(N^k))+P[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^k&(C^N))+P[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(R^C))+P[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(k^R))+P[7]+1735328473&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(N^k))+P[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(C^N^k)+P[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^N)+P[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=N+(k^R^C)+P[11]+1839030562&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^R)+P[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^k)+P[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^N)+P[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=N+(k^R^C)+P[7]+4139469664&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^R)+P[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^k)+P[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^N)+P[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=N+(k^R^C)+P[3]+3572445317&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^R)+P[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^k)+P[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^N)+P[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=N+(k^R^C)+P[15]+530742520&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^R)+P[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(N^(C|~k))+P[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~N))+P[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=N+(R^(k|~C))+P[14]+2878612391&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~R))+P[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~k))+P[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~N))+P[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=N+(R^(k|~C))+P[10]+4293915773&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~R))+P[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~k))+P[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~N))+P[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=N+(R^(k|~C))+P[6]+2734768916&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~R))+P[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~k))+P[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~N))+P[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=N+(R^(k|~C))+P[2]+718787259&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~R))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,P=this.C;let N=this.h,k=0;for(;k<R;){if(N==0)for(;k<=C;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<R;)if(P[N++]=x.charCodeAt(k++),N==this.blockSize){o(this,P),N=0;break}}else for(;k<R;)if(P[N++]=x[k++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)x[R++]=this.g[C]>>>P&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let P=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;P&&k==R||(C[N]=k,P=!1)}this.g=C}var m={};function y(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return H(p(-x));const R=[];let C=1;for(let P=0;x>=C;P++)R[P]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let P=S;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const I=parseInt(x.substring(k,k+N),R);N<8?(N=p(Math.pow(R,N)),P=P.j(N).add(p(I))):(P=P.j(C),P=P.add(p(I)))}return P}var S=y(0),w=y(1),O=y(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);x+=(P>=0?P:4294967296+P)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(Y(this))return"-"+H(this).toString(x);const R=p(Math.pow(x,6));var C=this;let P="";for(;;){const N=ge(C,R).g;C=ne(C,N.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,G(C))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=ne(this,x),Y(x)?-1:G(x)?0:1};function H(x){const R=x.g.length,C=[];for(let P=0;P<R;P++)C[P]=~x.g[P];return new f(C,~x.h).add(w)}r.abs=function(){return Y(this)?H(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let P=0;for(let N=0;N<=R;N++){let k=P+(this.i(N)&65535)+(x.i(N)&65535),I=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);P=I>>>16,k&=65535,I&=65535,C[N]=I<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,R){return x.add(H(R))}r.j=function(x){if(G(this)||G(x))return S;if(Y(this))return Y(x)?H(this).j(H(x)):H(H(this).j(x));if(Y(x))return H(this.j(H(x)));if(this.l(O)<0&&x.l(O)<0)return p(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<x.g.length;N++){const k=this.i(P)>>>16,I=this.i(P)&65535,Qe=x.i(N)>>>16,et=x.i(N)&65535;C[2*P+2*N]+=I*et,re(C,2*P+2*N),C[2*P+2*N+1]+=k*et,re(C,2*P+2*N+1),C[2*P+2*N+1]+=I*Qe,re(C,2*P+2*N+1),C[2*P+2*N+2]+=k*Qe,re(C,2*P+2*N+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function re(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function ge(x,R){if(G(R))throw Error("division by zero");if(G(x))return new ie(S,S);if(Y(x))return R=ge(H(x),R),new ie(H(R.g),H(R.h));if(Y(R))return R=ge(x,H(R)),new ie(H(R.g),R.h);if(x.g.length>30){if(Y(x)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,P=R;P.l(x)<=0;)C=Se(C),P=Se(P);var N=te(C,1),k=te(P,1);for(P=te(P,2),C=te(C,2);!G(P);){var I=k.add(P);I.l(x)<=0&&(N=N.add(C),k=I),P=te(P,1),C=te(C,1)}return R=ne(x,N.j(R)),new ie(N,R)}for(N=S;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=p(C),I=k.j(R);Y(I)||I.l(x)>0;)C-=P,k=p(C),I=k.j(R);G(k)&&(k=w),N=N.add(k),x=ne(x,I)}return new ie(N,x)}r.B=function(x){return ge(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&x.i(P);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|x.i(P);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^x.i(P);return new f(C,this.h^x.h)};function Se(x){const R=x.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=x.i(P)<<1|x.i(P-1)>>>31;return new f(C,x.h)}function te(x,R){const C=R>>5;R%=32;const P=x.g.length-C,N=[];for(let k=0;k<P;k++)N[k]=R>0?x.i(k+C)>>>R|x.i(k+C+1)<<32-R:x.i(k+C);return new f(N,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,B0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,is=f}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var q0,Ll,H0,ih,Om,F0,G0,Q0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,v){return c.call.apply(c.bind,arguments)}function p(c,g,v){return p=y,p.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,Q){for(var ae=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ae[Re-2]=arguments[Re];return g.prototype[j].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function G(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const Q=j.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=j[ae]}else c.push(j)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=x;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,v){const A=ie.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new Y(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,te=!1,x=new re,R=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var g=ie;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}te=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Qe(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(Qe,N),Qe.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),L=0;function se(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++L,this.da=this.fa=!1}function le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Le(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Q=0;Q<Z.length;Q++)v=Z[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,g,v,A,j){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=Ie(c,g,A,j);return ae>-1?(g=c[ae],v||(g.fa=!1)):(g=new se(g,this.src,Q,!!A,j),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=j>=0)&&Array.prototype.splice.call(A,j,1),Q&&(le(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,g,v,A){for(let j=0;j<c.length;++j){const Q=c[j];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==A)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Nt={};function at(c,g,v,A,j){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)at(c,g[Q],v,A,j);return null}return v=Do(v),c&&c[et]?c.J(g,v,m(A)?!!A.capture:!1,j):ps(c,g,v,!1,A,j)}function ps(c,g,v,A,j,Q){if(!g)throw Error("Invalid event type");const ae=m(j)?!!j.capture:!!j;let Re=gs(c);if(Re||(c[je]=Re=new he(c)),v=Re.add(g,v,A,ae,Q),v.proxy)return v;if(A=aa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=ae),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(ri(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return g.call(c.src,c.listener,v)}const g=Io;return c}function oa(c,g,v,A,j){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)oa(c,g[Q],v,A,j);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[et]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=Ie(g,v,A,j),v>-1&&(le(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=gs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ie(g,v,A,j)),(v=c>-1?g[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[et])Te(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ri(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=gs(g))?(Te(v,c),v.h==0&&(v.src=null,g[je]=null)):le(c)}}}function ri(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function Io(c,g){if(c.da)c=!0;else{g=new Qe(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,g)}return c}function gs(c){return c=c[je],c instanceof he?c:null}var xo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(g){return c.handleEvent(g)}),c[xo])}function vt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}S(vt,P),vt.prototype[et]=!0,vt.prototype.removeEventListener=function(c,g,v,A){oa(this,c,g,v,A)};function Ot(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var j=g;g=new N(A,c),oe(g,j)}j=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=g.g=v[ae],j=gr(Q,A,!0,g)&&j;if(Q=g.g=c,j=gr(Q,A,!0,g)&&j,j=gr(Q,A,!1,g)&&j,v)for(ae=0;ae<v.length;ae++)Q=g.g=v[ae],j=gr(Q,A,!1,g)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)le(v[A]);delete c.g[g],c.h--}}this.G=null},vt.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},vt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function gr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let Q=0;Q<g.length;++Q){const ae=g[Q];if(ae&&!ae.da&&ae.capture==v){const Re=ae.listener,mt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),j=Re.call(mt,A)!==!1&&j}}return j&&!A.defaultPrevented}function af(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function _u(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends P{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){P.call(this),this.h=c,this.g={}}S(ys,P);var No=[];function Oo(c){ye(c.g,function(g,v){this.g.hasOwnProperty(v)&&la(g)},c),c.g={}}ys.prototype.N=function(){ys.Z.N.call(this),Oo(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,of=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}S(zt,N);function An(){N.call(this,"c")}S(An,N);var dt={},Su=null;function ua(){return Su=Su||new vt}dt.Ia="serverreachability";function bu(c){N.call(this,dt.Ia,c)}S(bu,N);function si(c){const g=ua();Ot(g,new bu(g))}dt.STAT_EVENT="statevent";function _s(c,g){N.call(this,dt.STAT_EVENT,c),this.stat=g}S(_s,N);function Et(c){const g=ua();Ot(g,new _s(g,c))}dt.Ja="timingevent";function ai(c,g){N.call(this,dt.Ja,c),this.size=g}S(ai,N);function oi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function lf(c,g,v,A,j,Q){c.info(function(){if(c.g)if(Q){var ae="",Re=Q.split("&");for(let He=0;He<Re.length;He++){var mt=Re[He].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const In=ot.split("_");ae=In.length>=2&&In[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+ae})}function Au(c,g,v,A,j,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+Q+" "+ae})}function li(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+uf(c,v)+(A?" "+A:"")})}function vs(c,g){c.info(function(){return"TIMEOUT: "+g})}qn.prototype.info=function(){};function uf(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return yr(Q)}catch{return g}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Ts(){}S(Ts,Eu),Ts.prototype.g=function(){return new XMLHttpRequest},Vo=new Ts;function Pi(c){return encodeURIComponent(String(c))}function wu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Hn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function ui(c,g,v){c.M=1,c.A=Ss(bt(g)),c.u=v,c.R=!0,ca(c,null)}function ca(c,g){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=zu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(No[0]=j.toString()),j=No);for(let Q=0;Q<j.length;Q++){const ae=at(v,j[Q],A||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Kn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Re!=4||mt==7||(mt==8||He<=0?si(3):si(2)),hi(this);var g=this.g.ca();this.X=g;var v=cf(this);if(this.o=g==200,Au(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Et(12),mn(this),wn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Cu(this,v),ot==Pt){Re==4&&(this.m=4,Et(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ot,null),fi(this,ot);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(ae),ae.P=!0,Et(11))}}else li(this.i,this.l,v,null),fi(this,v);Re==4&&mn(this),this.o&&!this.K&&(Re==4?ku(this.j,this):(this.o=!1,ci(this)))}else Li(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),wn(this)}}}catch{}finally{}};function cf(c){if(!Ru(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,j=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(j&&Q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pt:(v=Number(g.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>g.length?Pt:(g=g.slice(A,A+v),c.C=A+v,g)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(p(c.aa,c),g)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vs(this.i,this.B),this.M!=2&&(si(),Et(17)),mn(this),this.m=2,wn(this)):ha(this,this.T-c)};function wn(c){c.j.I==0||c.K||ku(c.j,c)}function mn(c){hi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Oo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function fi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),wr(v);else break e;xs(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(p(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&va(v),!I(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let He=j[g];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const In=He[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ti=He[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Yn=He[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const Ds=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var Q=A.h;Q.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Lo(Q,Q.h),Q.h=null))}if(A.G){const Ea=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,Ke(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=ju(A,A.L?A.ba:null,A.W),ae.L){Uo(A.h,ae);var Re=ae,mt=A.O;mt&&(Re.H=mt),Re.D&&(hi(Re),ci(Re)),A.g=ae}else Vu(A);v.i.length>0&&vi(v)}else He[0]!="stop"&&He[0]!="close"||Ei(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(v,7):Ko(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Lo(c,g){c.g?c.g.add(g):c.h=g}function Uo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return O(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,Q=null;A>=0?(j=c[v].substring(0,A),Q=c[v].substring(A+1)):j=c[v],g(j,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof pn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,zo(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(Iu))?(this.l=!1,kt(this,g[1]||"",!0),this.o=pi(g[2]||""),this.g=pi(g[3]||"",!0),_r(this,g[4]),this.h=pi(g[5]||"",!0),zo(this,g[6]||"",!0),this.m=pi(g[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}pn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(bs(g,da,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(bs(g,da,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bs(v,v.charAt(0)=="/"?Bo:xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bs(v,Du)),c.join("")},pn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?kt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=g.h.lastIndexOf("/");j!=-1&&(A=g.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Q=[];for(let ae=0;ae<j.length;){const Re=j[ae++];Re=="."?A&&ae==j.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==j.length&&Q.push("")):(Q.push(Re),A=!0)}A=Q.join("/")}else A=j}return v?g.h=A:v=c.i.toString()!=="",v?zo(g,Ou(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new pn(c)}function kt(c,g,v){c.j=v?pi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function zo(c,g,v){g instanceof Er?(c.i=g,pa(c.i,c.l)):(v||(g=bs(g,vr)),c.i=new Er(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function Ss(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,xu=/[#\?:]/g,Bo=/[#\?]/g,vr=/[#\?@]/g,Du=/#/g;function Er(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,g){an(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Nu(c,g){an(c),g=Tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qo(c,g){return an(c),g=Tr(c,g),c.g.has(g)}r.forEach=function(c,g){an(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)};function Ho(c,g){an(c);let v=[];if(typeof g=="string")qo(c,g)&&(v=v.concat(c.g.get(Tr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return an(this),this.i=null,c=Tr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ho(this,c),c.length>0?String(c[0]):g):g};function ma(c,g,v){Nu(c,g),v.length>0&&(c.i=null,c.g.set(Tr(c,g),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const j=Pi(v);v=Ho(this,v);for(let Q=0;Q<v.length;Q++){let ae=j;v[Q]!==""&&(ae+="="+Pi(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Ou(c){const g=new Er;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pa(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Nu(this,A),ma(this,j,v))},c)),c.j=g}function Gn(c,g){const v=new qn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Fo(c,g){const v=new qn,A=new AbortController,j=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(j),Q.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new vu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,Eu),gi.prototype.g=function(){return new As(this.i,this.h)};function As(c,g){vt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(As,vt),r=As.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?br(this):Qn(this),this.readyState==3&&ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return ye(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function ws(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Pi(v):Ke(c,g,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,vt);var yi=/^https?$/i,Go=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Rs(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Rs(this,Q)}};function Rs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Qo(c),ki(c)}function Qo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},r.Xa=function(){Cs(this)};function Cs(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=Q===0){let ae=String(c.D).match(Iu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!yi.test(ae?ae.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Kn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Qo(c)}}finally{ki(c)}}}}function ki(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),of(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=wu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[j]||[];g[j]=Q,Q.push(v)}Le(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ar(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Et(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),vi(this)};function Ko(c){if(ya(c),c.I==3){var g=c.V++,v=bt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),Is(c,v),g=new Hn(c,c.j,g),g.M=2,g.A=Ss(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=zu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ci(g)}Uu(c)}function wr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function ya(c){wr(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!ko(c.h)&&!c.m){c.m=!0;var g=c.Ea;Se||R(),te||(Se(),te=!0),x.add(g,c),c.D=0}}function _a(c,g){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(p(c.Ea,c,g),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Hn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(j.J=Q,Q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Mu(this,j,g),v=bt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Is(this,v),Q&&(this.R?g="headers="+Pi(Cn(Q))+"&"+g:this.u&&ws(v,this.u,Q)),Lo(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),j.U=!0,ui(j,v,null)):ui(j,v,g),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||ko(this.h)||Yo(this))};function Yo(c,g){var v;g?v=g.l:v=c.V++;const A=bt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Is(c,A),c.u&&c.o&&ws(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),ui(v,A,g)}function Is(c,g){c.H&&ye(c.H,function(v,A){Ke(g,A,v)}),c.l&&ye({},function(v,A){Ke(g,A,v)})}function Mu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let Re=-1;for(;;){const mt=["count="+v];Re==-1?v>0?(Re=j[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let He=!0;for(let ot=0;ot<v;ot++){var Q=j[ot].g;const In=j[ot].map;if(Q-=Re,Q<0)Re=Math.max(0,j[ot].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ae=In instanceof Map?In:Object.entries(In);for(const[Ti,Yn]of ae){let Xn=Yn;m(Yn)&&(Xn=yr(Yn)),mt.push(Q+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(In)}}if(He){ae=mt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),g.G=c,ae}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Se||R(),te||(Se(),te=!0),x.add(g,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(p(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),wr(this),Pu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),Is(c,g),c.u&&c.o&&ws(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ss(bt(g)),v.u=null,v.R=!0,ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),xs(this),Et(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,g){var v=null;if(c.g==g){va(c),Xo(c),c.g=null;var A=2}else if(mi(c.h,g))v=g.G,Uo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;A=ua(),Ot(A,new ai(A,v)),vi(c)}else Vu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(A==1&&_a(c,g)||A==2&&xs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Lu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ei(c,g){if(c.j.info("Error code "+g),g==2){var v=p(c.bb,c),A=c.Ua;const j=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||kt(A,"https"),Ss(A),j?Gn(A.toString(),v):Fo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(g),Uu(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const g=jo(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ja,g),G(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function ju(c,g,v){var A=v instanceof pn?bt(v):new pn(v);if(A.g!="")g&&(A.g=g+"."+A.g),_r(A,A.u);else{var j=f.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const Q=new pn(null);A&&kt(Q,A),g&&(Q.g=g),j&&_r(Q,j),v&&(Q.h=v),A=Q}return v=c.G,g=c.wa,v&&g&&Ke(A,v,g),Ke(A,"VER",c.ka),Is(c,A),A}function zu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new gi({ab:v})):new $e(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){vt.call(this),this.g=new Ar(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ui(this)}S(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ko(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);g.i.push(new St(g.Ya++,c)),g.I==3&&vi(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,nn.Z.N.call(this)};function qu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(qu,zt);function Hu(){An.call(this),this.status=1}S(Hu,An);function Ui(c){this.g=c}S(Ui,Bu),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new qu(c))},Ui.prototype.pa=function(c){Ot(this.g,new Hu)},Ui.prototype.oa=function(){Ot(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Q0=function(){return new Rr},G0=function(){return ua()},F0=dt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,ih=Es,Mo.COMPLETE="complete",H0=Mo,Tu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ll=Tu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,q0=$e}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Wv="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let To="12.3.0";const Js=new cp("@firebase/firestore");function Ja(){return Js.logLevel}function ce(r,...e){if(Js.logLevel<=Ve.DEBUG){const n=e.map(dp);Js.debug(`Firestore (${To}): ${r}`,...n)}}function hr(r,...e){if(Js.logLevel<=Ve.ERROR){const n=e.map(dp);Js.error(`Firestore (${To}): ${r}`,...n)}}function uo(r,...e){if(Js.logLevel<=Ve.WARN){const n=e.map(dp);Js.warn(`Firestore (${To}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,K0(r,s,n)}function K0(r,e,n){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||K0(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class tC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Y0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class iC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new iC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Mm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ym(o)===ym(u)?Pe(o,u):ym(o)?1:-1}return Pe(r.length,e.length)}const oC=55296,lC=57343;function ym(r){const e=r.charCodeAt(0);return e>=oC&&e<=lC}function co(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Zv="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class nt extends Ri{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const uC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return uC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zv}static keyField(){return new Yt([Zv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function X0(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cC(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function eE(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tE(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ei(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!$0(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const nE=-62135596800,iE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nE)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function hC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ss(o,pe.empty(),e)}function fC(r){return new ss(r.readTime,r.key,Xl)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(be.min(),pe.empty(),Xl)}static max(){return new ss(be.max(),pe.empty(),Xl)}}function dC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==mC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function gC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const pp=-1;function zh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function yC(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const W0="";function _C(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=rE(e)),e=vC(r.get(n),e);return rE(e)}function vC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case W0:n+="";break;default:n+=u}}return n}function rE(r){return r+W0+""}function sE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function J0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Z0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const EC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=EC.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const eT="server_timestamp",tT="__type__",nT="__previous_value__",iT="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[tT]?.stringValue===eT}function Bh(r){const e=r.mapValue.fields[nT];return gp(e)?Bh(e):e}function $l(r){const e=as(r.mapValue.fields[iT].timestampValue);return new st(e.seconds,e.nanos)}class TC{constructor(e,n,s,o,u,f,m,y,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const _h="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const rT="__type__",SC="__max__",$c={mapValue:{}},sT="__vector__",vh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:AC(r)?9007199254740991:bC(r)?10:11:Ee(28295,{value:r})}function Mi(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sE(f)!==sE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Mi(f[y],m[y])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((n=>Mi(n,e)))!==void 0}function ho(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),y=yt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return oE(r.timestampValue,e.timestampValue);case 4:return oE($l(r),$l(e));case 5:return Mm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=os(u),y=os(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Pe(m[p],y[p]);if(E!==0)return E}return Pe(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(yt(u.latitude),yt(f.latitude));return m!==0?m:Pe(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return lE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},p=m[vh]?.arrayValue,E=y[vh]?.arrayValue,S=Pe(p?.values?.length||0,E?.values?.length||0);return S!==0?S:lE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const w=Mm(y[S],E[S]);if(w!==0)return w;const O=ho(m[y[S]],p[E[S]]);if(O!==0)return O}return Pe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function oE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=as(r),s=as(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function lE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function fo(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function rh(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return hs(s.fields,((u,f)=>{o+=u.length+rh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function uE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function cE(r){return!!r&&"nullValue"in r}function hE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function bC(r){return(r?.mapValue?.fields||{})[rT]?.stringValue===sT}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function AC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){hs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(ql(this.value))}}function aT(r){const e=[];return hs(r.fields,((n,s)=>{const o=new Yt([n]);if(sh(s)){const u=aT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],e.position[n]))return!1;return!0}class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function wC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class oT{}class xt extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CC(e,n,s):n==="array-contains"?new DC(e,s):n==="in"?new NC(e,s):n==="not-in"?new OC(e,s):n==="array-contains-any"?new MC(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IC(e,s):new xC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return lT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lT(r){return r.op==="and"}function uT(r){return RC(r)&&lT(r)}function RC(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function km(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(uT(r))return r.filters.map((e=>km(e))).join(",");{const e=r.filters.map((n=>km(n))).join(",");return`${r.op}(${e})`}}function cT(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,e):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&cT(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function hT(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"})(r):"Filter"}class CC extends xt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class IC extends xt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xC extends xt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class DC extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Jl(n.arrayValue,this.value)}}class NC extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class OC extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class MC extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class VC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function mE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new VC(r,e,n,s,o,u,f)}function _p(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!wC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}function Lm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PC(r,e,n,s,o,u,f,m){return new lu(r,e,n,s,o,u,f,m)}function Ep(r){return new lu(r)}function pE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dT(r){return r.collectionGroup!==null}function Hl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Th(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Th(Yt.keyField(),s))}return e.Ie}function Ci(r){const e=we(r);return e.Ee||(e.Ee=kC(e,Hl(r))),e.Ee}function kC(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e){const n=r.filters.concat([e]);return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return vp(Ci(r),Ci(e))&&r.limitType===e.limitType}function mT(r){return`${_p(Ci(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>hT(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const p=fE(f,m,y);return f.inclusive?p<=0:p<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,y){const p=fE(f,m,y);return f.inclusive?p>=0:p>0})(s.endAt,Hl(s),o))})(r,e)}function LC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=UC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UC(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),p=m.data.field(u);return y!==null&&p!==null?ho(y,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}const jC=new ct(pe.comparator);function fr(){return jC}const gT=new ct(pe.comparator);function Ul(...r){let e=gT;for(const n of r)e=e.insert(n.key,n);return e}function yT(r){let e=gT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ks(){return Fl()}function _T(){return Fl()}function Fl(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const zC=new ct(pe.comparator),BC=new Vt(pe.comparator);function ke(...r){let e=BC;for(const n of r)e=e.add(n);return e}const qC=new Vt(Pe);function HC(){return qC}function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function vT(r){return{integerValue:""+r}}function FC(r,e){return yC(e)?vT(e):Tp(r,e)}class Fh{constructor(){this._=void 0}}function GC(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[tT]:{stringValue:eT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Bh(u)),u&&(f.fields[nT]=u),{mapValue:f}})(n,e):r instanceof Zl?TT(r,e):r instanceof eu?ST(r,e):(function(o,u){const f=ET(o,u),m=gE(f)+gE(o.Ae);return Pm(f)&&Pm(o.Ae)?vT(m):Tp(o.serializer,m)})(r,e)}function QC(r,e,n){return r instanceof Zl?TT(r,e):r instanceof eu?ST(r,e):n}function ET(r,e){return r instanceof bh?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends Fh{}class Zl extends Fh{constructor(e){super(),this.elements=e}}function TT(r,e){const n=bT(e);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Fh{constructor(e){super(),this.elements=e}}function ST(r,e){let n=bT(e);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class bh extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gE(r){return yt(r.integerValue||r.doubleValue)}function bT(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof eu&&o instanceof eu?co(s.elements,o.elements,Mi):s instanceof bh&&o instanceof bh?Mi(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class YC{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function AT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sp(r.key,jn.none()):new uu(r.key,r.data,jn.none());{const n=r.data,s=dn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new fs(r.key,s,new bn(o.toArray()),jn.none())}}function XC(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),y=_E(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof fs?(function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_E(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(wT(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof uu?(function(u,f,m,y){if(!ah(u.precondition,f))return m;const p=u.value.clone(),E=vE(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof fs?(function(u,f,m,y){if(!ah(u.precondition,f))return m;const p=vE(u.fieldTransforms,y,f),E=f.data;return E.setAll(wT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function $C(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ET(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,f)=>KC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends Gh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function _E(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,QC(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,GC(u,f,e))}return s}class Sp extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_T();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=AT(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>yE(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>yE(n,s)))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return zC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}class ZC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function tI(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function RT(r){if(r===void 0)return hr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function nI(){return new TextEncoder}const iI=new is([4294967295,4294967295],0);function EE(r){const e=nI().encode(r),n=new B0;return n.update(e),new Uint8Array(n.digest())}function TE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Ap{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(iI)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qh(be.min(),o,new ct(Pe),fr(),ke())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,ke(),ke(),ke())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class CT{constructor(e,n){this.targetId=e,this.Ce=n}}class IT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class SE{constructor(){this.ve=0,this.Fe=bE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=bE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(y){if(y instanceof Z0)return uo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Ap(f,o,u)}catch(y){return uo(y instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Lm(m.target)){const y=new pe(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Zt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Qh(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new SE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ct(pe.comparator)}function bE(){return new ct(pe.comparator)}const sI={asc:"ASCENDING",desc:"DESCENDING"},aI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oI={and:"AND",or:"OR"};class lI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uI(r,e){return Ah(r,e.toTimestamp())}function Ii(r){return Ge(!!r,49232),be.fromTimestamp((function(n){const s=as(n);return new st(s.seconds,s.nanos)})(r))}function wp(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function DT(r){const e=nt.fromString(r);return Ge(PT(e),10190,{key:e.toString()}),e}function qm(r,e){return wp(r.databaseId,e.path)}function _m(r,e){const n=DT(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(OT(n))}function NT(r,e){return wp(r.databaseId,e)}function cI(r){const e=DT(r);return e.length===4?nt.emptyPath():OT(e)}function Hm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function AE(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function hI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?J.UNKNOWN:RT(p.code);return new ue(E,p.message||"")})(f);n=new IT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):be.min(),m=new dn({mapValue:{fields:s.document.fields}}),y=Zt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Ii(s.readTime):be.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eI(o,u),m=s.targetId;n=new CT(m,f)}}return n}function fI(r,e){let n;if(e instanceof uu)n={update:AE(r,e.key,e.value)};else if(e instanceof Sp)n={delete:qm(r,e.key)};else if(e instanceof fs)n={update:AE(r,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof WC))return Ee(16599,{Vt:e.type});n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:uI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function dI(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(be.min())&&(f=Ii(u)),new YC(f,o.transformResults||[])})(n,e)))):[]}function mI(r,e){return{documents:[NT(r,e.path)]}}function pI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=(function(p){if(p.length!==0)return VT(ti.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:eo(w.field),direction:_I(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function gI(r){let e=cI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=MT(S);return w instanceof ti&&uT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(G){return new Th(to(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,zh(w)?null:w})(n.limit));let y=null;n.startAt&&(y=(function(S){const w=!!S.before,O=S.values||[];return new Eh(O,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const w=!S.before,O=S.values||[];return new Eh(O,w)})(n.endAt)),PC(e,o,f,u,m,"F",y,p)}function yI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>MT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function _I(r){return sI[r]}function vI(r){return aI[r]}function EI(r){return oI[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Yt.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof xt?(function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:vI(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>VT(o)));return s.length===1?s[0]:{compositeFilter:{op:EI(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function TI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SI{constructor(e){this.yt=e}}function bI(r){const e=gI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class AI{constructor(){this.Cn=new wI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ss.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class wI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(kT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}const RE="LruGarbageCollector",RI=1048576;function CE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class CI{constructor(e){this.Ir=e,this.buffer=new Vt(CE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(RE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ce(RE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class xI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(jh.ce);const s=new CI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(wE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),Ja()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function DI(r,e){return new xI(r,e)}class NI{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class MI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,bn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=fr();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof fs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Gl(E.mutation,p,E.mutation.getFieldMask(),st.now())):f.set(p.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new OI(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=s.get(y)||bn.empty();E=m.applyToLocalView(p,E),s.set(y,E);const S=(o.get(m.batchId)||ke()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,S=_T();E.forEach((w=>{if(!u.has(w)){const O=AT(n.get(w),s.get(w));O!==null&&S.set(w,O),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Ks());let m=Xl,y=u;return f.next((p=>ee.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,ke()))).next((E=>({batchId:m,changes:yT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(y=>{const p=(function(S,w){return new lu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&Gl(E.mutation,p,bn.empty(),st.now()),Hh(n,p)&&(m=m.insert(y,p))})),m}))}}class VI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:bI(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),ee.resolve()}}class PI{constructor(){this.overlays=new ct(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Ks(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ks(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ZC(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class kI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Rp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class LI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Pe);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new pe(u),0);let m=new Vt(Pe);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UI{constructor(e){this.ri=e,this.docs=(function(){return new ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||dC(fC(E),s)<=0||(o.has(E.key)||Hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new jI(this)}getSize(e){return ee.resolve(this.size)}}class jI extends NI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class zI{constructor(e){this.persistence=e,this.si=new na((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class LT{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new kI,this.referenceDelegate=e(this),this.Pi=new zI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(o){return new UI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new SI(n),this.Ii=new VI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new LI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new BI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class BI extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new na((s=>_C(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DI(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(e,n.fromCache,s,o)}}class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class HI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Vw()?8:gC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new qI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ja()<=Ve.DEBUG&&ce("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ys(e,n){if(pE(n))return ee.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(n,m);return this.Cs(n,p,f,y.readTime)?this.ys(e,jm(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,s,o){return pE(n)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ja()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,hC(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new Vt(pT(e));return n.forEach(((o,u)=>{Hh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,ss.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",FI=3e8;class GI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new na((u=>_p(u)),vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QI(r,e,n,s){return new GI(r,e,n,s)}async function UT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=ke();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function KI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,E){const S=p.batch,w=S.keys();let O=ee.resolve();return w.forEach((G=>{O=O.next((()=>E.getEntry(y,G))).next((Y=>{const H=p.docVersions.get(G);Ge(H!==null,48541),Y.version.compareTo(H)<0&&(S.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function jT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),(function(Y,H,ne){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=FI?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let y=fr(),p=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(XI(u,f,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function XI(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(be.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ce(xp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function $I(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Fm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bo(f))throw f;ce(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function IE(r,e,n){const s=we(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,E){const S=we(y),w=S.xs.get(E);return w!==void 0?ee.resolve(S.Ms.get(w)):S.Pi.getTargetData(p,E)})(s,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke()))).next((m=>(JI(s,LC(e),m),{documents:m,Qs:u})))))}function JI(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class xE{constructor(){this.activeTargetIds=HC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this.Mo=new xE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e2{Oo(e){}shutdown(){}}const DE="ConnectivityMonitor";class NE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(DE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Gm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const vm="RestConnection",t2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Gm(),m=this.zo(e,n.toUriEncodedString());ce(vm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:p}=new URL(m),E=vo(p);return this.Jo(e,m,y,s,E).then((S=>(ce(vm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw uo(vm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=t2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class i2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class r2 extends n2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Gm();return new Promise(((m,y)=>{const p=new q0;p.setWithCredentials(!0),p.listenOnce(H0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const S=p.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case ih.TIMEOUT:ce(Wt,`RPC '${e}' ${f} timed out`),y(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const w=p.getStatus();if(ce(Wt,`RPC '${e}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const G=O?.error;if(G&&G.status&&G.message){const Y=(function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(G.status);y(new ue(Y,G.message))}else y(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Wt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Gm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Q0(),m=G0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=f.createWebChannel(E,y);this.I_(S);let w=!1,O=!1;const G=new i2({Yo:H=>{O?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),Y=(H,ne,re)=>{H.listen(ne,(ie=>{try{re(ie)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Y(S,Ll.EventType.OPEN,(()=>{O||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Y(S,Ll.EventType.CLOSE,(()=>{O||(O=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(S))})),Y(S,Ll.EventType.ERROR,(H=>{O||(O=!0,uo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Ll.EventType.MESSAGE,(H=>{if(!O){const ne=H.data[0];Ge(!!ne,16349);const re=ne,ie=re?.error||re[0]?.error;if(ie){ce(Wt,`RPC '${e}' stream ${o} received error:`,ie);const ge=ie.status;let Se=(function(R){const C=It[R];if(C!==void 0)return RT(C)})(ge),te=ie.message;Se===void 0&&(Se=J.INTERNAL,te="Unknown error status: "+ge+" with message "+ie.message),O=!0,G.a_(new ue(Se,te)),S.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,ne),G.u_(ne)}})),Y(m,F0.STAT_EVENT,(H=>{H.stat===Om.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Om.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}function Kh(r){return new lI(r,!0)}class zT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const OE="PersistentStream";class BT{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(OE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s2 extends BT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ii(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Lm(y)?{documents:mI(u,y)}:{query:pI(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=xT(u,f.resumeToken);const p=zm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const p=zm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=yI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.q_(n)}}class a2 extends BT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dI(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>fI(this.serializer,s)))};this.q_(n)}}class o2{}class l2 extends o2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class c2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(ce(Zs,"Restarting streams for network reachability change."),await(async function(y){const p=we(y);p.Ea.add(4),await hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yh(p)})(this))}))})),this.Ra=new u2(s,o)}}async function Yh(r){if(ia(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function qT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mp(n)?Op(n):Ao(n).O_()&&Np(n,e))}function Dp(r,e){const n=we(r),s=Ao(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Ra.set("Unknown"))}function Np(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function HT(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function Op(r){r.Va=new rI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Mp(r){return ia(r)&&!Ao(r).x_()&&r.Ia.size>0}function ia(r){return we(r).Ea.size===0}function FT(r){r.Va=void 0}async function h2(r){r.Ra.set("Online")}async function f2(r){r.Ia.forEach(((e,n)=>{Np(r,e)}))}async function d2(r,e){FT(r),Mp(r)?(r.Ra.ha(e),Op(r)):r.Ra.set("Unknown")}async function m2(r,e,n){if(r.Ra.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof CT?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await jT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),HT(u,y);const S=new Zr(E.target,y,p,E.sequenceNumber);Np(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(Zs,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!bo(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>jT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Zs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function GT(r,e){return e().catch((n=>Rh(r,n,e)))}async function Xh(r){const e=we(r),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;p2(e);)try{const o=await $I(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,g2(e,o)}catch(o){await Rh(e,o)}QT(e)&&KT(e)}function p2(r){return ia(r)&&r.Ta.length<10}function g2(r,e){r.Ta.push(e);const n=us(r);n.O_()&&n.X_&&n.ea(e.mutations)}function QT(r){return ia(r)&&!us(r).x_()&&r.Ta.length>0}function KT(r){us(r).start()}async function y2(r){us(r).ra()}async function _2(r){const e=us(r);for(const n of r.Ta)e.ea(n.mutations)}async function v2(r,e,n){const s=r.Ta.shift(),o=bp.from(s,e,n);await GT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Xh(r)}async function E2(r,e){e&&us(r).X_&&await(async function(s,o){if((function(f){return tI(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();us(s).B_(),await GT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(s)}})(r,e),QT(r)&&KT(r)}async function ME(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(Zs,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function T2(r,e){const n=we(r);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new s2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:h2.bind(null,r),t_:f2.bind(null,r),r_:d2.bind(null,r),H_:m2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Mp(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),FT(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new a2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:y2.bind(null,r),r_:E2.bind(null,r),ta:_2.bind(null,r),na:v2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,e){if(hr("AsyncQueue",`${e}: ${r}`),bo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class VE{constructor(){this.ga=new ct(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class po{constructor(e,n,s,o,u,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class S2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class b2{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=PE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function PE(){return new na((r=>mT(r)),qh)}async function YT(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new S2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function XT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A2(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function w2(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Qm,kE;(kE=Qm||(Qm={})).Ma="default",kE.Cache="cache";class $T{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class WT{constructor(e){this.key=e}}class JT{constructor(e){this.key=e}}class R2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=pT(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new VE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),O=Hh(this.query,S)?S:null,G=!!w&&this.mutatedKeys.has(w.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;w&&O?w.data.isEqual(O.data)?G!==Y&&(s.track({type:3,doc:O}),H=!0):this.su(w,O)||(s.track({type:2,doc:O}),H=!0,(y&&this.eu(O,y)>0||p&&this.eu(O,p)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),H=!0):w&&!O&&(s.track({type:1,doc:w}),H=!0,(y||p)&&(m=!0)),H&&(O?(f=f.add(O),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(O,G){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:H})}};return Y(O)-Y(G)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new JT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new WT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class C2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class I2{constructor(e){this.key=e,this.hu=!1}}class x2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((m=>mT(m)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(pe.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D2(r,e,n=!0){const s=rS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ZT(s,e,n,!0),o}async function N2(r,e){const n=rS(r);await ZT(n,e,!0,!1)}async function ZT(r,e,n,s){const o=await WI(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await O2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,o),m}async function O2(r,e,n,s,o){r.pu=(S,w,O)=>(async function(Y,H,ne,re){let ie=H.view.ru(ne);ie.Cs&&(ie=await IE(Y.localStore,H.query,!1).then((({documents:x})=>H.view.ru(x,ie))));const ge=re&&re.targetChanges.get(H.targetId),Se=re&&re.targetMismatches.get(H.targetId)!=null,te=H.view.applyChanges(ie,Y.isPrimaryClient,ge,Se);return UE(Y,H.targetId,te.au),te.snapshot})(r,S,w,O);const u=await IE(r.localStore,e,!0),f=new R2(e,u.Qs),m=f.ru(u.documents),y=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,y);UE(r,n,p.au);const E=new C2(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function M2(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Km(s,o.targetId)})).catch(So)):(Km(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function V2(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function P2(r,e,n){const s=q2(r);try{const o=await(function(f,m){const y=we(f),p=st.now(),E=m.reduce(((O,G)=>O.add(G.key)),ke());let S,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let G=fr(),Y=ke();return y.Ns.getEntries(O,E).next((H=>{G=H,G.forEach(((ne,re)=>{re.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,G))).next((H=>{S=H;const ne=[];for(const re of m){const ie=$C(re,S.get(re.key).overlayedDocument);ie!=null&&ne.push(new fs(re.key,ie,aT(ie.value.mapValue),jn.exists(!0)))}return y.mutationQueue.addMutationBatch(O,p,ne,m)})).next((H=>{w=H;const ne=H.applyToLocalDocumentSet(S,Y);return y.documentOverlayCache.saveOverlays(O,H.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:yT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new ct(Pe)),p=p.insert(m,y),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await fu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function eS(r,e){const n=we(r);try{const s=await YI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await So(s)}}function LE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=we(f);y.onlineState=m;let p=!1;y.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(p=!0)})),p&&kp(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k2(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=ke().add(u),y=new Qh(be.min(),new Map,new ct(Pe),f,m);await eS(s,y),s.du=s.du.remove(u),s.Au.delete(e),Up(s)}else await Fm(s.localStore,e,!1).then((()=>Km(s,e,n))).catch(So)}async function L2(r,e){const n=we(r),s=e.batch.batchId;try{const o=await KI(n.localStore,e);nS(n,s,null),tS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await So(o)}}async function U2(r,e,n){const s=we(r);try{const o=await(function(f,m){const y=we(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next((S=>(Ge(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);nS(s,e,n),tS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await So(o)}}function tS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function nS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||iS(r,s)}))}function iS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Dp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Up(r))}function UE(r,e,n){for(const s of n)s instanceof WT?(r.Ru.addReference(s.key,e),j2(r,s)):s instanceof JT?(ce(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||iS(r,s.key)):Ee(19791,{wu:s})}function j2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Lp,"New document in limbo: "+n),r.Eu.add(s),Up(r))}function Up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new I2(n)),r.du=r.du.insert(n,s),qT(r.remoteStore,new Zr(Ci(Ep(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function fu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Ip.As(y.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,p){const E=we(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ee.forEach(p,(w=>ee.forEach(w.Es,(O=>E.persistence.referenceDelegate.addReference(S,w.targetId,O))).next((()=>ee.forEach(w.ds,(O=>E.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))))))}catch(S){if(!bo(S))throw S;ce(xp,"Failed to update sequence numbers: "+S)}for(const S of p){const w=S.targetId;if(!S.fromCache){const O=E.Ms.get(w),G=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function z2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Lp,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ue(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function B2(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function rS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.Pu.H_=A2.bind(null,e.eventManager),e.Pu.yu=w2.bind(null,e.eventManager),e}function q2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U2.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QI(this.persistence,new HI,e.initialUser,this.serializer)}Cu(e){return new LT(Cp.mi,this.serializer)}Du(e){return new ZI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class H2 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new II(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new LT((s=>wh.mi(s,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b2})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=(function(u){return new r2(u)})(e.databaseInfo);return(function(u,f,m,y){return new l2(u,f,m,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new c2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>LE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new e2})())}createSyncEngine(e,n){return(function(o,u,f,m,y,p,E){const S=new x2(o,u,f,m,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(Zs,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const cs="FirestoreClient";class F2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function jE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await G2(r);ce(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ME(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ME(e.remoteStore,o))),r._onlineComponents=e}async function G2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(cs,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Ch)}}else ce(cs,"Using default OfflineComponentProvider"),await Tm(r,new H2(void 0));return r._offlineComponents}async function aS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(cs,"Using user provided OnlineComponentProvider"),await jE(r,r._uninitializedComponentsProvider._online)):(ce(cs,"Using default OnlineComponentProvider"),await jE(r,new Ym))),r._onlineComponents}function Q2(r){return aS(r).then((e=>e.syncEngine))}async function oS(r){const e=await aS(r),n=e.eventManager;return n.onListen=D2.bind(null,e.syncEngine),n.onUnlisten=M2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V2.bind(null,e.syncEngine),n}function K2(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new sS({next:w=>{E.Nu(),f.enqueueAndForget((()=>XT(u,S)));const O=w.docs.has(m);!O&&w.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&y&&y.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new $T(Ep(m.path),E,{includeMetadataChanges:!0,qa:!0});return YT(u,S)})(await oS(r),r.asyncQueue,e,n,s))),s.promise}function Y2(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new sS({next:w=>{E.Nu(),f.enqueueAndForget((()=>XT(u,S))),w.fromCache&&y.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new $T(m,E,{includeMetadataChanges:!0,qa:!0});return YT(u,S)})(await oS(r),r.asyncQueue,e,n,s))),s.promise}function lS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zE=new Map;const uS="firestore.googleapis.com",BE=!0;class qE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=BE}else this.host=e.host,this.ssl=e.ssl??BE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RI)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eC;switch(s.type){case"firstParty":return new rC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())})(this),Promise.resolve()}}function X2(r,e,n,s={}){r=ei(r,$h);const o=vo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(M0(`https://${m}`),V0("Firestore",!0)),u.host!==uS&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(y,f)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=ww(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}r._authCredentials=new tC(new Y0(p,E))}}class wo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,_t._jsonSchema))return new _t(e,s||null,new pe(nt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class rs extends wo{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new pe(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function tr(r,e,...n){if(r=jt(r),X0("collection","path",e),r instanceof $h){const s=nt.fromString(e,...n);return tE(s),new rs(r,null,s)}{if(!(r instanceof _t||r instanceof rs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return tE(s),new rs(r.firestore,null,s)}}function or(r,e,...n){if(r=jt(r),arguments.length===1&&(e=mp.newId()),X0("doc","path",e),r instanceof $h){const s=nt.fromString(e,...n);return eE(s),new _t(r,null,new pe(s))}{if(!(r instanceof _t||r instanceof rs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return eE(s),new _t(r.firestore,r instanceof rs?r.converter:null,new pe(s))}}const HE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&ce(HE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;ce(HE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",GE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ra extends $h{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new FE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function $2(r,e){const n=typeof r=="object"?r:U0(),s=typeof r=="string"?r:_h,o=fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bw("firestore");u&&X2(o,...u)}return o}function jp(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W2(r),r._firestoreClient}function W2(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new TC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new F2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Dt("string",Un._jsonSchemaVersion),bytes:Dt("string")};class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Dt("string",xi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Dt("string",Di._jsonSchemaVersion),vectorValues:Dt("object")};const J2=/^__.*__$/;class Z2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class cS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Bp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hS(this.Ac)&&J2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ex{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}Cc(e,n,s,o=!1){return new Bp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new ex(r._databaseId,!!e.ignoreUndefinedProperties,n)}function fS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,s);const m=dS(s,f);let y,p;if(u.merge)y=new bn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Xm(e,S,n);if(!f.contains(w))throw new ue(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pS(E,w)||E.push(w)}y=new bn(E),p=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=f.fieldTransforms;return new Z2(new dn(m),y,p)}class Zh extends zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function tx(r,e,n,s){const o=r.Cc(1,e,n);qp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();hs(s,((y,p)=>{const E=Hp(e,y,n);p=jt(p);const S=o.yc(E);if(p instanceof Zh)u.push(E);else{const w=du(p,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new bn(u);return new cS(f,m,o.fieldTransforms)}function nx(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Xm(e,s,n)],y=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Xm(e,u[w])),y.push(u[w+1]);const p=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!pS(p,m[w])){const O=m[w];let G=y[w];G=jt(G);const Y=f.yc(O);if(G instanceof Zh)p.push(O);else{const H=du(G,Y);H!=null&&(p.push(O),E.set(O,H))}}const S=new bn(p);return new cS(E,S,f.fieldTransforms)}function ix(r,e,n,s=!1){return du(n,r.Cc(s?4:3,e))}function du(r,e){if(mS(r=jt(r)))return qp("Unsupported field value:",e,r),dS(r,e);if(r instanceof zp)return(function(s,o){if(!hS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=du(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:xT(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){return{mapValue:{fields:{[rT]:{stringValue:sT},[vh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Uh(s)}`)})(r,e)}function dS(r,e){const n={};return J0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,((s,o)=>{const u=du(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function mS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof xi||r instanceof Un||r instanceof _t||r instanceof zp||r instanceof Di)}function qp(r,e,n){if(!mS(n)||!$0(n)){const s=Uh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Xm(r,e,n){if((e=jt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Hp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const rx=new RegExp("[~\\*/\\[\\]]");function Hp(r,e,n){if(e.search(rx)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ue(J.INVALID_ARGUMENT,m+r+y)}function pS(r,e){return r.some((n=>n.isEqual(e)))}class gS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sx extends gS{data(){return super.data()}}function Fp(r,e){return typeof e=="string"?Hp(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}function ax(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class ox extends Gp{}function yS(r,e,...n){let s=[];e instanceof Gp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((y=>y instanceof Qp)).length,m=u.filter((y=>y instanceof ef)).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ef extends ox{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ef(e,n,s)}_apply(e){const n=this._parse(e);return _S(e._query,n),new wo(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(u,f,m,y,p,E,S){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){KE(S,E);const G=[];for(const Y of S)G.push(QE(y,u,Y));w={arrayValue:{values:G}}}else w=QE(y,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||KE(S,E),w=ix(m,f,S,E==="in"||E==="not-in");return xt.create(p,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lx(r,e,n){const s=e,o=Fp("where",r);return ef._create(o,s,n)}class Qp extends Gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)_S(f,y),f=Um(f,y)})(e._query,n),new wo(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QE(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uE(r,new pe(s))}if(n instanceof _t)return uE(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function KE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _S(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ux{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return hs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Di(n)}convertGeoPoint(e){return new xi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=as(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(PT(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function vS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends gS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Dt("string",Xs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class lh extends Xs{data(e={}){return super.data(e)}}class ro{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cx(m.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function hx(r){r=ei(r,_t);const e=ei(r.firestore,ra);return K2(jp(e),r._key).then((n=>dx(e,r,n)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Dt("string",ro._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class ES extends ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Ys(r){r=ei(r,wo);const e=ei(r.firestore,ra),n=jp(e),s=new ES(e);return ax(r._query),Y2(n,r._query).then((o=>new ro(e,s,r,o)))}function fx(r,e,n){r=ei(r,_t);const s=ei(r.firestore,ra),o=vS(r.converter,e);return tf(s,[fS(Jh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,jn.none())])}function $m(r,e,n,...s){r=ei(r,_t);const o=ei(r.firestore,ra),u=Jh(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Wh?nx(u,"updateDoc",r._key,e,n,s):tx(u,"updateDoc",r._key,e),tf(o,[f.toMutation(r._key,jn.exists(!0))])}function Kp(r){return tf(ei(r.firestore,ra),[new Sp(r._key,jn.none())])}function TS(r,e){const n=ei(r.firestore,ra),s=or(r),o=vS(r.converter,e);return tf(n,[fS(Jh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then((()=>s))}function tf(r,e){return(function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget((async()=>P2(await Q2(s),o,u))),u.promise})(jp(r),e)}function dx(r,e,n){const s=n.docs.get(e._key),o=new ES(r);return new Xs(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){To=o})(Eo),lo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ra(new nC(s.getProvider("auth-internal")),new sC(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ns($v,Wv,e),ns($v,Wv,"esm2020")})();function SS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mx=SS,bS=new su("auth","Firebase",SS());const xh=new cp("@firebase/auth");function px(r,...e){xh.logLevel<=Ve.WARN&&xh.warn(`Auth (${Eo}): ${r}`,...e)}function uh(r,...e){xh.logLevel<=Ve.ERROR&&xh.error(`Auth (${Eo}): ${r}`,...e)}function ni(r,...e){throw Yp(r,...e)}function Ni(r,...e){return Yp(r,...e)}function AS(r,e,n){const s={...mx(),[e]:n};return new su("auth","Firebase",s).create(e,{appName:r.name})}function lr(r){return AS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return bS.create(r,...e)}function ve(r,e,...n){if(!r)throw Yp(e,...n)}function ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function dr(r,e){r||ir(e)}function Wm(){return typeof self<"u"&&self.location?.href||""}function gx(){return YE()==="http:"||YE()==="https:"}function YE(){return typeof self<"u"&&self.location?.protocol||null}function yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gx()||Nw()||"connection"in navigator)?navigator.onLine:!0}function _x(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Iw()||Ow()}get(){return yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class wS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tx=new mu(3e4,6e4);function ds(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ms(r,e,n,s,o={}){return RS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return Dw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),wS.fetch()(await CS(r,r.config.apiHost,n,m),p)})}async function RS(r,e,n){r._canInitEmulator=!1;const s={...vx,...e};try{const o=new bx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw AS(r,E,p);ni(r,E)}}catch(o){if(o instanceof pr)throw o;ni(r,"network-request-failed",{message:String(o)})}}async function pu(r,e,n,s,o={}){const u=await ms(r,e,n,s,o);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function CS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Xp(r.config,o):`${r.config.apiScheme}://${o}`;return Ex.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Sx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),Tx.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function XE(r){return r!==void 0&&r.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wx(r,e){return ms(r,"GET","/v2/recaptchaConfig",ds(r,e))}async function Rx(r,e){return ms(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return ms(r,"POST","/v1/accounts:lookup",e)}function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cx(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=$p(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Sm(o.auth_time)),issuedAtTime:Ql(Sm(o.iat)),expirationTime:Ql(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sm(r){return Number(r)*1e3}function $p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=x0(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $E(r){const e=$p(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&Ix(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Ix({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Dh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?IS(o.providerUserInfo):[],f=Nx(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,p=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function Dx(r){const e=jt(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Ox(r,e){const n=await RS(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await CS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),wS.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mx(r,e){return ms(r,"POST","/v2/accounts:revokeToken",ds(r,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=$E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Ox(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Xr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cx(this,e)}reload(){return Dx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await tu(this,Rx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:O,providerData:G,stsTokenManager:Y}=n;ve(S&&Y,e,"internal-error");const H=so.fromJSON(this.name,Y);ve(typeof S=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(y,e.name),Xr(p,e.name),Xr(E,e.name);const ne=new Zn({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ne.providerData=G.map(re=>({...re}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const y=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const WE=new Map;function rr(r){dr(r instanceof Function,"Expected a class definition");let e=WE.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,WE.set(r,e),e)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xS.type="NONE";const JE=xS;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao(rr(JE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||rr(JE);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const w=await Dh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(e,w,E)}else S=Zn._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ao(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ao(u,e,s))}}function ZE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PS(e))return"Blackberry";if(kS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||OS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function DS(r=en()){return/firefox\//i.test(r)}function NS(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OS(r=en()){return/crios\//i.test(r)}function MS(r=en()){return/iemobile/i.test(r)}function VS(r=en()){return/android/i.test(r)}function PS(r=en()){return/blackberry/i.test(r)}function kS(r=en()){return/webos/i.test(r)}function Wp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Vx(r=en()){return Wp(r)&&!!window.navigator?.standalone}function Px(){return Mw()&&document.documentMode===10}function LS(r=en()){return Wp(r)||VS(r)||kS(r)||PS(r)||/windows phone/i.test(r)||MS(r)}function US(r,e=[]){let n;switch(r){case"Browser":n=ZE(en());break;case"Worker":n=`${ZE(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}class kx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Lx(r,e={}){return ms(r,"GET","/v2/passwordPolicy",ds(r,e))}const Ux=6;class jx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ux,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(lr(this));const n=e?jt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lx(this),n=new jx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Mx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&px(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sa(r){return jt(r)}class e0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bx(r){nf=r}function jS(r){return nf.loadJS(r)}function qx(){return nf.recaptchaEnterpriseScript}function Hx(){return nf.gapiScript}function Fx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Gx{constructor(){this.enterprise=new Qx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Kx="recaptcha-enterprise",zS="NO_RECAPTCHA";class Yx{constructor(e){this.type=Kx,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ax(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;XE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(zS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&XE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qx();y.length!==0&&(y+=m),jS(y).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function t0(r,e,n,s=!1,o=!1){const u=new Yx(r);let f;if(o)f=zS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await t0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await t0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function Xx(r,e){const n=fp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function $x(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Wx(r,e,n){const s=sa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=BS(e),{host:f,port:m}=Jx(e),y=m===null?"":`:${m}`,p={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve($s(p,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vo(f)?(M0(`${u}//${f}${y}`),V0("Auth",!0)):Zx()}function BS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Jx(r){const e=BS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:n0(f)}}}function n0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Zx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function eD(r,e){return ms(r,"POST","/v1/accounts:signUp",e)}async function tD(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",ds(r,e))}async function nD(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}async function iD(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}class nu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",tD);case"emailLink":return nD(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",eD);case"emailLink":return iD(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oo(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",ds(r,e))}const rD="http://localhost";class ea extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:rD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}function sD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aD(r){const e=Pl(kl(r)).link,n=e?Pl(kl(e)).deep_link_id:null,s=Pl(kl(r)).deep_link_id;return(s?Pl(kl(s)).link:null)||s||n||e||r}class Zp{constructor(e){const n=Pl(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=sD(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aD(e);try{return new Zp(n)}catch{return null}}}class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return ve(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends qS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends gu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class nr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return nr.credential(n,s)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class Wr extends gu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class Jr extends gu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function oD(r,e){return pu(r,"POST","/v1/accounts:signUp",ds(r,e))}class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=i0(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=i0(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Oh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function HS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,e,s):u})}async function lD(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ta._forOperation(r,"link",s)}async function uD(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await tu(r,HS(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=$p(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),ta._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function FS(r,e,n=!1){if(Ln(r.app))return Promise.reject(lr(r));const s="signIn",o=await HS(r,s,e),u=await ta._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function cD(r,e){return FS(sa(r),e)}async function GS(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hD(r,e,n){if(Ln(r.app))return Promise.reject(lr(r));const s=sa(r),f=await Zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&GS(r),y}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function fD(r,e,n){return Ln(r.app)?Promise.reject(lr(r)):cD(jt(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GS(r),s})}function dD(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function mD(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function pD(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function gD(r){return jt(r).signOut()}const Mh="__sak";class QS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yD=1e3,_D=10;class KS extends QS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Px()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_D):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const vD=KS;class YS extends QS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YS.type="SESSION";const XS=YS;function ED(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),y=await ED(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];function eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class TD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const p=eg("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function SD(r){Oi().location.href=r}function $S(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function bD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AD(){return navigator?.serviceWorker?.controller||null}function wD(){return $S()?self:null}const WS="firebaseLocalStorageDb",RD=1,Vh="firebaseLocalStorage",JS="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function CD(){const r=indexedDB.deleteDatabase(WS);return new yu(r).toPromise()}function ep(){const r=indexedDB.open(WS,RD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:JS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await CD(),e(await ep()))})})}async function r0(r,e,n){const s=sf(r,!0).put({[JS]:e,value:n});return new yu(s).toPromise()}async function ID(r,e){const n=sf(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function s0(r,e){const n=sf(r,!0).delete(e);return new yu(n).toPromise()}const xD=800,DD=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(wD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new TD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await r0(e,Mh,"1"),await s0(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ID(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const ND=ZS;new mu(3e4,6e4);function OD(r,e){return e?rr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class tg extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MD(r){return FS(r.auth,new tg(r),r.bypassAuthState)}function VD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),uD(n,new tg(r),r.bypassAuthState)}async function PD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),lD(n,new tg(r),r.bypassAuthState)}class eb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MD;case"linkViaPopup":case"linkViaRedirect":return PD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:ni(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kD=new mu(2e3,1e4);class no extends eb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}no.currentPopupAction=null;const LD="pendingRedirect",hh=new Map;class UD extends eb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(r,e){const n=qD(e),s=BD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zD(r,e){hh.set(r._key(),e)}function BD(r){return rr(r._redirectPersistence)}function qD(r){return ch(LD,r.config.apiKey,r.name)}async function HD(r,e,n=!1){if(Ln(r.app))return Promise.reject(lr(r));const s=sa(r),o=OD(s,e),f=await new UD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const FD=600*1e3;class GD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FD&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}async function KD(r,e={}){return ms(r,"GET","/v1/projects",e)}const YD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XD=/^https?/;async function $D(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KD(r);for(const n of e)try{if(WD(n))return}catch{}ni(r,"unauthorized-domain")}function WD(r){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!XD.test(n))return!1;if(YD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const JD=new mu(3e4,6e4);function o0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ZD(r){return new Promise((e,n)=>{function s(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),n(Ni(r,"network-request-failed"))},timeout:JD.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=Fx("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},jS(`${Hx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function eN(r){return fh=fh||ZD(r),fh}const tN=new mu(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Xp(e,iN):`https://${r.config.authDomain}/${nN}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},o=sN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function oN(r){const e=await eN(r),n=Oi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:aN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},tN.get());function y(){Oi().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(r,e,n,s=uN,o=cN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...lN,width:s.toString(),height:o.toString(),top:u,left:f},p=en().toLowerCase();n&&(m=OS(p)?hN:n),DS(p)&&(e=e||fN,y.scrollbars="yes");const E=Object.entries(y).reduce((w,[O,G])=>`${w}${O}=${G},`,"");if(Vx(p)&&m!=="_self")return mN(e||"",m),new l0(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new l0(S)}function mN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pN="__/auth/handler",gN="emulator/auth/handler",yN=encodeURIComponent("fac");async function u0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof qS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",zw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof gu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),p=y?`#${yN}=${encodeURIComponent(y)}`:"";return`${_N(r)}?${au(m).slice(1)}${p}`}function _N({config:r}){return r.emulator?Xp(r,gN):`https://${r.authDomain}/${pN}`}const bm="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=HD,this._overrideRedirectResult=zD}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await u0(e,n,s,Wm(),o);return dN(e,u,eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u0(e,n,s,Wm(),o);return SD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oN(e),s=new GD(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{const u=o?.[0]?.[bm];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LS()||NS()||Wp()}}const EN=vN;var c0="@firebase/auth",h0="1.11.1";class TN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bN(r){lo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(r)},p=new zx(s,o,u,y);return $x(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Ws("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new TN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(c0,h0,SN(r)),ns(c0,h0,"esm2020")}const AN=300,wN=O0("authIdTokenMaxAge")||AN;let f0=null;const RN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wN)return;const o=n?.token;f0!==o&&(f0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CN(r=U0()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Xx(r,{popupRedirectResolver:EN,persistence:[ND,vD,XS]}),s=O0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RN(u.toString());mD(n,f,()=>f(n.currentUser)),dD(n,m=>f(m))}}const o=D0("auth");return o&&Wx(n,`http://${o}`),n}function IN(){return document.getElementsByTagName("head")?.[0]??document}Bx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",IN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bN("Browser");const xN={apiKey:"AIzaSyCzGMUJ87YPFhcmdHH-316cy0TQaheFiIY",authDomain:"labs-1d070.firebaseapp.com",projectId:"labs-1d070",storageBucket:"labs-1d070.firebasestorage.app",messagingSenderId:"747089113680",appId:"1:747089113680:web:b3b50bcd2a1af40633d755"},nb=L0(xN),Kt=$2(nb),eh=CN(nb);new nr;const ib=q.createContext(),Co=()=>q.useContext(ib),DN=({children:r})=>{const[e,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(!0),m=w=>`${w}@lams.app`,y=async(w,O)=>{const G=m(w);return fD(eh,G,O)},p=async(w,O,G,Y)=>{const H=m(w),{user:ne}=await hD(eh,H,O);return await fx(or(Kt,"users",ne.uid),{empId:w,name:G,email:Y,role:"user",status:"pending",createdAt:new Date().toISOString()}),ne},E=()=>gD(eh);q.useEffect(()=>pD(eh,async O=>{if(console.log("Auth State Changed:",O?O.uid:"No User"),n(O),O){const G=or(Kt,"users",O.uid);try{const Y=await hx(G);if(Y.exists()){const H=Y.data();console.log("User Profile Loaded:",H),o(H)}else console.error("No user profile found in Firestore!"),o(null)}catch(Y){console.error("Error fetching user profile:",Y)}}else o(null);f(!1)}),[]);const S={currentUser:e,userProfile:s,login:y,signup:p,logout:E,loading:u};return b.jsx(ib.Provider,{value:S,children:!u&&r})},$a=({children:r})=>{const e=mr(),[n,s]=q.useState(!0),{userProfile:o}=Co(),u=[{path:"/",label:"Dashboard",icon:""},{path:"/assignments",label:"Assignments",icon:""},{path:"/schedule",label:"Schedule",icon:""},{path:"/master-data",label:"Master Data",icon:""},{path:"/analytics",label:"Analytics",icon:""}];return b.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"var(--color-bg-main)"},children:[b.jsxs("aside",{className:"glass-panel",style:{width:n?"260px":"80px",margin:"var(--space-md)",padding:"var(--space-md)",display:"flex",flexDirection:"column",transition:"width 0.3s ease",position:"sticky",top:"var(--space-md)",height:"calc(100vh - 2 * var(--space-md))"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-xl)",padding:"0 var(--space-xs)"},children:[b.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",marginRight:n?"var(--space-md)":"0",flexShrink:0},children:""}),n&&b.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"LAB"})]}),b.jsxs("nav",{style:{flex:1,display:"flex",flexDirection:"column",gap:"var(--space-xs)"},children:[u.map(f=>b.jsxs(mh,{to:f.path,style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname===f.path?"white":"var(--color-text-muted)",background:e.pathname===f.path?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname===f.path?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n?"flex-start":"center"},children:[b.jsx("span",{style:{fontSize:"1.25rem",marginRight:n?"var(--space-md)":0},children:f.icon}),n&&b.jsx("span",{style:{fontWeight:500},children:f.label})]},f.path)),o&&o.role==="admin"&&b.jsxs(mh,{to:"/admin",style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname==="/admin"?"white":"var(--color-text-muted)",background:e.pathname==="/admin"?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname==="/admin"?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n?"flex-start":"center",marginTop:"var(--space-sm)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[b.jsx("span",{style:{fontSize:"1.25rem",marginRight:n?"var(--space-md)":0},children:""}),n&&b.jsx("span",{style:{fontWeight:500},children:"Admin Panel"})]})]}),b.jsx("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"var(--space-md)",marginTop:"auto"},children:b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},children:[b.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--color-bg-secondary)",border:"1px solid var(--glass-border)"}}),n&&b.jsxs("div",{style:{overflow:"hidden"},children:[b.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600},children:o?o.name:"Guest"}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:o?o.role:"Sign in"})]})]})})]}),b.jsxs("main",{style:{flex:1,padding:"var(--space-md)",overflowY:"auto"},children:[b.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-xl)"},children:[b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:u.find(f=>f.path===e.pathname)?.label||(e.pathname==="/admin"?"Admin Panel":"Dashboard")}),b.jsx("p",{style:{color:"var(--color-text-muted)",margin:0},children:"Welcome back to your lab management workspace"})]}),b.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[b.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""}),b.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""})]})]}),b.jsx("div",{className:"animate-fade-in",children:r})]})]})},NN=({title:r,value:e,icon:n,trend:s,color:o})=>b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)",position:"relative",overflow:"hidden"},children:[b.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"5rem",opacity:.05},children:n}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-sm)"},children:[b.jsx("div",{style:{padding:"var(--space-xs)",borderRadius:"var(--radius-md)",background:`rgba(${o}, 0.1)`,color:`rgb(${o})`},children:n}),s&&b.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-success)",background:"rgba(16, 185, 129, 0.1)",padding:"2px 6px",borderRadius:"var(--radius-full)"},children:s})]}),b.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"var(--space-xs)"},children:e}),b.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.875rem"},children:r})]}),ON=({user:r,action:e,time:n})=>b.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",padding:"var(--space-md)",borderBottom:"1px solid var(--glass-border)"},children:[b.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:r.charAt(0)}),b.jsxs("div",{style:{flex:1},children:[b.jsxs("div",{style:{fontSize:"0.875rem"},children:[b.jsx("span",{style:{fontWeight:600},children:r})," ",e]}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"2px"},children:n})]})]}),MN=()=>{const r=[{title:"Total Assignments",value:"124",icon:"",trend:"+12%",color:"59, 130, 246"},{title:"Active Faculty",value:"48",icon:"",trend:"+2",color:"16, 185, 129"},{title:"Lab Rooms",value:"12",icon:"",color:"245, 158, 11"},{title:"Subjects",value:"36",icon:"",color:"239, 68, 68"}],e=[{user:"Dr. Smith",action:"created a new assignment for CSE 3rd Sem",time:"2 mins ago"},{user:"Prof. Johnson",action:"updated the schedule for Lab 1",time:"15 mins ago"},{user:"Admin",action:"approved 2 new faculty members",time:"1 hour ago"},{user:"System",action:"performed automated backup",time:"3 hours ago"}];return b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-xl)"},children:[b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"var(--space-lg)"},children:r.map((n,s)=>b.jsx(NN,{...n},s))}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"var(--space-lg)"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"0"},children:[b.jsxs("div",{style:{padding:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("h3",{style:{margin:0},children:"Recent Activity"}),b.jsx("button",{className:"btn",style:{fontSize:"0.875rem",color:"var(--color-accent)"},children:"View All"})]}),b.jsx("div",{children:e.map((n,s)=>b.jsx(ON,{...n},s))})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)"},children:[b.jsx("h3",{style:{marginTop:0},children:"Quick Actions"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-sm)"},children:b.jsxs("button",{className:"btn glass-panel",style:{textAlign:"center",padding:"var(--space-md)",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)"},children:[b.jsx("span",{style:{fontSize:"1.25rem"},children:""}),b.jsx("span",{children:"Export Report"})]})}),b.jsxs("div",{style:{marginTop:"var(--space-xl)",padding:"var(--space-md)",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-md)",borderLeft:"3px solid var(--color-accent)"},children:[b.jsx("h4",{style:{margin:"0 0 var(--space-xs) 0",fontSize:"0.875rem",color:"var(--color-accent)"},children:" Pro Tip"}),b.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Drag and drop assignments in the Schedule view to quickly reorganize lab timings."})]})]})]})]})},VN=()=>{const{login:r,signup:e,currentUser:n}=Co(),s=sp(),[o,u]=q.useState(!0),[f,m]=q.useState(!1),[y,p]=q.useState(!1),[E,S]=q.useState({empId:"",password:"",name:"",recoveryEmail:""}),[w,O]=q.useState(""),[G,Y]=q.useState("");q.useEffect(()=>{n&&s("/")},[n,s]);const[H,ne]=q.useState(1),[re,ie]=q.useState(""),[ge,Se]=q.useState(""),[te,x]=q.useState(null),[R,C]=q.useState(""),P=async k=>{k.preventDefault(),O(""),Y(""),p(!0);try{o?await r(E.empId,E.password):await e(E.empId,E.password,E.name,E.recoveryEmail)}catch(I){console.error(I),O(`Failed: ${I.message} (${I.code})`),I.code==="auth/invalid-credential"?O("Invalid Employee ID or Password."):I.code==="auth/email-already-in-use"?O("This Employee ID is already registered."):I.code==="auth/weak-password"&&O("Password should be at least 6 characters.")}finally{p(!1)}},N=async k=>{k.preventDefault(),O(""),Y(""),p(!0);try{if(H===1){const I=yS(tr(Kt,"users"),lx("empId","==",re)),Qe=await Ys(I);if(Qe.empty){O("Employee ID not found."),p(!1);return}const et=Qe.docs[0].data();if(!et.email){O("No recovery email found for this user. Contact Admin."),p(!1);return}const L=Math.floor(1e5+Math.random()*9e5).toString();x(L),alert(`[SIMULATION] OTP sent to ${et.email}: ${L}`),console.log(`OTP for ${et.email}: ${L}`),Y(`OTP sent to ${et.email}`),ne(2)}else H===2?ge===te?(ne(3),Y("OTP Verified. Enter new password.")):O("Invalid OTP."):H===3&&(alert("Password Reset Successfully! (Simulated - In a real app, this would update Auth)"),m(!1),ne(1),ie(""),Se(""),C(""),Y("Password reset successful. Please login with your new password."))}catch(I){console.error(I),O("An error occurred. Please try again.")}finally{p(!1)}};return f?b.jsx("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)"},children:b.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[b.jsx("h2",{style:{marginBottom:"var(--space-lg)"},children:"Reset Password"}),G&&b.jsx("div",{style:{padding:"0.5rem",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"4px",marginBottom:"1rem"},children:G}),w&&b.jsx("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem"},children:w}),b.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[H===1&&b.jsx("input",{type:"text",placeholder:"Enter Employee ID",className:"glass-input",value:re,onChange:k=>ie(k.target.value),required:!0}),H===2&&b.jsx("input",{type:"text",placeholder:"Enter OTP",className:"glass-input",value:ge,onChange:k=>Se(k.target.value),required:!0}),H===3&&b.jsx("input",{type:"password",placeholder:"New Password",className:"glass-input",value:R,onChange:k=>C(k.target.value),required:!0}),b.jsx("button",{type:"submit",className:"btn",style:{background:"var(--color-accent)",color:"white"},children:H===1?"Send OTP":H===2?"Verify OTP":"Reset Password"}),b.jsx("button",{type:"button",onClick:()=>m(!1),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",marginTop:"1rem"},children:"Back to Login"})]})]})}):b.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)",position:"relative",overflow:"hidden"},children:[b.jsx("div",{style:{position:"absolute",top:"-10%",right:"-10%",width:"500px",height:"500px",background:"radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.5,animation:"float 10s infinite ease-in-out"}}),b.jsx("div",{style:{position:"absolute",bottom:"-10%",left:"-10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.4,animation:"float 15s infinite ease-in-out reverse"}}),b.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center",zIndex:10,border:"1px solid rgba(255, 255, 255, 0.15)"},children:[b.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-lg)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto var(--space-lg)",boxShadow:"0 0 20px var(--color-accent-glow)"},children:""}),b.jsx("h1",{style:{marginBottom:"var(--space-xs)",fontSize:"2rem"},children:o?"Welcome Back":"Join LAB"}),b.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"var(--space-xl)"},children:"Institute Lab Management System"}),G&&b.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:G}),w&&b.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:w}),b.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",gap:"var(--space-md)"},children:[!o&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:"Full Name",className:"glass-input",value:E.name,onChange:k=>S({...E,name:k.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("input",{type:"email",placeholder:"Recovery Email",className:"glass-input",value:E.recoveryEmail,onChange:k=>S({...E,recoveryEmail:k.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}})]}),b.jsx("input",{type:"text",placeholder:"Employee ID",className:"glass-input",value:E.empId,onChange:k=>S({...E,empId:k.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("input",{type:"password",placeholder:"Password",className:"glass-input",value:E.password,onChange:k=>S({...E,password:k.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("button",{type:"submit",className:"btn",disabled:y,style:{width:"100%",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",color:"white",padding:"var(--space-md)",fontSize:"1rem",marginTop:"var(--space-sm)",opacity:y?.7:1},children:y?"Processing...":o?"Sign In":"Sign Up"})]}),b.jsxs("div",{style:{marginTop:"var(--space-lg)",fontSize:"0.875rem",color:"var(--color-text-muted)"},children:[o&&b.jsx("div",{style:{marginBottom:"1rem"},children:b.jsx("button",{onClick:()=>m(!0),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",textDecoration:"underline"},children:"Forgot Password?"})}),o?"Don't have an account? ":"Already have an account? ",b.jsx("button",{onClick:()=>{u(!o),O(""),Y("")},style:{background:"none",border:"none",color:"var(--color-accent)",cursor:"pointer",textDecoration:"underline"},children:o?"Sign Up":"Sign In"})]})]}),b.jsx("style",{children:`
        @keyframes float {
          0% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
          100% { transform: translate(0, 0); }
        }
      `})]})},PN=()=>{const{userProfile:r}=Co(),[e,n]=q.useState("horizontal"),[s,o]=q.useState("CSE"),[u,f]=q.useState("3rd"),[m,y]=q.useState([]),[p,E]=q.useState([]),[S,w]=q.useState([]),[O,G]=q.useState([]),[Y,H]=q.useState(!0),[ne,re]=q.useState(!1),[ie,ge]=q.useState({day:"Monday",time:"09:00 - 10:00",subject:"",room:"",faculty:"",group:"All"}),[Se,te]=q.useState(""),x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["09:00 - 10:00","10:00 - 11:00","11:00 - 12:00","12:00 - 01:00","01:00 - 02:00","02:00 - 03:00","03:00 - 04:00","04:00 - 05:00"];q.useEffect(()=>{(async()=>{try{const[se,le,ye]=await Promise.all([Ys(tr(Kt,"rooms")),Ys(tr(Kt,"faculty")),Ys(tr(Kt,"subjects"))]);E(se.docs.map(Le=>Le.data().name)),w(le.docs.map(Le=>Le.data().name)),G(ye.docs.map(Le=>Le.data().name))}catch(se){console.error("Error loading master data:",se)}})()},[]);const C=async()=>{H(!0);try{const L=yS(tr(Kt,"schedule")),se=await Ys(L),le=[];se.forEach(ye=>{le.push({id:ye.id,...ye.data()})}),y(le)}catch(L){console.error("Error loading schedule:",L)}finally{H(!1)}};q.useEffect(()=>{C()},[s,u]);const P=(L,se)=>m.find(le=>le.day===L&&le.time===se),N=async L=>{const se=m.find(ye=>ye.day===L.day&&ye.time===L.time&&ye.room===L.room);if(se)return`Conflict! Room "${L.room}" is already booked for "${se.subject}" at this time.`;const le=m.find(ye=>ye.day===L.day&&ye.time===L.time&&ye.faculty===L.faculty);return le?`Conflict! ${L.faculty} is already teaching "${le.subject}" in ${le.room} at this time.`:null},k=async L=>{L.preventDefault(),te("");const se=await N(ie);if(se){te(se);return}try{await TS(tr(Kt,"schedule"),{...ie,dept:s,sem:u}),re(!1),ge({...ie,subject:"",room:"",faculty:""}),C()}catch(le){console.error("Error saving schedule:",le),te("Failed to save schedule.")}},I=async L=>{if(window.confirm("Are you sure you want to remove this class?"))try{await Kp(or(Kt,"schedule",L)),C()}catch(se){console.error("Error deleting:",se)}},Qe=(L,se)=>{ge({...ie,day:L,time:se,subject:"",room:"",faculty:""}),te(""),re(!0)},et=r&&r.role==="admin";return b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-md)",height:"100%"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-md)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"var(--space-md)"},children:[b.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[b.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},children:"Weekly Schedule"}),b.jsx("div",{style:{height:"24px",width:"1px",background:"var(--glass-border)"}}),b.jsxs("select",{className:"glass-input",value:s,onChange:L=>o(L.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[b.jsx("option",{value:"CSE",children:"CSE"}),b.jsx("option",{value:"ECE",children:"ECE"}),b.jsx("option",{value:"ME",children:"ME"})]}),b.jsxs("select",{className:"glass-input",value:u,onChange:L=>f(L.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[b.jsx("option",{value:"3rd",children:"3rd Sem"}),b.jsx("option",{value:"5th",children:"5th Sem"}),b.jsx("option",{value:"7th",children:"7th Sem"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[b.jsx("button",{className:"btn",onClick:()=>n("horizontal"),style:{background:e==="horizontal"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Horizontal"}),b.jsx("button",{className:"btn",onClick:()=>n("vertical"),style:{background:e==="vertical"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Vertical"})]})]}),b.jsx("div",{className:"glass-panel",style:{padding:0,overflow:"auto",flex:1},children:b.jsxs("div",{style:{display:"grid",gridTemplateColumns:`100px repeat(${R.length}, minmax(160px, 1fr))`,minWidth:"100%"},children:[b.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",position:"sticky",left:0,zIndex:10,backdropFilter:"blur(10px)"},children:"Day / Time"}),R.map(L=>b.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",textAlign:"center",fontWeight:600,fontSize:"0.875rem"},children:L},L)),x.map(L=>b.jsxs(UA.Fragment,{children:[b.jsx("div",{style:{padding:"var(--space-md)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",fontWeight:600,background:"rgba(255,255,255,0.02)",position:"sticky",left:0,zIndex:5,backdropFilter:"blur(10px)"},children:L}),R.map(se=>{const le=P(L,se);return b.jsx("div",{style:{padding:"var(--space-xs)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",minHeight:"100px",position:"relative"},children:le?b.jsxs("div",{className:"animate-fade-in",style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"var(--radius-sm)",padding:"var(--space-xs)",height:"100%",fontSize:"0.75rem",cursor:"pointer",transition:"transform 0.2s",":hover":{transform:"scale(1.02)"}},children:[b.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"2px"},children:le.subject}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"var(--color-text-muted)"},children:[b.jsx("span",{children:le.room}),b.jsx("span",{children:le.group})]}),b.jsx("div",{style:{marginTop:"4px",fontStyle:"italic",color:"white"},children:le.faculty}),et&&b.jsx("button",{onClick:ye=>{ye.stopPropagation(),I(le.id)},style:{position:"absolute",top:"2px",right:"2px",background:"none",border:"none",color:"#fca5a5",cursor:"pointer",fontSize:"0.7rem"},children:""})]}):et&&b.jsx("div",{style:{height:"100%",width:"100%",opacity:0,transition:"opacity 0.2s",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:ye=>ye.currentTarget.style.opacity="1",onMouseLeave:ye=>ye.currentTarget.style.opacity="0",onClick:()=>Qe(L,se),children:b.jsx("span",{style:{fontSize:"1.5rem",color:"var(--color-text-muted)"},children:"+"})})},`${L}-${se}`)})]},L))]})}),ne&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:b.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[b.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Add Class"}),b.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"1rem"},children:[ie.day," @ ",ie.time]}),Se&&b.jsxs("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.875rem"},children:[" ",Se]}),b.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("select",{className:"glass-input",value:ie.subject,onChange:L=>ge({...ie,subject:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Subject"}),O.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsxs("select",{className:"glass-input",value:ie.room,onChange:L=>ge({...ie,room:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Room"}),p.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsxs("select",{className:"glass-input",value:ie.faculty,onChange:L=>ge({...ie,faculty:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Faculty"}),S.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsx("input",{className:"glass-input",placeholder:"Group (e.g. G1, All)",value:ie.group,onChange:L=>ge({...ie,group:L.target.value})}),b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[b.jsx("button",{type:"button",onClick:()=>re(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},kN=()=>{const{userProfile:r}=Co(),[e,n]=q.useState([]),[s,o]=q.useState(!0),[u,f]=q.useState("all"),m=async()=>{o(!0);try{const w=await Ys(tr(Kt,"users")),O=[];w.forEach(G=>{O.push({id:G.id,...G.data()})}),n(O)}catch(w){console.error("Error fetching users: ",w)}finally{o(!1)}};q.useEffect(()=>{m()},[]);const y=async(w,O)=>{try{await $m(or(Kt,"users",w),{status:O}),m()}catch(G){console.error("Error updating status: ",G),alert("Failed to update status.")}},p=async(w,O)=>{if(window.confirm(`Are you sure you want to change this user's role to ${O}?`))try{await $m(or(Kt,"users",w),{role:O}),m()}catch(G){console.error("Error updating role: ",G),alert("Failed to update role.")}},E=async w=>{if(window.confirm("Are you sure you want to DELETE this user? This cannot be undone."))try{await Kp(or(Kt,"users",w)),m()}catch(O){console.error("Error deleting user: ",O),alert("Failed to delete user.")}},S=e.filter(w=>u==="all"?!0:w.status===u);return!r||r.role!=="admin"?b.jsx("div",{style:{color:"white",padding:"2rem",textAlign:"center"},children:"Access Denied. Admins only."}):b.jsxs("div",{style:{paddingBottom:"2rem"},children:[b.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"var(--space-lg)"},children:"Admin Panel"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Total Users"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:e.length})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Pending Approval"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#fbbf24"},children:e.filter(w=>w.status==="pending").length})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Admins"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-accent)"},children:e.filter(w=>w.role==="admin").length})]})]}),b.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.5rem"},children:[b.jsx("button",{onClick:()=>f("all"),className:"btn",style:{background:u==="all"?"var(--color-accent)":"rgba(255,255,255,0.1)"},children:"All Users"}),b.jsx("button",{onClick:()=>f("pending"),className:"btn",style:{background:u==="pending"?"#fbbf24":"rgba(255,255,255,0.1)",color:u==="pending"?"black":"white"},children:"Pending"}),b.jsx("button",{onClick:()=>f("approved"),className:"btn",style:{background:u==="approved"?"#10b981":"rgba(255,255,255,0.1)"},children:"Approved"})]}),b.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:[b.jsx("th",{style:{padding:"1rem"},children:"Name"}),b.jsx("th",{style:{padding:"1rem"},children:"Emp ID"}),b.jsx("th",{style:{padding:"1rem"},children:"Email"}),b.jsx("th",{style:{padding:"1rem"},children:"Status"}),b.jsx("th",{style:{padding:"1rem"},children:"Role"}),b.jsx("th",{style:{padding:"1rem"},children:"Actions"})]})}),b.jsx("tbody",{children:s?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):S.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No users found."})}):S.map(w=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsx("td",{style:{padding:"1rem"},children:w.name}),b.jsx("td",{style:{padding:"1rem"},children:w.empId}),b.jsx("td",{style:{padding:"1rem"},children:w.email||"-"}),b.jsx("td",{style:{padding:"1rem"},children:b.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",background:w.status==="approved"?"rgba(16, 185, 129, 0.2)":"rgba(251, 191, 36, 0.2)",color:w.status==="approved"?"#6ee7b7":"#fcd34d"},children:w.status})}),b.jsx("td",{style:{padding:"1rem"},children:w.role}),b.jsxs("td",{style:{padding:"1rem",display:"flex",gap:"0.5rem"},children:[w.status==="pending"&&b.jsx("button",{onClick:()=>y(w.id,"approved"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#10b981"},children:"Approve"}),w.role!=="admin"&&b.jsx("button",{onClick:()=>p(w.id,"admin"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"var(--color-accent)"},children:"Make Admin"}),b.jsx("button",{onClick:()=>E(w.id),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#ef4444"},children:"Delete"})]})]},w.id))})]})})]})},LN=()=>{const{userProfile:r}=Co(),[e,n]=q.useState("faculty"),[s,o]=q.useState([]),[u,f]=q.useState(!0),[m,y]=q.useState(!1),[p,E]=q.useState({}),[S,w]=q.useState(null),O=r&&r.role==="admin",G={faculty:"faculty",rooms:"rooms",subjects:"subjects",timeslots:"timeslots"},Y=async()=>{f(!0);try{const te=await Ys(tr(Kt,G[e])),x=[];te.forEach(R=>{x.push({id:R.id,...R.data()})}),o(x)}catch(te){console.error("Error fetching data: ",te)}finally{f(!1)}};q.useEffect(()=>{Y()},[e]);const H=async te=>{te.preventDefault();try{S?await $m(or(Kt,G[e],S),p):await TS(tr(Kt,G[e]),p),y(!1),E({}),w(null),Y()}catch(x){console.error("Error saving document: ",x)}},ne=async te=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Kp(or(Kt,G[e],te)),Y()}catch(x){console.error("Error deleting document: ",x)}},re=(te=null)=>{te?(E(te),w(te.id)):(E({}),w(null)),y(!0)},ie=()=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Name",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Emp ID",value:p.empId||"",onChange:te=>E({...p,empId:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Email",value:p.email||"",onChange:te=>E({...p,email:te.target.value})}),b.jsx("input",{className:"glass-input",placeholder:"Department",value:p.department||"",onChange:te=>E({...p,department:te.target.value})})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Room Name/Number",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Capacity",type:"number",value:p.capacity||"",onChange:te=>E({...p,capacity:te.target.value})}),b.jsxs("select",{className:"glass-input",value:p.type||"lab",onChange:te=>E({...p,type:te.target.value}),children:[b.jsx("option",{value:"lab",children:"Lab"}),b.jsx("option",{value:"lecture",children:"Lecture Hall"})]})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Subject Code",value:p.code||"",onChange:te=>E({...p,code:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Subject Name",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Semester",type:"number",value:p.semester||"",onChange:te=>E({...p,semester:te.target.value})}),b.jsxs("select",{className:"glass-input",value:p.type||"lab",onChange:te=>E({...p,type:te.target.value}),children:[b.jsx("option",{value:"lab",children:"Lab"}),b.jsx("option",{value:"theory",children:"Theory"})]})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Label (e.g., Slot A)",value:p.label||"",onChange:te=>E({...p,label:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",type:"time",value:p.startTime||"",onChange:te=>E({...p,startTime:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",type:"time",value:p.endTime||"",onChange:te=>E({...p,endTime:te.target.value}),required:!0})]});default:return null}},ge=()=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Emp ID"}),b.jsx("th",{children:"Dept"}),O&&b.jsx("th",{children:"Actions"})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Capacity"}),b.jsx("th",{children:"Type"}),O&&b.jsx("th",{children:"Actions"})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Code"}),b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Sem"}),b.jsx("th",{children:"Type"}),O&&b.jsx("th",{children:"Actions"})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Label"}),b.jsx("th",{children:"Start"}),b.jsx("th",{children:"End"}),O&&b.jsx("th",{children:"Actions"})]});default:return null}},Se=te=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.empId}),b.jsx("td",{style:{padding:"1rem"},children:te.department})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.capacity}),b.jsx("td",{style:{padding:"1rem"},children:te.type})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.code}),b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.semester}),b.jsx("td",{style:{padding:"1rem"},children:te.type})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.label}),b.jsx("td",{style:{padding:"1rem"},children:te.startTime}),b.jsx("td",{style:{padding:"1rem"},children:te.endTime})]});default:return null}};return b.jsxs("div",{style:{paddingBottom:"2rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},children:[b.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:"Master Data Management"}),O&&b.jsxs("button",{className:"btn",style:{background:"var(--color-accent)",color:"white"},onClick:()=>re(),children:["+ Add New ",e.slice(0,-1)]})]}),b.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)"},children:Object.keys(G).map(te=>b.jsx("button",{onClick:()=>n(te),style:{padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:e===te?"2px solid var(--color-accent)":"2px solid transparent",color:e===te?"white":"var(--color-text-muted)",cursor:"pointer",fontSize:"1rem",textTransform:"capitalize",transition:"all 0.2s"},children:te},te))}),b.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[b.jsx("thead",{children:b.jsx("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:ge()})}),b.jsx("tbody",{children:u?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No records found."})}):s.map(te=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[Se(te),O&&b.jsxs("td",{style:{padding:"1rem"},children:[b.jsx("button",{onClick:()=>re(te),style:{background:"none",border:"none",cursor:"pointer",marginRight:"0.5rem"},children:""}),b.jsx("button",{onClick:()=>ne(te.id),style:{background:"none",border:"none",cursor:"pointer"},children:""})]})]},te.id))})]})}),m&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:b.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[b.jsxs("h3",{style:{marginBottom:"1.5rem"},children:[S?"Edit":"Add"," ",e.slice(0,-1)]}),b.jsxs("form",{onSubmit:H,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[ie(),b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[b.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},Wa=({children:r,requiredRole:e})=>{const{currentUser:n,userProfile:s,loading:o}=Co();return o?b.jsx("div",{style:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):n?s&&s.status==="pending"?b.jsxs("div",{className:"glass-panel",style:{margin:"2rem",padding:"2rem",textAlign:"center",color:"white"},children:[b.jsx("h1",{children:"Account Pending"}),b.jsx("p",{children:"Your account is waiting for admin approval. Please check back later."}),b.jsx("button",{className:"btn",onClick:()=>window.location.reload(),style:{marginTop:"1rem",background:"var(--color-accent)"},children:"Check Status"})]}):e&&s&&s.role!==e?b.jsx(wm,{to:"/",replace:!0}):r:b.jsx(wm,{to:"/login",replace:!0})};function UN(){return b.jsx(DN,{children:b.jsx(sw,{children:b.jsxs(k1,{children:[b.jsx(er,{path:"/login",element:b.jsx(VN,{})}),b.jsx(er,{path:"/",element:b.jsx(Wa,{children:b.jsx($a,{children:b.jsx(MN,{})})})}),b.jsx(er,{path:"/schedule",element:b.jsx(Wa,{children:b.jsx($a,{children:b.jsx(PN,{})})})}),b.jsx(er,{path:"/assignments",element:b.jsx(Wa,{children:b.jsx($a,{children:b.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:b.jsx("h2",{children:"Assignments Component Placeholder"})})})})}),b.jsx(er,{path:"/master-data",element:b.jsx(Wa,{children:b.jsx($a,{children:b.jsx(LN,{})})})}),b.jsx(er,{path:"/analytics",element:b.jsx(Wa,{children:b.jsx($a,{children:b.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:b.jsx("h2",{children:"Analytics Component Placeholder"})})})})}),b.jsx(er,{path:"/admin",element:b.jsx(Wa,{requiredRole:"admin",children:b.jsx($a,{children:b.jsx(kN,{})})})}),b.jsx(er,{path:"*",element:b.jsx(wm,{to:"/",replace:!0})})]})})})}GA.createRoot(document.getElementById("root")).render(b.jsx(q.StrictMode,{children:b.jsx(UN,{})}));
