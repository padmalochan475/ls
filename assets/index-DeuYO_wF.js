(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sm={exports:{}},Ml={};var bv;function Ub(){if(bv)return Ml;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Av;function jb(){return Av||(Av=1,sm.exports=Ub()),sm.exports}var b=jb(),am={exports:{}},Ae={};var wv;function zb(){if(wv)return Ae;wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function ne(V,Z,oe){this.props=V,this.context=Z,this.refs=H,this.updater=oe||G}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function re(V,Z,oe){this.props=V,this.context=Z,this.refs=H,this.updater=oe||G}var ge=re.prototype=new ie;ge.constructor=re,Y(ge,ne.prototype),ge.isPureReactComponent=!0;var Se=Array.isArray;function te(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,Z,oe){var he=oe.ref;return{$$typeof:r,type:V,key:Z,ref:he!==void 0?he:null,props:oe}}function k(V,Z){return C(V.type,Z,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return Z[oe]})}var I=/\/+/g;function Qe(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(te,te):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function L(V,Z,oe,he,Te){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case r:case e:je=!0;break;case E:return je=V._init,L(je(V._payload),Z,oe,he,Te)}}if(je)return Te=Te(V),je=he===""?"."+Qe(V,0):he,Se(Te)?(oe="",je!=null&&(oe=je.replace(I,"$&/")+"/"),L(Te,Z,oe,"",function(gs){return gs})):Te!=null&&(N(Te)&&(Te=k(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+je)),Z.push(Te)),1;je=0;var Nt=he===""?".":he+":";if(Se(V))for(var at=0;at<V.length;at++)he=V[at],Ie=Nt+Qe(he,at),je+=L(he,Z,oe,Ie,Te);else if(at=O(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ie=Nt+Qe(he,at++),je+=L(he,Z,oe,Ie,Te);else if(Ie==="object"){if(typeof V.then=="function")return L(et(V),Z,oe,he,Te);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(V,Z,oe){if(V==null)return V;var he=[],Te=0;return L(V,he,"","",function(Ie){return Z.call(oe,Ie,Te++)}),he}function le(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Le={map:se,forEach:function(V,Z,oe){se(V,function(){Z.apply(this,arguments)},oe)},count:function(V){var Z=0;return se(V,function(){Z++}),Z},toArray:function(V){return se(V,function(Z){return Z})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=S,Ae.Children=Le,Ae.Component=ne,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,Z,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=Y({},V.props),Te=V.key;if(Z!=null)for(Ie in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(he[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var je=Array(Ie),Nt=0;Nt<Ie;Nt++)je[Nt]=arguments[Nt+2];he.children=je}return C(V.type,Te,he)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,Z,oe){var he,Te={},Ie=null;if(Z!=null)for(he in Z.key!==void 0&&(Ie=""+Z.key),Z)R.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=Z[he]);var je=arguments.length-2;if(je===1)Te.children=oe;else if(1<je){for(var Nt=Array(je),at=0;at<je;at++)Nt[at]=arguments[at+2];Te.children=Nt}if(V&&V.defaultProps)for(he in je=V.defaultProps,je)Te[he]===void 0&&(Te[he]=je[he]);return C(V,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=N,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:le}},Ae.memo=function(V,Z){return{$$typeof:p,type:V,compare:Z===void 0?null:Z}},Ae.startTransition=function(V){var Z=x.T,oe={};x.T=oe;try{var he=V(),Te=x.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(te,ye)}catch(Ie){ye(Ie)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),x.T=Z}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(V){return x.H.use(V)},Ae.useActionState=function(V,Z,oe){return x.H.useActionState(V,Z,oe)},Ae.useCallback=function(V,Z){return x.H.useCallback(V,Z)},Ae.useContext=function(V){return x.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,Z){return x.H.useDeferredValue(V,Z)},Ae.useEffect=function(V,Z){return x.H.useEffect(V,Z)},Ae.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(V,Z,oe){return x.H.useImperativeHandle(V,Z,oe)},Ae.useInsertionEffect=function(V,Z){return x.H.useInsertionEffect(V,Z)},Ae.useLayoutEffect=function(V,Z){return x.H.useLayoutEffect(V,Z)},Ae.useMemo=function(V,Z){return x.H.useMemo(V,Z)},Ae.useOptimistic=function(V,Z){return x.H.useOptimistic(V,Z)},Ae.useReducer=function(V,Z,oe){return x.H.useReducer(V,Z,oe)},Ae.useRef=function(V){return x.H.useRef(V)},Ae.useState=function(V){return x.H.useState(V)},Ae.useSyncExternalStore=function(V,Z,oe){return x.H.useSyncExternalStore(V,Z,oe)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var Rv;function np(){return Rv||(Rv=1,am.exports=zb()),am.exports}var j=np();const Bb=Lb(j);var om={exports:{}},Vl={},lm={exports:{}},um={};var Cv;function qb(){return Cv||(Cv=1,(function(r){function e(L,se){var le=L.length;L.push(se);e:for(;0<le;){var ye=le-1>>>1,Le=L[ye];if(0<o(Le,se))L[ye]=se,L[le]=Le,le=ye;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var se=L[0],le=L.pop();if(le!==se){L[0]=le;e:for(var ye=0,Le=L.length,V=Le>>>1;ye<V;){var Z=2*(ye+1)-1,oe=L[Z],he=Z+1,Te=L[he];if(0>o(oe,le))he<Le&&0>o(Te,oe)?(L[ye]=Te,L[he]=le,ye=he):(L[ye]=oe,L[Z]=le,ye=Z);else if(he<Le&&0>o(Te,le))L[ye]=Te,L[he]=le,ye=he;else break e}}return se}function o(L,se){var le=L.sortIndex-se.sortIndex;return le!==0?le:L.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,S=null,w=3,O=!1,G=!1,Y=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(L){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=L)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function Se(L){if(Y=!1,ge(L),!G)if(n(g)!==null)G=!0,te||(te=!0,P());else{var se=n(p);se!==null&&et(Se,se.startTime-L)}}var te=!1,x=-1,R=5,C=-1;function k(){return H?!0:!(r.unstable_now()-C<R)}function N(){if(H=!1,te){var L=r.unstable_now();C=L;var se=!0;try{e:{G=!1,Y&&(Y=!1,ie(x),x=-1),O=!0;var le=w;try{t:{for(ge(L),S=n(g);S!==null&&!(S.expirationTime>L&&k());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,w=S.priorityLevel;var Le=ye(S.expirationTime<=L);if(L=r.unstable_now(),typeof Le=="function"){S.callback=Le,ge(L),se=!0;break t}S===n(g)&&s(g),ge(L)}else s(g);S=n(g)}if(S!==null)se=!0;else{var V=n(p);V!==null&&et(Se,V.startTime-L),se=!1}}break e}finally{S=null,w=le,O=!1}se=void 0}}finally{se?P():te=!1}}}var P;if(typeof re=="function")P=function(){re(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Qe=I.port2;I.port1.onmessage=N,P=function(){Qe.postMessage(null)}}else P=function(){ne(N,0)};function et(L,se){x=ne(function(){L(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(L){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var le=w;w=se;try{return L()}finally{w=le}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(L,se){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=w;w=L;try{return se()}finally{w=le}},r.unstable_scheduleCallback=function(L,se,le){var ye=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,L){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=le+Le,L={id:E++,callback:se,priorityLevel:L,startTime:le,expirationTime:Le,sortIndex:-1},le>ye?(L.sortIndex=le,e(p,L),n(g)===null&&L===n(p)&&(Y?(ie(x),x=-1):Y=!0,et(Se,le-ye))):(L.sortIndex=Le,e(g,L),G||O||(G=!0,te||(te=!0,P()))),L},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(L){var se=w;return function(){var le=w;w=se;try{return L.apply(this,arguments)}finally{w=le}}}})(um)),um}var Iv;function Hb(){return Iv||(Iv=1,lm.exports=qb()),lm.exports}var cm={exports:{}},$t={};var xv;function Fb(){if(xv)return $t;xv=1;var r=np();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},$t.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Dv;function Gb(){if(Dv)return cm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=Fb(),cm.exports}var Nv;function Qb(){if(Nv)return Vl;Nv=1;var r=Hb(),e=np(),n=Gb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case Se:return"Suspense";case te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var et=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],Le=-1;function V(t){return{current:t}}function Z(t){0>Le||(t.current=ye[Le],ye[Le]=null,Le--)}function oe(t,i){Le++,ye[Le]=t.current,t.current=i}var he=V(null),Te=V(null),Ie=V(null),je=V(null);function Nt(t,i){switch(oe(Ie,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=K_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(he),oe(he,t)}function at(){Z(he),Z(Te),Z(Ie)}function gs(t){t.memoizedState!==null&&oe(je,t);var i=he.current,a=K_(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function la(t){Te.current===t&&(Z(he),Z(Te)),je.current===t&&(Z(je),xl._currentValue=le)}var ua,ca;function ri(t){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+t+ca}var xo=!1;function ys(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var F=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){F=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){F=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),q=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ys(t.type,!1);case 11:return ys(t.type.render,!1);case 1:return ys(t.type,!0);case 31:return ri("Activity");default:return""}}function No(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,of=r.unstable_shouldYield,vu=r.unstable_requestPaint,tn=r.unstable_now,_s=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,lf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Su=r.unstable_setDisableYieldValue,Bn=null,zt=null;function wn(t){if(typeof Tu=="function"&&Su(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var dt=Math.clz32?Math.clz32:Au,bu=Math.log,ha=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(bu(t)/ha|0)|0}var si=256,vs=262144,Et=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Es(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-dt(a),W=1<<X;T[X]=0,D[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&Ts(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,kt="__reactProps$"+Fn,ui="__reactContainer$"+Fn,fa="__reactEvents$"+Fn,hf="__reactListeners$"+Fn,Cu="__reactHandles$"+Fn,Iu="__reactResources$"+Fn,ci="__reactMarker$"+Fn;function da(t){delete t[Tt],delete t[kt],delete t[fa],delete t[hf],delete t[Cu]}function hi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ev(t);t!==null;){if(a=t[Tt])return a;t=ev(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ci]=!0}var Po=new Set,Lo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function xu(t){return vt.call(zo,t)?!0:vt.call(jo,t)?!1:Uo.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function ma(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function bs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var As=/[\n"\\]/g;function sn(t){return t.replace(As,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Pt(i)):a!=null?qo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function qo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Go=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,gi=null;function ws(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&bs(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var _a=!1;function Ar(t,i,a){if(_a)return t(i,a);_a=!0;try{var l=t(i);return l}finally{if(_a=!1,(br!==null||gi!==null)&&(Rc(),br&&(i=br,t=gi,gi=br=null,ws(i),t)))for(i=0;i<t.length;i++)ws(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Rs=!1}var yi=null,Qo=null,Cs=null;function Ko(){if(Cs)return Cs;var t,i=Qo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cs=h.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Kn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Ui),wr=S({},Ui,{view:0,detail:0}),Yo=Bt(wr),Rr,va,vi,Ea=S({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Rr=t.screenX-vi.screenX,va=t.screenY-vi.screenY):va=Rr=0,vi=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Xo=Bt(Ea),xs=S({},Ea,{dataTransfer:0}),Vu=Bt(xs),ku=S({},wr,{relatedTarget:0}),Ds=Bt(ku),$o=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Bt($o),Ta=S({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=Bt(Ta),Uu=S({},Ui,{data:0}),Ei=Bt(Uu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Cr(){return qu}var nn=S({},wr,{key:function(t){if(t.key){var i=ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=Bt(nn),Fu=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Bt(Fu),c=S({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Bt(c),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),z=S({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Bt(z),ae=S({},Ui,{newState:0,oldState:0}),Re=Bt(ae),mt=[9,13,27,32],He=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var xn=In&&"TextEvent"in window&&!ot,Ti=In&&(!He||ot&&8<ot&&11>=ot),Yn=" ",Xn=!1;function Ns(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function o1(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function l1(t,i){if(ba)return t==="compositionend"||!He&&Ns(t,i)?(t=Ko(),Cs=Qo=yi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!u1[t.type]:i==="textarea"}function rg(t,i,a,l){br?gi?gi.push(l):gi=[l]:br=l,i=Mc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Jo=null;function c1(t){z_(t,0)}function Gu(t){var i=mn(t);if(bs(i))return t}function sg(t,i){if(t==="change")return i}var ag=!1;if(In){var ff;if(In){var df="oninput"in document;if(!df){var og=document.createElement("div");og.setAttribute("oninput","return;"),df=typeof og.oninput=="function"}ff=df}else ff=!1;ag=ff&&(!document.documentMode||9<document.documentMode)}function lg(){Wo&&(Wo.detachEvent("onpropertychange",ug),Jo=Wo=null)}function ug(t){if(t.propertyName==="value"&&Gu(Jo)){var i=[];rg(i,Jo,t,Cn(t)),Ar(c1,i)}}function h1(t,i,a){t==="focusin"?(lg(),Wo=i,Jo=a,Wo.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function f1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Jo)}function d1(t,i){if(t==="click")return Gu(i)}function m1(t,i){if(t==="input"||t==="change")return Gu(i)}function p1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:p1;function Zo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var g1=In&&"documentMode"in document&&11>=document.documentMode,Aa=null,pf=null,el=null,gf=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Aa==null||Aa!==pi(l)||(l=Aa,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=Mc(pf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},yf={},pg={};In&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ms(t){if(yf[t])return yf[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return yf[t]=i[a];return t}var gg=Ms("animationend"),yg=Ms("animationiteration"),_g=Ms("animationstart"),y1=Ms("transitionrun"),_1=Ms("transitionstart"),v1=Ms("transitioncancel"),vg=Ms("transitionend"),Eg=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function $n(t,i){Eg.set(t,i),di(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ra=0,vf=0;function Ku(){for(var t=Ra,i=vf=Ra=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function Yu(t,i,a,l){Dn[Ra++]=t,Dn[Ra++]=i,Dn[Ra++]=a,Dn[Ra++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,i,a,l){return Yu(t,i,a,l),Xu(t)}function Vs(t,i){return Yu(t,null,null,i),Xu(t)}function Tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<Sl)throw Sl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function E1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new E1(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=wb(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,h),t.elementType=C,t.lanes=d,t;case Y:return ks(a.children,h,d,i);case H:_=8,h|=24;break;case ne:return t=yn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Se:return t=yn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case te:return t=yn(19,a,i,h),t.elementType=te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ge:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ks(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function bg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:No(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:No(i)}}var Ia=[],xa=0,Wu=null,tl=0,On=[],Mn=0,Ir=null,Si=1,bi="";function Bi(t,i){Ia[xa++]=tl,Ia[xa++]=Wu,Wu=t,tl=i}function wg(t,i,a){On[Mn++]=Si,On[Mn++]=bi,On[Mn++]=Ir,Ir=t;var l=Si;t=bi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-dt(i)+h|a<<h|l,bi=d+t}else Si=1<<d|a<<h|l,bi=t}function Af(t){t.return!==null&&(Bi(t,1),wg(t,1,0))}function wf(t){for(;t===Wu;)Wu=Ia[--xa],Ia[xa]=null,tl=Ia[--xa],Ia[xa]=null;for(;t===Ir;)Ir=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Si=On[--Mn],On[Mn]=null}function Rg(t,i){On[Mn++]=Si,On[Mn++]=bi,On[Mn++]=Ir,Si=i.id,bi=i.overflow,Ir=t}var qt=null,it=null,Ue=!1,xr=null,Vn=!1,Rf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Nn(i,t)),Rf}function Cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ne(Al[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||F_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Dr(t,!0)}function Ig(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Da(t){if(t!==qt)return!1;if(!Ue)return Ig(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&it&&Dr(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Z_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Z_(t)}else i===27?(i=it,Fr(t.type)?(t=Xd,Xd=null,it=t):it=i):it=qt?Pn(t.stateNode.nextSibling):null;return!0}function Ps(){it=qt=null,Ue=!1}function Cf(){var t=xr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),xr=null),t}function nl(t){xr===null?xr=[t]:xr.push(t)}var If=V(null),Ls=null,qi=null;function Nr(t,i,a){oe(If,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=If.current,Z(If)}function xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return xg(Ls,t)}function Zu(t,i){return Ls===null&&Us(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var T1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},S1=r.unstable_scheduleCallback,b1=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new T1,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&S1(b1,function(){t.controller.abort()})}var rl=null,Of=0,Oa=0,Ma=null;function A1(t,i){if(rl===null){var a=rl=[];Of=0,Oa=kd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(Dg,Dg),i}function Dg(){if(--Of===0&&rl!==null){Ma!==null&&(Ma.status="fulfilled");var t=rl;rl=null,Oa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function w1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=L.S;L.S=function(t,i){m_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&A1(t,i),Ng!==null&&Ng(t,i)};var js=V(null);function Mf(){var t=js.current;return t!==null?t:tt.pooledCache}function ec(t,i){i===null?oe(js,js.current):oe(js,i.pool)}function Og(){var t=Mf();return t===null?null:{parent:At._currentValue,pool:t}}var Va=Error(s(460)),Vf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Bs=i,Va}}function zs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Va):a}}var Bs=null;function kg(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function Pg(t){if(t===Va||t===tc)throw Error(s(483))}var ka=null,sl=0;function ic(t){var i=sl;return sl+=1,ka===null&&(ka=[]),Vg(ka,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=zi(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,B,$){return M===null||M.tag!==6?(M=Sf(B,U.mode,$),M.return=U,M):(M=h(M,B),M.return=U,M)}function D(U,M,B,$){var me=B.type;return me===Y?X(U,M,B.props.children,$,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&zs(me)===M.type)?(M=h(M,B.props),al(M,B),M.return=U,M):(M=$u(B.type,B.key,B.props,null,U.mode,$),al(M,B),M.return=U,M)}function q(U,M,B,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=bf(B,U.mode,$),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function X(U,M,B,$,me){return M===null||M.tag!==7?(M=ks(B,U.mode,$,me),M.return=U,M):(M=h(M,B),M.return=U,M)}function W(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return B=$u(M.type,M.key,M.props,null,U.mode,B),al(B,M),B.return=U,B;case G:return M=bf(M,U.mode,B),M.return=U,M;case R:return M=zs(M),W(U,M,B)}if(et(M)||P(M))return M=ks(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return W(U,ic(M),B);if(M.$$typeof===re)return W(U,Zu(U,M),B);rc(U,M)}return null}function F(U,M,B,$){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:T(U,M,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===me?D(U,M,B,$):null;case G:return B.key===me?q(U,M,B,$):null;case R:return B=zs(B),F(U,M,B,$)}if(et(B)||P(B))return me!==null?null:X(U,M,B,$,null);if(typeof B.then=="function")return F(U,M,ic(B),$);if(B.$$typeof===re)return F(U,M,Zu(U,B),$);rc(U,B)}return null}function K(U,M,B,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(B)||null,T(M,U,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return U=U.get($.key===null?B:$.key)||null,D(M,U,$,me);case G:return U=U.get($.key===null?B:$.key)||null,q(M,U,$,me);case R:return $=zs($),K(U,M,B,$,me)}if(et($)||P($))return U=U.get(B)||null,X(M,U,$,me,null);if(typeof $.then=="function")return K(U,M,B,ic($),me);if($.$$typeof===re)return K(U,M,B,Zu(M,$),me);rc(M,$)}return null}function fe(U,M,B,$){for(var me=null,Be=null,de=M,xe=M=0,Me=null;de!==null&&xe<B.length;xe++){de.index>xe?(Me=de,de=null):Me=de.sibling;var qe=F(U,de,B[xe],$);if(qe===null){de===null&&(de=Me);break}t&&de&&qe.alternate===null&&i(U,de),M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe,de=Me}if(xe===B.length)return a(U,de),Ue&&Bi(U,xe),me;if(de===null){for(;xe<B.length;xe++)de=W(U,B[xe],$),de!==null&&(M=d(de,M,xe),Be===null?me=de:Be.sibling=de,Be=de);return Ue&&Bi(U,xe),me}for(de=l(de);xe<B.length;xe++)Me=K(de,U,xe,B[xe],$),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?xe:Me.key),M=d(Me,M,xe),Be===null?me=Me:Be.sibling=Me,Be=Me);return t&&de.forEach(function(Xr){return i(U,Xr)}),Ue&&Bi(U,xe),me}function _e(U,M,B,$){if(B==null)throw Error(s(151));for(var me=null,Be=null,de=M,xe=M=0,Me=null,qe=B.next();de!==null&&!qe.done;xe++,qe=B.next()){de.index>xe?(Me=de,de=null):Me=de.sibling;var Xr=F(U,de,qe.value,$);if(Xr===null){de===null&&(de=Me);break}t&&de&&Xr.alternate===null&&i(U,de),M=d(Xr,M,xe),Be===null?me=Xr:Be.sibling=Xr,Be=Xr,de=Me}if(qe.done)return a(U,de),Ue&&Bi(U,xe),me;if(de===null){for(;!qe.done;xe++,qe=B.next())qe=W(U,qe.value,$),qe!==null&&(M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return Ue&&Bi(U,xe),me}for(de=l(de);!qe.done;xe++,qe=B.next())qe=K(de,U,xe,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?xe:qe.key),M=d(qe,M,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(Pb){return i(U,Pb)}),Ue&&Bi(U,xe),me}function Ze(U,M,B,$){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===Y){if(M.tag===7){a(U,M.sibling),$=h(M,B.props.children),$.return=U,U=$;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&zs(me)===M.type){a(U,M.sibling),$=h(M,B.props),al($,B),$.return=U,U=$;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===Y?($=ks(B.props.children,U.mode,$,B.key),$.return=U,U=$):($=$u(B.type,B.key,B.props,null,U.mode,$),al($,B),$.return=U,U=$)}return _(U);case G:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),$=h(M,B.children||[]),$.return=U,U=$;break e}else{a(U,M);break}else i(U,M);M=M.sibling}$=bf(B,U.mode,$),$.return=U,U=$}return _(U);case R:return B=zs(B),Ze(U,M,B,$)}if(et(B))return fe(U,M,B,$);if(P(B)){if(me=P(B),typeof me!="function")throw Error(s(150));return B=me.call(B),_e(U,M,B,$)}if(typeof B.then=="function")return Ze(U,M,ic(B),$);if(B.$$typeof===re)return Ze(U,M,Zu(U,B),$);rc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),$=h(M,B),$.return=U,U=$):(a(U,M),$=Sf(B,U.mode,$),$.return=U,U=$),_(U)):a(U,M)}return function(U,M,B,$){try{sl=0;var me=Ze(U,M,B,$);return ka=null,me}catch(de){if(de===Va||de===tc)throw de;var Be=yn(29,de,null,U.mode);return Be.lanes=$,Be.return=U,Be}finally{}}}var qs=Lg(!0),Ug=Lg(!1),Or=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),Tg(t,null,a),i}return Yu(t,l,i,a),Xu(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function ll(){if(Uf){var t=Ma;if(t!==null)throw t}}function ul(t,i,a,l){Uf=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;_=0,X=q=D=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Oe&F)===F:(l&F)===F){F!==0&&F===Oa&&(Uf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;F=i;var Ze=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){W=fe.call(Ze,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(Ze,W,F):fe,F==null)break e;W=S({},W,F);break e;case 2:Or=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=K,D=W):X=X.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=W),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=W}}function jg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jg(a[t],i)}var Pa=V(null),sc=V(0);function Bg(t,i){t=Ji,oe(sc,t),oe(Pa,i),Ji=t|i.baseLanes}function jf(){oe(sc,Ji),oe(Pa,Pa.current)}function zf(){Ji=sc.current,Z(Pa),Z(sc)}var _n=V(null),kn=null;function kr(t){var i=t.alternate;oe(pt,pt.current&1),oe(_n,t),kn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(kn=t)}function Bf(t){oe(pt,pt.current),oe(_n,t),kn===null&&(kn=t)}function qg(t){t.tag===22?(oe(pt,pt.current),oe(_n,t),kn===null&&(kn=t)):Pr()}function Pr(){oe(pt,pt.current),oe(_n,_n.current)}function vn(t){Z(_n),kn===t&&(kn=null),Z(pt)}var pt=V(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Ce=null,We=null,wt=null,oc=!1,La=!1,Hs=!1,lc=0,cl=0,Ua=null,R1=0;function ht(){throw Error(s(321))}function qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,h,d){return Fi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?wy:rd,Hs=!1,d=a(l,h),Hs=!1,La&&(d=Fg(i,a,l,h)),Hg(t),d}function Hg(t){L.H=dl;var i=We!==null&&We.next!==null;if(Fi=0,wt=We=Ce=null,oc=!1,cl=0,Ua=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Ju(t)&&(Rt=!0))}function Fg(t,i,a,l){Ce=t;var h=0;do{if(La&&(Ua=null),cl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Ry,d=i(a,l)}while(La);return d}function C1(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Ff(){var t=lc!==0;return lc=0,t}function Gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Fi=0,wt=We=Ce=null,La=!1,cl=lc=0,Ua=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ce.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Ua===null&&(Ua=[]),t=Vg(Ua,t,i),i=Ce,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?wy:rd),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=gt();return Yf(i,We,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,q=i,X=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Oe&W)===W:(Fi&W)===W){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Oa&&(X=!0);else if((Fi&F)===F){q=q.next,F===Oa&&(X=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=W,_=d):D=D.next=W,Ce.lanes|=F,jr|=F;W=q.action,Hs&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=F,_=d):D=D.next=F,Ce.lanes|=W,jr|=W;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=T,!gn(d,t.memoizedState)&&(Rt=!0,X&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Ce,h=gt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Jf(Yg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},Kg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Fi&127)!==0||Qg(l,i,a)}return a}function Qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=uc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Kg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&$g(t)}function Yg(t,i,a){return a(function(){Xg(i)&&$g(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function $g(t){var i=Vs(t,2);i!==null&&hn(i,t,2)}function $f(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Hs){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Wg(t,i,a,l){return t.baseState=a,Yf(t,We,typeof l=="function"?l:Gi)}function I1(t,i,a,l,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};L.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=L.T,_={};L.T=_;try{var T=a(h,l),D=L.S;D!==null&&D(_,T),Zg(t,i,T)}catch(q){Wf(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),L.T=d}}else try{d=a(h,l),Zg(t,i,d)}catch(q){Wf(t,i,q)}}function Zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,i,l)},function(l){return Wf(t,i,l)}):ey(t,i,a)}function ey(t,i,a){i.status="fulfilled",i.value=a,ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Jg(t,a)))}function Wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(Ue){var a=tt.formState;if(a!==null){e:{var l=Ce;if(Ue){if(it){t:{for(var h=it,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),l=h.data==="F!";break e}}Dr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=Sy.bind(null,Ce,l),l.dispatch=a,l=$f(!1),d=id.bind(null,Ce,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=I1.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ry(t){var i=gt();return sy(i,We,t)}function sy(t,i,a){if(i=Yf(t,i,ny)[0],t=hc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===Va?tc:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,ja(9,{destroy:void 0},x1.bind(null,h,a),null)),[l,d,t]}function x1(t,i){t.action=i}function ay(t){var i=gt(),a=We;if(a!==null)return sy(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=uc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oy(){return gt().memoizedState}function fc(t,i,a,l){var h=rn();Ce.flags|=t,h.memoizedState=ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&qf(l,We.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(Ce.flags|=t,h.memoizedState=ja(1|i,d,a,l))}function ly(t,i){fc(8390656,8,t,i)}function Jf(t,i){dc(2048,8,t,i)}function D1(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=uc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function uy(t){var i=gt().memoizedState;return D1({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return dc(4,2,t,i)}function hy(t,i){return dc(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,fy.bind(null,i,t),a)}function Zf(){}function my(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function py(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&qf(i,l[1]))return l[0];if(l=t(),Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function ed(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=g_(),Ce.lanes|=t,jr|=t,a)}function gy(t,i,a,l){return gn(a,i)?a:Pa.current!==null?(t=ed(t,a,l),gn(t,i)||(Rt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=g_(),Ce.lanes|=t,jr|=t,i)}function yy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=L.T,T={};L.T=T,id(t,!1,i,a);try{var D=h(),q=L.S;if(q!==null&&q(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=w1(D,l);fl(t,i,X,Sn(t))}else fl(t,i,l,Sn(t))}catch(W){fl(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),L.T=_}}function N1(){}function td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=_y(t).queue;yy(t,h,i,le,a===null?N1:function(){return vy(t),a(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},Sn())}function nd(){return Ht(xl)}function Ey(){return gt().memoizedState}function Ty(){return gt().memoizedState}function O1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(hn(l,i,a),ol(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function M1(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?by(i,a):(a=Ef(t,i,a,l),a!==null&&(hn(a,t,l),Ay(a,i,l)))}function Sy(t,i,a){var l=Sn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))by(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return Yu(t,i,h,0),tt===null&&Ku(),!1}catch{}finally{}if(a=Ef(t,i,h,l),a!==null)return hn(a,t,l),Ay(a,i,l),!0}return!1}function id(t,i,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=Ef(t,a,l,2),i!==null&&hn(i,t,2)}function mc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function by(t,i){La=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var dl={readContext:Ht,use:cc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};dl.useEffectEvent=ht;var wy={readContext:Ht,use:cc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Hs){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=M1.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=Sy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=rn();return ed(a,t,i)},useTransition:function(){var t=$f(!1);return t=yy.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=rn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Oe&127)!==0||Qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ly(Yg.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,{destroy:void 0},Kg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Ue){var a=bi,l=Si;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=R1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:nd,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=id.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return rn().memoizedState=O1.bind(null,Ce)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:Ht,use:cc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:hc,useRef:oy,useState:function(){return hc(Gi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=gt();return gy(a,We.memoizedState,t,i)},useTransition:function(){var t=hc(Gi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:nd,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=gt();return Wg(a,We,t,i)},useMemoCache:Kf,useCacheRefresh:Ty};rd.useEffectEvent=uy;var Ry={readContext:Ht,use:cc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Xf,useRef:oy,useState:function(){return Xf(Gi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=gt();return We===null?ed(a,t,i):gy(a,We.memoizedState,t,i)},useTransition:function(){var t=Xf(Gi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:nd,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=gt();return We!==null?Wg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Ty};Ry.useEffectEvent=uy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(hn(i,t,a),ol(i,t,a))}};function Cy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Iy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ad.enqueueReplaceState(i,i.state,null)}function Fs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Qu(t)}function Dy(t){console.error(t)}function Ny(t){Qu(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function My(t){return t=Mr(t),t.tag=3,t}function Vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function V1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Cc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Od(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Od(t,l,h)),!1}throw Error(s(435,a.tag))}return Od(t,l,h),Cc(),!1}if(Ue)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),nl(Nn(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),nl(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=od(t.stateNode,l,h),Lf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Tl===null?Tl=[d]:Tl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),Vy(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var ld=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Ug(i,null,a,l):qs(i,t.child,a,l)}function ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Us(i),l=Hf(t,i,a,_,d,h),T=Ff(),t!==null&&!Rt?(Gf(t,i,h),Qi(t,i,h)):(Ue&&T&&Af(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Py(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&t.ref===i.ref)return Qi(t,i,h)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,gd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Qi(t,i,h)}return ud(t,i,a,l,h)}function Uy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return jy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):jf(),qg(i);else return l=i.lanes=536870912,jy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),Bg(i,d),Pr(),i.memoizedState=null):(t!==null&&ec(i,null),jf(),Pr());return Ft(t,i,h,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function jy(t,i,a,l,h){var d=Mf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(i,null),jf(),qg(i),t!==null&&Na(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,a){return qs(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function k1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,ml(null,t);if(Bf(i),(t=it)?(t=J_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Bf(i),h)if(i.flags&256)i.flags&=-257,i=zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(_=ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Vs(t,_),hn(l,t,_),ld;Cc(),i=zy(t,i,a)}else t=d.treeContext,it=Pn(_.nextSibling),qt=i,Ue=!0,xr=null,Vn=!1,t!==null&&Rg(i,t),i=gc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return Us(i),a=Hf(t,i,a,l,void 0,h),l=Ff(),t!==null&&!Rt?(Gf(t,i,h),Qi(t,i,h)):(Ue&&l&&Af(i),i.flags|=1,Ft(t,i,a,h),i.child)}function By(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=Fg(i,l,a,h),Hg(t),l=Ff(),t!==null&&!Rt?(Gf(t,i,d),Qi(t,i,d)):(Ue&&l&&Af(i),i.flags|=1,Ft(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ad.enqueueReplaceState(d,d.state,null),ul(i,l,d,h),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Fs(a,T);d.props=D;var q=d.context,X=a.contextType;_=Ca,typeof X=="object"&&X!==null&&(_=Ht(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&Iy(i,d,l,_),Or=!1;var F=i.memoizedState;d.state=F,ul(i,l,d,h),ll(),q=i.memoizedState,T||F!==q||Or?(typeof W=="function"&&(sd(i,a,W,l),q=i.memoizedState),(D=Or||Cy(i,a,D,l,F,q,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),_=i.memoizedProps,X=Fs(a,_),d.props=X,W=i.pendingProps,F=d.context,q=a.contextType,D=Ca,typeof q=="object"&&q!==null&&(D=Ht(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==D)&&Iy(i,d,l,D),Or=!1,F=i.memoizedState,d.state=F,ul(i,l,d,h),ll();var K=i.memoizedState;_!==W||F!==K||Or||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(sd(i,a,T,l),K=i.memoizedState),(X=Or||Cy(i,a,X,l,F,K,D)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=qs(i,t.child,null,h),i.child=qs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qi(t,i,h),t}function Hy(t,i,a,l){return Ps(),i.flags|=256,Ft(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Og()}}function fd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?kr(i):Pr(),(t=it)?(t=J_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw Dr(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pr(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,ml(null,l)):(kr(i),dd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=md(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),T=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),T=ks(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,qs(i,t.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,i=ml(null,l));else if(kr(i),Yd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=md(t,i,a)}else if(Rt||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=tt,_!==null&&(l=ko(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Vs(t,l),hn(_,t,l),ld;Kd(T)||Cc(),i=md(t,i,a)}else Kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,it=Pn(T.nextSibling),qt=i,Ue=!0,xr=null,Vn=!1,t!==null&&Rg(i,t),i=dd(i,l.children),i.flags|=4096);return i}return h?(Pr(),T=l.fallback,h=i.mode,D=t.child,q=D.sibling,l=zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?T=zi(q,T):(T=ks(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ml(null,l),l=i.child,T=t.child.memoizedState,T===null?T=hd(a):(h=T.cachePool,h!==null?(D=At._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Og(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=fd(t,_,a),i.memoizedState=cd,ml(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function dd(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function md(t,i,a){return qs(i,t.child,null,a),t=dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xf(t.return,i,a)}function pd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(pt,_),Ft(t,i,l,a),l=Ue?tl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),pd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pd(i,!0,a,null,d,l);break;case"together":pd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function P1(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Nr(i,At,t.memoizedState.cache),Ps();break;case 27:case 5:gs(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(kr(i),t=Qi(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Uy(t,i,a,i.pendingProps);case 24:Nr(i,At,t.memoizedState.cache)}return Qi(t,i,a)}function Ky(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!gd(t,a)&&(i.flags&128)===0)return Rt=!1,P1(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&wg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=zs(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Fs(t,l),i.tag=1,i=qy(null,i,t,l,a)):(i.tag=0,i=ud(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=ky(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=Qe(t)||t,Error(s(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,At,l),l!==d.cache&&Df(i,[At],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),nl(h),i=Hy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Pn(t.firstChild),qt=i,Ue=!0,xr=null,Vn=!0,a=Ug(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ps(),l===h){i=Qi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Vc(Ie.current).createElement(a),l[Tt]=i,l[kt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gs(i),t===null&&Ue&&(l=i.stateNode=tv(i.type,i.pendingProps,Ie.current),qt=i,Vn=!0,h=it,Fr(i.type)?(Xd=h,it=Pn(l.firstChild)):it=h),Ft(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=fb(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,qt=i,it=Pn(l.firstChild),Vn=!1,h=!0):h=!1),h||Dr(i)),gs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:_!==null&&Fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hf(t,i,C1,null,null,a),xl._currentValue=h),yc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=db(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,qt=i,it=null,t=!0):t=!1),t||Dr(i)),null;case 13:return Fy(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=qs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return ky(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return k1(t,i,a);case 22:return Uy(t,i,a,i.pendingProps);case 24:return Us(i),l=Ht(At),t===null?(h=Mf(),h===null&&(h=tt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),Nr(i,At,h)):((t.lanes&a)!==0&&(Pf(t,i),ul(i,null,null,a),ll()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,At,l)):(l=d.cache,Nr(i,At,l),l!==h.cache&&Df(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(t){t.flags|=4}function yd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(E_())t.flags|=8192;else throw Bs=nc,Vf}else t.flags&=-16777217}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i))if(E_())t.flags|=8192;else throw Bs=nc,Vf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Ha|=i)}function pl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function L1(t,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ki(i),d!==null?(rt(i),Yy(i,d)):(rt(i),yd(i,h,null,l,a))):d?d!==t.memoizedState?(Ki(i),rt(i),Yy(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(i),rt(i),yd(i,h,t,l,a)),null;case 27:if(la(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=he.current,Da(i)?Cg(i):(t=tv(h,l,a),i.stateNode=t,Ki(i))}return rt(i),null;case 5:if(la(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=he.current,Da(i))Cg(i);else{var _=Vc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(i)}}return rt(i),yd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,a)),t||Dr(i,!0)}else t=Vc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&jd(i.stateNode.containerInfo),rt(i),null;case 10:return Hi(i.type),rt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return oe(pt,pt.current&1|2),Ue&&Bi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Ac&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ac(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*tn()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,oe(pt,h?a&1|2:a&1),Ue&&Bi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return vn(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function U1(t,i){switch(wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return at(),null;case 10:return Hi(i.type),null;case 22:case 23:return vn(i),zf(),t!==null&&Z(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(At),null;case 25:return null;default:return null}}function Xy(t,i){switch(wf(i),i.tag){case 3:Hi(At),at();break;case 26:case 27:case 5:la(i);break;case 4:at();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(pt);break;case 10:Hi(i.type);break;case 22:case 23:vn(i),zf(),t!==null&&Z(js);break;case 24:Hi(At)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Xe(i,i.return,T)}}function Lr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,q=T;try{q()}catch(X){Xe(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function $y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){Xe(t,t.return,l)}}}function Wy(t,i,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function _d(t,i,a){try{var l=t.stateNode;ab(l,t.type,a,i),l[kt]=i}catch(h){Xe(t,t.return,h)}}function Zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function e_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Xe(t,t.return,d)}}var Yi=!1,Ct=!1,Td=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function j1(t,i){if(t=t.containerInfo,qd=Bc,t=dg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,q=0,X=0,W=t,F=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===t)break t;if(F===a&&++q===h&&(T=_),F===d&&++X===l&&(D=_),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Bc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Fs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function n_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&gl(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&$y(a),l&512&&yl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&e_(a);case 26:case 5:$i(t,a),i===null&&l&4&&Jy(a),l&512&&yl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&s_(t,a);break;case 13:$i(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Y1.bind(null,a),mb(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Yi;var d=Ct;Yi=l,(Ct=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Yi=h,Ct=d}break;case 30:break;default:$i(t,a)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Xi(t,i,a){for(a=a.child;a!==null;)r_(t,i,a),a=a.sibling}function r_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||Ai(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ai(a,i);var l=lt,h=on;Fr(a.type)&&(lt=a.stateNode,on=!1),Xi(t,i,a),Rl(a.stateNode),lt=l,on=h;break;case 5:Ct||Ai(a,i);case 6:if(l=lt,h=on,lt=null,Xi(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,$_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):$_(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,Xi(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Ct||Lr(4,a,i),Xi(t,i,a);break;case 1:Ct||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,i,l)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Xi(t,i,a),Ct=l;break;default:Xi(t,i,a)}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Xe(i,i.return,a)}}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Xe(i,i.return,a)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(s(435,t.tag))}}function Tc(t,i){var a=z1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=X1.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fr(T.type)){lt=T.stateNode,on=!1;break e}break;case 5:lt=T.stateNode,on=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(lt===null)throw Error(s(160));r_(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Wn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Lr(3,t,t.return),gl(3,t),Lr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=ov("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=ov("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lv(h,t.type,t.stateNode):av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Ct||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(Lc=null,h=Wn,Wn=kc(i.containerInfo),ln(i,t),Wn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(fe){Xe(t,t.return,fe)}Td&&(Td=!1,l_(t));break;case 4:l=Wn,Wn=kc(t.stateNode.containerInfo),ln(i,t),un(t),Wn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=Yi,X=Ct;if(Yi=q||h,Ct=X||D,ln(i,t),Ct=X,Yi=q,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Yi||Ct||Gs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Xe(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){Xe(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;h?W_(K,!0):W_(D.stateNode,!1)}catch(fe){Xe(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Zy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(t);Ec(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=vd(t);Ec(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=vd(t);Ed(t,q,D);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Gs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wy(i,i.return,a),Gs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ai(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),gl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)jg(D[h],T)}catch(q){Xe(l,l.return,q)}}a&&_&64&&$y(d),yl(d,d.return);break;case 27:e_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Jy(d),yl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&s_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&a_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),yl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&gl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):_l(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(_,i);break;case 24:Jn(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Jn(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:za(d,_,T,D,h),gl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?za(d,_,T,D,h):_l(d,_):(X._visibility|=2,za(d,_,T,D,h)),h&&q&2048&&Sd(_.alternate,_);break;case 24:za(d,_,T,D,h),h&&q&2048&&bd(_.alternate,_);break;default:za(d,_,T,D,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Sd(l.alternate,l);break;case 24:_l(a,l),h&2048&&bd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Ba(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)c_(t,i,a),t=t.sibling}function c_(t,i,a){switch(t.tag){case 26:Ba(t,i,a),t.flags&vl&&t.memoizedState!==null&&Rb(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,i,a);break;case 3:case 4:var l=Wn;Wn=kc(t.stateNode.containerInfo),Ba(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Ba(t,i,a),vl=l):Ba(t,i,a));break;default:Ba(t,i,a)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):El(t);break;default:El(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function d_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(i_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var B1={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,De=null,Oe=0,Ye=0,En=null,Ur=!1,qa=!1,Ad=!1,Ji=0,ft=0,jr=0,Qs=0,wd=0,Tn=0,Ha=0,Tl=null,cn=null,Rd=!1,bc=0,m_=0,Ac=1/0,wc=null,zr=null,Mt=0,Br=null,Fa=null,Zi=0,Cd=0,Id=null,p_=null,Sl=0,xd=null;function Sn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:L.T!==null?kd():Ru()}function g_(){if(Tn===0)if((Oe&536870912)===0||Ue){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),qr(t,Oe,Tn,!1)),Es(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Qs|=a),ft===4&&qr(t,Oe,Tn,!1)),wi(t))}function y_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?G1(t,i):Nd(t,i,!0),d=l;do{if(h===0){qa&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!H1(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Tl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ga(T,_).flags|=256),_=Nd(T,_,!1),_!==2){if(Ad&&!D){T.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Tn,!Ur);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-tn(),10<h)){if(qr(l,i,Tn,!Ur),oi(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=Y_(__.bind(null,l,a,cn,wc,Rd,i,Tn,Qs,Ha,Ur,d,"Throttled",-0,0),h);break e}__(l,a,cn,wc,Rd,i,Tn,Qs,Ha,Ur,d,null,-0,0)}}break}while(!0);wi(t)}function __(t,i,a,l,h,d,_,T,D,q,X,W,F,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},c_(i,d,W);var fe=(d&62914560)===d?bc-tn():(d&4194048)===d?m_-tn():0;if(fe=Cb(W,fe),fe!==null){Zi=d,t.cancelPendingCommit=fe(R_.bind(null,t,i,d,a,l,h,_,T,D,X,W,null,F,K)),qr(t,d,_,!q);return}}R_(t,i,d,a,l,h,_,T,D)}function H1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~wd,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ts(t,a,i)}function Rc(){return(Fe&6)===0?(bl(0),!1):!0}function Dd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,qi=Ls=null,Qf(t),ka=null,sl=0,t=De;for(;t!==null;)Xy(t.alternate,t),t=t.return;De=null}}function Ga(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ub(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Dd(),tt=t,De=a=zi(t.current,null),Oe=i,Ye=0,En=null,Ur=!1,qa=qn(t,i),Ad=!1,Ha=Tn=wd=Qs=jr=ft=0,cn=Tl=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,Ku(),a}function v_(t,i){Ce=null,L.H=dl,i===Va||i===tc?(i=kg(),Ye=3):i===Vf?(i=kg(),Ye=4):Ye=i===ld?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,De===null&&(ft=1,pc(t,Nn(i,t.current)))}function E_(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function T_(){var t=L.H;return L.H=dl,t===null?dl:t}function S_(){var t=L.A;return L.A=B1,t}function Cc(){ft=4,Ur||(Oe&4194048)!==Oe&&_n.current!==null||(qa=!0),(jr&134217727)===0&&(Qs&134217727)===0||tt===null||qr(tt,Oe,Tn,!1)}function Nd(t,i,a){var l=Fe;Fe|=2;var h=T_(),d=S_();(tt!==t||Oe!==i)&&(wc=null,Ga(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&De!==null){var T=De,D=En;switch(Ye){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var q=Ye;if(Ye=0,En=null,Qa(t,T,D,q),a&&qa){_=0;break e}break;default:q=Ye,Ye=0,En=null,Qa(t,T,D,q)}}F1(),_=ft;break}catch(X){v_(t,X)}while(!0);return i&&t.shellSuspendCounter++,qi=Ls=null,Fe=l,L.H=h,L.A=d,De===null&&(tt=null,Oe=0,Ku()),_}function F1(){for(;De!==null;)b_(De)}function G1(t,i){var a=Fe;Fe|=2;var l=T_(),h=S_();tt!==t||Oe!==i?(wc=null,Ac=tn()+500,Ga(t,i)):qa=qn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Qa(t,i,d,1);break;case 2:case 9:if(Mg(d)){Ye=0,En=null,A_(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),wi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Mg(d)?(Ye=0,En=null,A_(i)):(Ye=0,En=null,Qa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?uv(_):T.stateNode.complete){Ye=0,En=null;var D=T.sibling;if(D!==null)De=D;else{var q=T.return;q!==null?(De=q,Ic(q)):De=null}break t}}Ye=0,En=null,Qa(t,i,d,5);break;case 6:Ye=0,En=null,Qa(t,i,d,6);break;case 8:Dd(),ft=6;break e;default:throw Error(s(462))}}Q1();break}catch(X){v_(t,X)}while(!0);return qi=Ls=null,L.H=l,L.A=h,Fe=a,De!==null?0:(tt=null,Oe=0,Ku(),ft)}function Q1(){for(;De!==null&&!of();)b_(De)}function b_(t){var i=Ky(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Ic(t):De=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Qf(i);default:Xy(a,i),i=De=Sg(i,Ji),i=Ky(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Ic(t):De=i}function Qa(t,i,a,l){qi=Ls=null,Qf(i),ka=null,sl=0;var h=i.return;try{if(V1(t,h,i,a,Oe)){ft=1,pc(t,Nn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,pc(t,Nn(a,t.current)),De=null;return}i.flags&32768?(Ue||l===1?t=!0:qa||(Oe&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){w_(i,Ur);return}t=i.return;var a=L1(i.alternate,i,Ji);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function w_(t,i){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function R_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do xc();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,cf(t,a,d,_,T,D),t===tt&&(De=tt=null,Oe=0),Fa=i,Br=t,Zi=a,Cd=d,Id=h,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$1(_r,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=se.p,se.p=2,_=Fe,Fe|=4;try{j1(t,i,a)}finally{Fe=_,se.p=h,L.T=l}}Mt=1,C_(),I_(),x_()}}function C_(){if(Mt===1){Mt=0;var t=Br,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{o_(i,t);var d=Hd,_=dg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(D!==null&&mf(T)){var q=D.start,X=D.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=T.textContent.length,_e=Math.min(D.start,fe),Ze=D.end===void 0?_e:Math.min(D.end,fe);!K.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var U=hg(T,_e),M=hg(T,Ze);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=W.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),_e>Ze?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(W=[],K=T;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Bc=!!qd,Hd=qd=null}finally{Fe=h,se.p=l,L.T=a}}t.current=i,Mt=2}}function I_(){if(Mt===2){Mt=0;var t=Br,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{n_(t,i.alternate,i)}finally{Fe=h,se.p=l,L.T=a}}Mt=3}}function x_(){if(Mt===4||Mt===3){Mt=0,vu();var t=Br,i=Fa,a=Zi,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Fa=Br=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),Pi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,h=se.p,se.p=2,L.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{L.T=i,se.p=h}}(Zi&3)!==0&&xc(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xd?Sl++:(Sl=0,xd=t):Sl=0,bl(0)}}function D_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function xc(){return C_(),I_(),x_(),N_()}function N_(){if(Mt!==5)return!1;var t=Br,i=Cd;Cd=0;var a=Pi(Zi),l=L.T,h=se.p;try{se.p=32>a?32:a,L.T=null,a=Id,Id=null;var d=Br,_=Zi;if(Mt=0,Fa=Br=null,Zi=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,f_(d.current),u_(d,d.current,_,a),Fe=T,bl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,L.T=l,D_(t,i)}}function O_(t,i,a){i=Nn(a,i),i=od(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Es(t,2),wi(t))}function Xe(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Nn(a,t),a=My(2),l=Vr(i,a,2),l!==null&&(Vy(a,l,i,t),Es(l,2),wi(l));break}}i=i.return}}function Od(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new q1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=K1.bind(null,t,i,a),i.then(t,t))}function K1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>tn()-bc?(Fe&2)===0&&Ga(t,0):wd|=a,Ha===Oe&&(Ha=0)),wi(t)}function M_(t,i){i===0&&(i=wu()),t=Vs(t,i),t!==null&&(Es(t,i),wi(t))}function Y1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(t,a)}function X1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),M_(t,a)}function $1(t,i){return Ot(t,i)}var Dc=null,Ka=null,Md=!1,Nc=!1,Vd=!1,Hr=0;function wi(t){t!==Ka&&t.next===null&&(Ka===null?Dc=Ka=t:Ka=Ka.next=t),Nc=!0,Md||(Md=!0,J1())}function bl(t,i){if(!Vd&&Nc){Vd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Oe,d=oi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Vd=!1}}function W1(){V_()}function V_(){Nc=Md=!1;var t=0;Hr!==0&&lb()&&(t=Hr);for(var i=tn(),a=null,l=Dc;l!==null;){var h=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}Mt!==0&&Mt!==5||bl(t),Hr!==0&&(Hr=0)}function k_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=uf(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=Oe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),Pi(a)){case 2:case 8:a=Mo;break;case 32:a=_r;break;case 268435456:a=Eu;break;default:a=_r}return l=P_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Oe;return l=oi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(y_(t,l,i),k_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function L_(t,i){if(xc())return null;y_(t,i,!0)}function J1(){cb(function(){(Fe&6)!==0?Ot(Oo,W1):V_()})}function kd(){if(Hr===0){var t=Oa;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Hr=t}return Hr}function U_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function j_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Z1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=U_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?U_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var D=_?j_(h,_):new FormData(h);td(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?j_(h,_):new FormData(h),td(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Pd=0;Pd<_f.length;Pd++){var Ld=_f[Pd],eb=Ld.toLowerCase(),tb=Ld[0].toUpperCase()+Ld.slice(1);$n(eb,"on"+tb)}$n(gg,"onAnimationEnd"),$n(yg,"onAnimationIteration"),$n(_g,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(y1,"onTransitionRun"),$n(_1,"onTransitionStart"),$n(v1,"onTransitionCancel"),$n(vg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,q=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,q=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var l=t+"__bubble";a.has(l)||(B_(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),B_(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Oc]){t[Oc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(nb.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Ud("selectionchange",!1,i))}}function B_(t,i,a,l){switch(gv(i)){case 2:var h=Db;break;case 8:h=Nb;break;default:h=em}a=h.bind(null,i,a,t),h=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ar(function(){var q=d,X=Cn(a),W=[];e:{var F=Eg.get(t);if(F!==void 0){var K=_i,fe=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":K=Hu;break;case"focusin":fe="focus",K=Ds;break;case"focusout":fe="blur",K=Ds;break;case"beforeblur":case"afterblur":K=Ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case gg:case yg:case _g:K=Pu;break;case vg:K=A;break;case"scroll":case"scrollend":K=Yo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ji;break;case"toggle":case"beforetoggle":K=Re}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=q,B;M!==null;){var $=M;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||U===null||($=Qn(M,U),$!=null&&_e.push(wl(M,$,B))),Ze)break;M=M.return}0<_e.length&&(F=new K(F,fe,null,a,X),W.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Go&&(fe=a.relatedTarget||a.fromElement)&&(hi(fe)||fe[ui]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=q,fe=fe?hi(fe):null,fe!==null&&(Ze=u(fe),_e=fe.tag,fe!==Ze||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(K=null,fe=q),K!==fe)){if(_e=Xo,$="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ji,$="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=K==null?F:mn(K),B=fe==null?F:mn(fe),F=new _e($,M+"leave",K,a,X),F.target=Ze,F.relatedTarget=B,$=null,hi(X)===q&&(_e=new _e(U,M+"enter",fe,a,X),_e.target=B,_e.relatedTarget=Ze,$=_e),Ze=$,K&&fe)t:{for(_e=ib,U=K,M=fe,B=0,$=U;$;$=_e($))B++;$=0;for(var me=M;me;me=_e(me))$++;for(;0<B-$;)U=_e(U),B--;for(;0<$-B;)M=_e(M),$--;for(;B--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;K!==null&&q_(W,F,K,_e,!1),fe!==null&&Ze!==null&&q_(W,Ze,fe,_e,!0)}}e:{if(F=q?mn(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Be=sg;else if(ig(F))if(ag)Be=m1;else{Be=f1;var de=h1}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ga(q.elementType)&&(Be=sg):Be=d1;if(Be&&(Be=Be(t,q))){rg(W,Be,a,X);break e}de&&de(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&qo(F,"number",F.value)}switch(de=q?mn(q):window,t){case"focusin":(ig(de)||de.contentEditable==="true")&&(Aa=de,pf=q,el=null);break;case"focusout":el=pf=Aa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,mg(W,a,X);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":mg(W,a,X)}var xe;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ba?Ns(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ti&&a.locale!=="ko"&&(ba||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ba&&(xe=Ko()):(yi=X,Qo="value"in yi?yi.value:yi.textContent,ba=!0)),de=Mc(q,Me),0<de.length&&(Me=new Ei(Me,t,null,a,X),W.push({event:Me,listeners:de}),xe?Me.data=xe:(xe=Sa(a),xe!==null&&(Me.data=xe)))),(xe=xn?o1(t,a):l1(t,a))&&(Me=Mc(q,"onBeforeInput"),0<Me.length&&(de=new Ei("onBeforeInput","beforeinput",null,a,X),W.push({event:de,listeners:Me}),de.data=xe)),Z1(W,t,q,a,X)}z_(W,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Qn(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,q=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||q===null||(D=q,h?(q=Qn(a,d),q!=null&&_.unshift(wl(a,q,D))):h||(q=Qn(a,d),q!=null&&_.push(wl(a,q,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var rb=/\r\n?/g,sb=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(rb,`
`).replace(sb,"")}function F_(t,i){return i=H_(i),H_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,ma(t,a,l))}}function Bd(t,i,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ma(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Du(t,d,T,D,q,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Tr(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ne(Al[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,q,l,a,null)}return;default:if(ga(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Bd(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function ab(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,q=null,X=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,W)}}for(var F in l){var K=l[F];if(W=a[F],l.hasOwnProperty(F)&&(K!=null||W!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==W&&Je(t,i,F,K,l,W)}}pa(t,_,T,D,q,X,d,h);return;case"select":K=_=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,h,d,l,D)}i=T,a=_,l=K,F!=null?Er(t,!!a,F,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Nu(t,F,K);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,i,fe,null,l,F)}for(D in l)if(F=l[D],K=a[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,i,D,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,F);for(q in l)if(F=l[q],K=a[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,q,F,l,K)}return;default:if(ga(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Bd(t,i,Ze,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||Bd(t,i,X,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F==null&&K==null||Je(t,i,W,F,l,K)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&G_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>T)break;var X=D.transferSize,W=D.initiatorType;X&&G_(W)&&(D=D.responseEnd,_+=X*(D<T?1:(T-q)/(D-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qd=null,Hd=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function lb(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(hb)}:Y_;function hb(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function $_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);Wa(i)}function W_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function db(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function J_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Xd=null;function Z_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function tv(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);da(t)}var Ln=new Map,nv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=se.d;se.d={f:pb,r:gb,D:yb,C:_b,L:vb,m:Eb,X:Sb,S:Tb,M:bb};function pb(){var t=er.f(),i=Rc();return t||i}function gb(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):er.r(t)}var Ya=typeof document>"u"?null:document;function iv(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function yb(t){er.D(t),iv("dns-prefetch",t,null)}function _b(t,i){er.C(t,i),iv("preconnect",t,i)}function vb(t,i,a){er.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Xa(t);break;case"script":d=$a(t)}Ln.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function Eb(t,i){er.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function Tb(t,i,a){er.S(t,i,a);var l=Ya;if(l&&t){var h=fi(l).hoistableStyles,d=Xa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&$d(t,a);var D=_=l.createElement("link");St(D),Gt(D,"link",t),D._p=new Promise(function(q,X){D.onload=q,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Sb(t,i){er.X(t,i);var a=Ya;if(a&&t){var l=fi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=S({src:t,async:!0},i),(i=Ln.get(h))&&Wd(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bb(t,i){er.M(t,i);var a=Ya;if(a&&t){var l=fi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Wd(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rv(t,i,a,l){var h=(h=Ie.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Ab(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+sn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function sv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function $a(t){return'[src="'+sn(t)+'"]'}function Il(t){return"script[async]"+t}function av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=sv(a),(h=Ln.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,St(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),Wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function ov(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function wb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=sv(l),(h=Ln.get(h))&&$d(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function Cb(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,i.forEach(Ib,t),jc=null,Uc.call(t))}function Ib(t,i){if(!(i.state.loading&4)){var a=jc.get(t);if(a)var l=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:re,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xb(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function cv(t,i,a,l,h,d,_,T,D,q,X,W){return t=new xb(t,i,a,_,D,q,X,W,T),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),t}function hv(t){return t?(t=Ca,t):Ca}function fv(t,i,a,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(hn(a,t,i),ol(a,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function mv(t){if(t.tag===13||t.tag===31){var i=Vs(t,67108864);i!==null&&hn(i,t,67108864),Zd(t,67108864)}}function pv(t){if(t.tag===13||t.tag===31){var i=Sn();i=Ss(i);var a=Vs(t,i);a!==null&&hn(a,t,i),Zd(t,i)}}var Bc=!0;function Db(t,i,a,l){var h=L.T;L.T=null;var d=se.p;try{se.p=2,em(t,i,a,l)}finally{se.p=d,L.T=h}}function Nb(t,i,a,l){var h=L.T;L.T=null;var d=se.p;try{se.p=8,em(t,i,a,l)}finally{se.p=d,L.T=h}}function em(t,i,a,l){if(Bc){var h=tm(l);if(h===null)zd(t,i,l,qc,a),yv(t,l);else if(Mb(h,t,i,a,l))l.stopPropagation();else if(yv(t,l),i&4&&-1<Ob.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-dt(_);T.entanglements[1]|=D,_&=~D}wi(d),(Fe&6)===0&&(Ac=tn()+500,bl(0))}}break;case 31:case 13:T=Vs(d,2),T!==null&&hn(T,d,2),Rc(),Zd(d,2)}if(d=tm(l),d===null&&zd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function tm(t){return t=Cn(t),nm(t)}var qc=null;function nm(t){if(qc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Oo:return 2;case Mo:return 8;case _r:case lf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var im=!1,Gr=null,Qr=null,Kr=null,Dl=new Map,Nl=new Map,Yr=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Mb(t,i,a,l,h){switch(i){case"focusin":return Gr=Ol(Gr,t,i,a,l,h),!0;case"dragenter":return Qr=Ol(Qr,t,i,a,l,h),!0;case"mouseover":return Kr=Ol(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function _v(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){pv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){pv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=Rn(a),i!==null&&mv(i),t.blockedOn=a,!1;i.shift()}return!0}function vv(t,i,a){Hc(t)&&a.delete(i)}function Vb(){im=!1,Gr!==null&&Hc(Gr)&&(Gr=null),Qr!==null&&Hc(Qr)&&(Qr=null),Kr!==null&&Hc(Kr)&&(Kr=null),Dl.forEach(vv),Nl.forEach(vv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vb)))}var Gc=null;function Ev(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function i(D){return Fc(D,t)}Gr!==null&&Fc(Gr,t),Qr!==null&&Fc(Qr,t),Kr!==null&&Fc(Kr,t),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||Ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(nm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ev(a)}}}function Tv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Qc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();fv(a,l,t,i,null,null)},Qc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fv(t.current,2,null,t,null,null),Rc(),i[ui]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&_v(t)}};var Sv=e.version;if(Sv!=="19.2.0")throw Error(s(527,Sv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Bn=Kc.inject(kb),zt=Kc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Dy,_=Ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cv(t,1,!1,null,null,a,l,null,h,d,_,Tv),t[ui]=i.current,jd(t),new rm(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=Dy,T=Ny,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=cv(t,1,!0,i,a??null,l,h,D,d,_,T,Tv),i.context=hv(null),a=i.current,l=Sn(),l=Ss(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,Es(i,a),wi(i),t[ui]=i.current,jd(t),new Qc(i)},Vl.version="19.2.0",Vl}var Ov;function Kb(){if(Ov)return om.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=Qb(),om.exports}var Yb=Kb();var Mv="popstate";function Xb(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),wm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Yl(u))}function s(o,u){An(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Wb(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function An(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $b(){return Math.random().toString(36).substring(2,10)}function Vv(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||s||$b()}}function Yl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ia(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Wb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),ne=H==null?null:H-p;p=H,g&&g({action:m,location:Y.location,delta:ne})}function w(H,ne){m="PUSH";let ie=wm(Y.location,H,ne);n&&n(ie,H),p=E()+1;let re=Vv(ie,p),ge=Y.createHref(ie);try{f.pushState(re,"",ge)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ge)}u&&g&&g({action:m,location:Y.location,delta:1})}function O(H,ne){m="REPLACE";let ie=wm(Y.location,H,ne);n&&n(ie,H),p=E();let re=Vv(ie,p),ge=Y.createHref(ie);f.replaceState(re,"",ge),u&&g&&g({action:m,location:Y.location,delta:0})}function G(H){return Jb(H)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,S),g=H,()=>{o.removeEventListener(Mv,S),g=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let ne=G(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:O,go(H){return f.go(H)}};return Y}function Jb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Yl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function p0(r,e,n="/"){return Zb(r,e,n,!1)}function Zb(r,e,n,s){let o=typeof e=="string"?ia(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let f=g0(r);eA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=hA(u);m=uA(f[g],p,s)}return m}function g0(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=ar([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),g0(f.children,e,w,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:oA(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of y0(f.path))u(f,m,!0,g)}),e}function y0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=y0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function eA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:lA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tA=/^:[\w-]+$/,nA=3,iA=2,rA=1,sA=10,aA=-2,kv=r=>r==="*";function oA(r,e){let n=r.split("/"),s=n.length;return n.some(kv)&&(s+=aA),e&&(s+=iA),n.filter(o=>!kv(o)).reduce((o,u)=>o+(tA.test(u)?nA:u===""?rA:sA),s)}function lA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function uA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),w=g.route;if(!S&&p&&n&&!s[s.length-1].route.index&&(S=mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ar([u,S.pathname]),pathnameBase:gA(ar([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=ar([u,S.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=cA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const O=m[w];return S&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function cA(r,e=!1,n=!0){An(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dA=r=>fA.test(r);function mA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ia(r):r,u;if(n)if(dA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),An(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Pv(n.substring(1),"/"):u=Pv(n,e)}else u=e;return{pathname:u,search:yA(s),hash:_A(o)}}function Pv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ip(r){let e=pA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rp(r,e,n,s=!1){let o;typeof r=="string"?o=ia(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let g=mA(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),gA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_A=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var EA=["GET",..._0];new Set(EA);var _o=j.createContext(null);_o.displayName="DataRouter";var Ph=j.createContext(null);Ph.displayName="DataRouterState";j.createContext(!1);var v0=j.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var TA=j.createContext(new Map);TA.displayName="Fetchers";var SA=j.createContext(null);SA.displayName="Await";var ii=j.createContext(null);ii.displayName="Navigation";var ru=j.createContext(null);ru.displayName="Location";var Vi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var sp=j.createContext(null);sp.displayName="RouteError";function bA(r,{relative:e}={}){ut(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ii),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return j.useContext(ru)!=null}function pr(){return ut(vo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ru).location}var E0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T0(r){j.useContext(ii).static||j.useLayoutEffect(r)}function ap(){let{isDataRoute:r}=j.useContext(Vi);return r?PA():AA()}function AA(){ut(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(_o),{basename:e,navigator:n}=j.useContext(ii),{matches:s}=j.useContext(Vi),{pathname:o}=pr(),u=JSON.stringify(ip(s)),f=j.useRef(!1);return T0(()=>{f.current=!0}),j.useCallback((g,p={})=>{if(An(f.current,E0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=rp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ar([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}j.createContext(null);function su(r,{relative:e}={}){let{matches:n}=j.useContext(Vi),{pathname:s}=pr(),o=JSON.stringify(ip(n));return j.useMemo(()=>rp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function wA(r,e){return S0(r,e)}function S0(r,e,n,s,o){ut(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(ii),{matches:f}=j.useContext(Vi),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ie=S&&S.path||"";b0(p,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=pr(),O;if(e){let ie=typeof e=="string"?ia(e):e;ut(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=w;let G=O.pathname||"/",Y=G;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(ie.length).join("/")}let H=p0(r,{pathname:Y});An(S||H!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),An(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=DA(H&&H.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:ar([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:ar([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ne?j.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ne):ne}function RA(){let r=kA(),e=vA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var CA=j.createElement(RA,null),IA=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(Vi.Provider,{value:this.props.routeContext},j.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xA({routeContext:r,match:e,children:n}){let s=j.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Vi.Provider,{value:r},n)}function DA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:O}=n,G=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!O||O[S.route.id]===void 0);if(S.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let O,G=!1,Y=null,H=null;n&&(O=f&&S.route.id?f[S.route.id]:void 0,Y=S.route.errorElement||CA,m&&(g<0&&w===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,H=null):g===w&&(G=!0,H=S.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),ie=()=>{let re;return O?re=Y:G?re=H:S.route.Component?re=j.createElement(S.route.Component,null):S.route.element?re=S.route.element:re=E,j.createElement(xA,{match:S,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?j.createElement(IA,{location:n.location,revalidation:n.revalidation,component:Y,error:O,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):ie()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(r){let e=j.useContext(_o);return ut(e,op(r)),e}function OA(r){let e=j.useContext(Ph);return ut(e,op(r)),e}function MA(r){let e=j.useContext(Vi);return ut(e,op(r)),e}function lp(r){let e=MA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function VA(){return lp("useRouteId")}function kA(){let r=j.useContext(sp),e=OA("useRouteError"),n=lp("useRouteError");return r!==void 0?r:e.errors?.[n]}function PA(){let{router:r}=NA("useNavigate"),e=lp("useNavigate"),n=j.useRef(!1);return T0(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{An(n.current,E0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lv={};function b0(r,e,n){!e&&!Lv[r]&&(Lv[r]=!0,An(!1,n))}j.memo(LA);function LA({routes:r,future:e,state:n,unstable_onError:s}){return S0(r,void 0,n,s,e)}function Rm({to:r,replace:e,state:n,relative:s}){ut(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(ii);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Vi),{pathname:f}=pr(),m=ap(),g=rp(r,ip(u),f,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function tr(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ia(n));let{pathname:g="/",search:p="",hash:E="",state:S=null,key:w="default"}=n,O=j.useMemo(()=>{let G=cr(g,f);return G==null?null:{location:{pathname:G,search:p,hash:E,state:S,key:w},navigationType:s}},[f,g,p,E,S,w,s]);return An(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(ii.Provider,{value:m},j.createElement(ru.Provider,{children:e,value:O}))}function jA({children:r,location:e}){return wA(Cm(r),e)}function Cm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ut(s.type===tr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Lh(r){return r!=null&&typeof r.tagName=="string"}function zA(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function BA(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function qA(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function HA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FA(r,e){return r.button===0&&(!e||e==="_self")&&!HA(r)}var Yc=null;function GA(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!QA.has(r)?(An(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function KA(r,e){let n,s,o,u,f;if(BA(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||nh,o=fm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(zA(r)||qA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?cr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=fm(r.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!GA()){let{name:p,type:E,value:S}=r;if(E==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,S)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function YA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function XA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $A(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function WA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await XA(u,n);return f.links?f.links():[]}return[]}));return tw(s.flat(1).filter($A).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function JA(r,e,{includeHydrateFallback:n}={}){return ZA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ZA(r){return[...new Set(r)]}function ew(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function tw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ew(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function A0(){let r=j.useContext(_o);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nw(){let r=j.useContext(Ph);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cp=j.createContext(void 0);cp.displayName="FrameworkContext";function w0(){let r=j.useContext(cp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function iw(r,e){let n=j.useContext(cp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),j.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let O=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(m,O),onBlur:kl(g,G),onMouseEnter:kl(p,O),onMouseLeave:kl(E,G),onTouchStart:kl(S,O)}]:[!1,w,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function rw({page:r,...e}){let{router:n}=A0(),s=j.useMemo(()=>p0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(aw,{page:r,matches:s,...e}):null}function sw(r){let{manifest:e,routeModules:n}=w0(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return WA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function aw({page:r,matches:e,...n}){let s=pr(),{manifest:o,routeModules:u}=w0(),{basename:f}=A0(),{loaderData:m,matches:g}=nw(),p=j.useMemo(()=>Uv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=j.useMemo(()=>Uv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!p.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?Y=!0:G.add(ne.route.id))}),G.size===0)return[];let H=YA(r,f,"data");return Y&&G.size>0&&H.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,p,e,r,u]),w=j.useMemo(()=>JA(E,o),[E,o]),O=sw(E);return j.createElement(j.Fragment,null,S.map(G=>j.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>j.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),O.map(({key:G,link:Y})=>j.createElement("link",{key:G,nonce:n.nonce,...Y})))}function ow(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R0&&(window.__reactRouterVersion="7.9.6")}catch{}function lw({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=Xb({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>f(g))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(UA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ph=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:S,...w},O){let{basename:G}=j.useContext(ii),Y=typeof p=="string"&&C0.test(p),H,ne=!1;if(typeof p=="string"&&Y&&(H=p,R0))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),N=cr(k.pathname,G);k.origin===C.origin&&N!=null?p=N+k.search+k.hash:ne=!0}catch{An(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=bA(p,{relative:o}),[re,ge,Se]=iw(s,w),te=fw(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||te(C)}let R=j.createElement("a",{...w,...Se,href:H||ie,onClick:ne||u?e:x,ref:ow(O,ge),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?j.createElement(j.Fragment,null,R,j.createElement(rw,{page:ie})):R});ph.displayName="Link";var uw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let S=su(f,{relative:p.relative}),w=pr(),O=j.useContext(Ph),{navigator:G,basename:Y}=j.useContext(ii),H=O!=null&&yw(S)&&m===!0,ne=G.encodeLocation?G.encodeLocation(S).pathname:S.pathname,ie=w.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&Y&&(re=cr(re,Y)||re);const ge=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ge)==="/",te=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),x={isActive:Se,isPending:te,isTransitioning:H},R=Se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Se?"active":null,te?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return j.createElement(ph,{...p,"aria-current":R,className:C,ref:E,style:k,to:f,viewTransition:m},typeof g=="function"?g(x):g)});uw.displayName="NavLink";var cw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:S,...w},O)=>{let G=pw(),Y=gw(m,{relative:p}),H=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&C0.test(m),ie=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ge=re.nativeEvent.submitter,Se=ge?.getAttribute("formmethod")||f;G(ge||re.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return j.createElement("form",{ref:O,method:H,action:Y,onSubmit:s?g:ie,...w,"data-discover":!ne&&r==="render"?"true":void 0})});cw.displayName="Form";function hw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(r){let e=j.useContext(_o);return ut(e,hw(r)),e}function fw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ap(),g=pr(),p=su(r,{relative:u});return j.useCallback(E=>{if(FA(E,e)){E.preventDefault();let S=n!==void 0?n:Yl(g)===Yl(p);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,r,o,u,f])}var dw=0,mw=()=>`__${String(++dw)}__`;function pw(){let{router:r}=I0("useSubmit"),{basename:e}=j.useContext(ii),n=VA();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=KA(s,e);if(o.navigate===!1){let E=o.fetcherKey||mw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function gw(r,{relative:e}={}){let{basename:n}=j.useContext(ii),s=j.useContext(Vi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=pr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Yl(u)}function yw(r,{relative:e}={}){let n=j.useContext(v0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I0("useViewTransitionState"),o=su(r,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}const _w=()=>{};var jv={};const x0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,O=p&63;g||(O=64,f||(w=64)),s.push(n[E],n[S],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(x0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new Ew;const w=u<<2|m>>4;if(s.push(w),p!==64){const O=m<<4&240|p>>2;if(s.push(O),S!==64){const G=p<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(r){const e=x0(r);return D0.encodeByteArray(e,!0)},gh=function(r){return Tw(r).replace(/\./g,"")},N0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bw=()=>Sw().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof jv>"u")return;const r=jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ww=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&N0(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return _w()||bw()||Aw()||ww()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O0=r=>Uh()?.emulatorHosts?.[r],Rw=r=>{const e=O0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},M0=()=>Uh()?.config,V0=r=>Uh()?.[`_${r}`];class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}function Iw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const ql={};function xw(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function Dw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let zv=!1;function P0(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||ql[r]===e||ql[r]||zv)return;ql[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=xw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Dw(s),O=n("text"),G=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(H,Y);const ge=p();g(ie,ne),re.append(ie,G,H,ge),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Ow(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Lw(){return!Ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const zw="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zw,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Bw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new gr(o,m,s)}}function Bw(r,e){return r.replace(qw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qw=/\{\$([^}]+)}/g;function Hw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Bv(u)&&Bv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Bv(r){return r!==null&&typeof r=="object"}function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Fw(r,e){const n=new Gw(r,e);return n.subscribe.bind(n)}class Gw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Qw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ks="[DEFAULT]";class Kw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Cw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xw(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Yw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yw(r){return r===Ks?void 0:r}function Xw(r){return r.instantiationMode==="EAGER"}class $w{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const Ww={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Jw=Ve.INFO,Zw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},eR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Zw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=Jw,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const tR=(r,e)=>e.some(n=>r instanceof n);let qv,Hv;function nR(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Im=new WeakMap,U0=new WeakMap,mm=new WeakMap,fp=new WeakMap;function rR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function sR(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,e)}let xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||U0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aR(r){xm=r(xm)}function oR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return U0.set(s,e.sort?e.sort():[e]),ts(s)}:iR().includes(r)?function(...e){return r.apply(pm(this),e),ts(L0.get(this))}:function(...e){return ts(r.apply(pm(this),e))}}function lR(r){return typeof r=="function"?oR(r):(r instanceof IDBTransaction&&sR(r),tR(r,nR())?new Proxy(r,xm):r)}function ts(r){if(r instanceof IDBRequest)return rR(r);if(mm.has(r))return mm.get(r);const e=lR(r);return e!==r&&(mm.set(r,e),fp.set(e,r)),e}const pm=r=>fp.get(r);function uR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ts(f.result),g.oldVersion,g.newVersion,ts(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const cR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],gm=new Map;function Fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return gm.set(e,u),u}aR(r=>({...r,get:(e,n,s)=>Fv(e,n)||r.get(e,n,s),has:(e,n)=>!!Fv(e,n)||r.has(e,n)}));class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dR(r){return r.getComponent()?.type==="VERSION"}const Dm="@firebase/app",Gv="0.14.6";const hr=new hp("@firebase/app"),mR="@firebase/app-compat",pR="@firebase/analytics-compat",gR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",vR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",SR="@firebase/data-connect",bR="@firebase/database-compat",AR="@firebase/functions",wR="@firebase/functions-compat",RR="@firebase/installations",CR="@firebase/installations-compat",IR="@firebase/messaging",xR="@firebase/messaging-compat",DR="@firebase/performance",NR="@firebase/performance-compat",OR="@firebase/remote-config",MR="@firebase/remote-config-compat",VR="@firebase/storage",kR="@firebase/storage-compat",PR="@firebase/firestore",LR="@firebase/ai",UR="@firebase/firestore-compat",jR="firebase",zR="12.6.0";const Nm="[DEFAULT]",BR={[Dm]:"fire-core",[mR]:"fire-core-compat",[gR]:"fire-analytics",[pR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[vR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[SR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[AR]:"fire-fn",[wR]:"fire-fn-compat",[RR]:"fire-iid",[CR]:"fire-iid-compat",[IR]:"fire-fcm",[xR]:"fire-fcm-compat",[DR]:"fire-perf",[NR]:"fire-perf-compat",[OR]:"fire-rc",[MR]:"fire-rc-compat",[VR]:"fire-gcs",[kR]:"fire-gcs-compat",[PR]:"fire-fst",[UR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};const yh=new Map,qR=new Map,Om=new Map;function Qv(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(Om.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,r);for(const n of yh.values())Qv(n,r);for(const n of qR.values())Qv(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}const HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new au("app","Firebase",HR);class FR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const To=zR;function j0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=M0()),!n)throw ns.create("no-options");const u=yh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new $w(o);for(const g of Om.values())f.addComponent(g);const m=new FR(n,s,f);return yh.set(o,m),m}function z0(r=Nm){const e=yh.get(r);if(!e&&r===Nm&&M0())return j0();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=BR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}co(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GR="firebase-heartbeat-database",QR=1,Xl="firebase-heartbeat-store";let ym=null;function B0(){return ym||(ym=uR(GR,QR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),ym}async function KR(r){try{const n=(await B0()).transaction(Xl),s=await n.objectStore(Xl).get(q0(r));return await n.done,s}catch(e){if(e instanceof gr)hr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function Kv(r,e){try{const s=(await B0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,q0(r)),await s.done}catch(n){if(n instanceof gr)hr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}const YR=1024,XR=30;class $R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XR){const o=ZR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:s}=WR(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function WR(r,e=YR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xv(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function ZR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function eC(r){co(new Js("platform-logger",e=>new fR(e),"PRIVATE")),co(new Js("heartbeat",e=>new $R(e),"PRIVATE")),is(Dm,Gv,r),is(Dm,Gv,"esm2020"),is("fire-js","")}eC("");var tC="firebase",nC="12.6.0";is(tC,nC,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,H0;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(k,N,P){for(var I=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)I[Qe-2]=arguments[Qe];return R.prototype[N].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)k[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;N<16;++N)k[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],N=x.g[2];let P=x.g[3],I;I=R+(P^C&(N^P))+k[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(N^R&(C^N))+k[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=N+(C^P&(R^C))+k[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(R^N&(P^R))+k[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(P^C&(N^P))+k[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(N^R&(C^N))+k[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=N+(C^P&(R^C))+k[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(R^N&(P^R))+k[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(P^C&(N^P))+k[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(N^R&(C^N))+k[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=N+(C^P&(R^C))+k[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(R^N&(P^R))+k[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(P^C&(N^P))+k[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(N^R&(C^N))+k[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=N+(C^P&(R^C))+k[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(R^N&(P^R))+k[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(N^P&(C^N))+k[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(R^C))+k[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(P^R))+k[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(N^P))+k[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^P&(C^N))+k[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(R^C))+k[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(P^R))+k[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(N^P))+k[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^P&(C^N))+k[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(R^C))+k[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(P^R))+k[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(N^P))+k[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^P&(C^N))+k[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(R^C))+k[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(P^R))+k[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(N^P))+k[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(C^N^P)+k[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^N)+k[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=N+(P^R^C)+k[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^R)+k[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^P)+k[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^N)+k[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=N+(P^R^C)+k[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^R)+k[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^P)+k[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^N)+k[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=N+(P^R^C)+k[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^R)+k[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^P)+k[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^N)+k[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=N+(P^R^C)+k[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^R)+k[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(N^(C|~P))+k[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~N))+k[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=N+(R^(P|~C))+k[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~R))+k[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~P))+k[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~N))+k[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=N+(R^(P|~C))+k[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~R))+k[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~P))+k[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~N))+k[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=N+(R^(P|~C))+k[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~R))+k[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~P))+k[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~N))+k[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=N+(R^(P|~C))+k[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~R))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,k=this.C;let N=this.h,P=0;for(;P<R;){if(N==0)for(;P<=C;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(k[N++]=x.charCodeAt(P++),N==this.blockSize){o(this,k),N=0;break}}else for(;P<R;)if(k[N++]=x[P++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)x[R++]=this.g[C]>>>k&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let k=!0;for(let N=x.length-1;N>=0;N--){const P=x[N]|0;k&&P==R||(C[N]=P,k=!1)}this.g=C}var m={};function g(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return H(p(-x));const R=[];let C=1;for(let k=0;x>=C;k++)R[k]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let k=S;for(let P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P);const I=parseInt(x.substring(P,P+N),R);N<8?(N=p(Math.pow(R,N)),k=k.j(N).add(p(I))):(k=k.j(C),k=k.add(p(I)))}return k}var S=g(0),w=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);x+=(k>=0?k:4294967296+k)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(Y(this))return"-"+H(this).toString(x);const R=p(Math.pow(x,6));var C=this;let k="";for(;;){const N=ge(C,R).g;C=ne(C,N.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,G(C))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=ne(this,x),Y(x)?-1:G(x)?0:1};function H(x){const R=x.g.length,C=[];for(let k=0;k<R;k++)C[k]=~x.g[k];return new f(C,~x.h).add(w)}r.abs=function(){return Y(this)?H(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let k=0;for(let N=0;N<=R;N++){let P=k+(this.i(N)&65535)+(x.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);k=I>>>16,P&=65535,I&=65535,C[N]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,R){return x.add(H(R))}r.j=function(x){if(G(this)||G(x))return S;if(Y(this))return Y(x)?H(this).j(H(x)):H(H(this).j(x));if(Y(x))return H(this.j(H(x)));if(this.l(O)<0&&x.l(O)<0)return p(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<x.g.length;N++){const P=this.i(k)>>>16,I=this.i(k)&65535,Qe=x.i(N)>>>16,et=x.i(N)&65535;C[2*k+2*N]+=I*et,ie(C,2*k+2*N),C[2*k+2*N+1]+=P*et,ie(C,2*k+2*N+1),C[2*k+2*N+1]+=I*Qe,ie(C,2*k+2*N+1),C[2*k+2*N+2]+=P*Qe,ie(C,2*k+2*N+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function ie(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function ge(x,R){if(G(R))throw Error("division by zero");if(G(x))return new re(S,S);if(Y(x))return R=ge(H(x),R),new re(H(R.g),H(R.h));if(Y(R))return R=ge(x,H(R)),new re(H(R.g),R.h);if(x.g.length>30){if(Y(x)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=R;k.l(x)<=0;)C=Se(C),k=Se(k);var N=te(C,1),P=te(k,1);for(k=te(k,2),C=te(C,2);!G(k);){var I=P.add(k);I.l(x)<=0&&(N=N.add(C),P=I),k=te(k,1),C=te(C,1)}return R=ne(x,N.j(R)),new re(N,R)}for(N=S;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=p(C),I=P.j(R);Y(I)||I.l(x)>0;)C-=k,P=p(C),I=P.j(R);G(P)&&(P=w),N=N.add(P),x=ne(x,I)}return new re(N,x)}r.B=function(x){return ge(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&x.i(k);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|x.i(k);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^x.i(k);return new f(C,this.h^x.h)};function Se(x){const R=x.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(C,x.h)}function te(x,R){const C=R>>5;R%=32;const k=x.g.length-C,N=[];for(let P=0;P<k;P++)N[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new f(N,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,H0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,rs=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var F0,Ul,G0,rh,Mm,Q0,K0,Y0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,Q){for(var ae=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ae[Re-2]=arguments[Re];return y.prototype[z].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function G(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Q=z.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=z[ae]}else c.push(z)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Y(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,te=!1,x=new ie,R=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}te=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Qe(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(Qe,N),Qe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),L=0;function se(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++L,this.da=this.fa=!1}function le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Le(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Q=0;Q<Z.length;Q++)v=Z[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,A,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=Ie(c,y,A,z);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new se(y,this.src,Q,!!A,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(A,z,1),Q&&(le(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,A){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Nt={};function at(c,y,v,A,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)at(c,y[Q],v,A,z);return null}return v=No(v),c&&c[et]?c.J(y,v,m(A)?!!A.capture:!1,z):gs(c,y,v,!1,A,z)}function gs(c,y,v,A,z,Q){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let Re=ys(c);if(Re||(c[je]=Re=new he(c)),v=Re.add(y,v,A,ae,Q),v.proxy)return v;if(A=la(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ri(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return y.call(c.src,c.listener,v)}const y=xo;return c}function ua(c,y,v,A,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ua(c,y[Q],v,A,z);else A=m(A)?!!A.capture:!!A,v=No(v),c&&c[et]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Ie(y,v,A,z),v>-1&&(le(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=ys(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,A,z)),(v=c>-1?y[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[et])Te(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ri(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ys(y))?(Te(v,c),v.h==0&&(v.src=null,y[je]=null)):le(c)}}}function ri(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function xo(c,y){if(c.da)c=!0;else{y=new Qe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=v.call(A,y)}return c}function ys(c){return c=c[je],c instanceof he?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function vt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}S(vt,k),vt.prototype[et]=!0,vt.prototype.removeEventListener=function(c,y,v,A){ua(this,c,y,v,A)};function Ot(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var z=y;y=new N(A,c),oe(y,z)}z=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],z=yr(Q,A,!0,y)&&z;if(Q=y.g=c,z=yr(Q,A,!0,y)&&z,z=yr(Q,A,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],z=yr(Q,A,!1,y)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)le(v[A]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function yr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const Re=ae.listener,mt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),z=Re.call(mt,A)!==!1&&z}}return z&&!A.defaultPrevented}function of(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function vu(c){c.g=of(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){k.call(this),this.h=c,this.g={}}S(_s,k);var Oo=[];function Mo(c){ye(c.g,function(y,v){this.g.hasOwnProperty(v)&&ca(y)},c),c.g={}}_s.prototype.N=function(){_s.Z.N.call(this),Mo(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,lf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Su(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}S(zt,N);function wn(){N.call(this,"c")}S(wn,N);var dt={},bu=null;function ha(){return bu=bu||new vt}dt.Ia="serverreachability";function Au(c){N.call(this,dt.Ia,c)}S(Au,N);function si(c){const y=ha();Ot(y,new Au(y))}dt.STAT_EVENT="statevent";function vs(c,y){N.call(this,dt.STAT_EVENT,c),this.stat=y}S(vs,N);function Et(c){const y=ha();Ot(y,new vs(y,c))}dt.Ja="timingevent";function ai(c,y){N.call(this,dt.Ja,c),this.size=y}S(ai,N);function oi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function uf(c,y,v,A,z,Q){c.info(function(){if(c.g)if(Q){var ae="",Re=Q.split("&");for(let He=0;He<Re.length;He++){var mt=Re[He].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const xn=ot.split("_");ae=xn.length>=2&&xn[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function wu(c,y,v,A,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+ae})}function li(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cf(c,v)+(A?" "+A:"")})}function Es(c,y){c.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function cf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return _r(Q)}catch{return y}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function Ss(){}S(Ss,Tu),Ss.prototype.g=function(){return new XMLHttpRequest},ko=new Ss;function Pi(c){return encodeURIComponent(String(c))}function Ru(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Hn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function ui(c,y,v){c.M=1,c.A=bs(bt(y)),c.u=v,c.R=!0,fa(c,null)}function fa(c,y){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ga(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=Bu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let Q=0;Q<z.length;Q++){const ae=at(v,z[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),si(),uf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Kn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Re!=4||mt==7||(mt==8||He<=0?si(3):si(2)),hi(this);var y=this.g.ca();this.X=y;var v=hf(this);if(this.o=y==200,wu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Et(12),mn(this),Rn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Iu(this,v),ot==kt){Re==4&&(this.m=4,Et(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ot,null),fi(this,ot);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(ae),ae.P=!0,Et(11))}}else li(this.i,this.l,v,null),fi(this,v);Re==4&&mn(this),this.o&&!this.K&&(Re==4?Lu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),Rn(this)}}}catch{}finally{}};function hf(c){if(!Cu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,z=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(z&&Q==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?kt:(v=Number(y.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>y.length?kt:(y=y.slice(A,A+v),c.C=A+v,y)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(p(c.aa,c),y)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Es(this.i,this.B),this.M!=2&&(si(),Et(17)),mn(this),this.m=2,Rn(this)):da(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Lu(c.j,c)}function mn(c){hi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function fi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Rr(v);else break e;Ds(v),Et(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(p(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&Ta(v),!I(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const xn=He[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ti=He[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Yn=He[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const Ns=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var Q=A.h;Q.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Uo(Q,Q.h),Q.h=null))}if(A.G){const Sa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(A.wa=Sa,Ke(A.J,A.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=zu(A,A.L?A.ba:null,A.W),ae.L){jo(A.h,ae);var Re=ae,mt=A.O;mt&&(Re.H=mt),Re.D&&(hi(Re),ci(Re)),A.g=ae}else ku(A);v.i.length>0&&vi(v)}else He[0]!="stop"&&He[0]!="close"||Ei(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(v,7):Yo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Po.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,Q=null;A>=0?(z=c[v].substring(0,A),Q=c[v].substring(A+1)):z=c[v],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof pn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Bo(this,Mu(c.i)),this.m=c.m):c&&(y=String(c).match(xu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=pi(y[2]||""),this.g=pi(y[3]||"",!0),vr(this,y[4]),this.h=pi(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=pi(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}pn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(As(y,pa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(As(y,pa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(As(v,v.charAt(0)=="/"?qo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",As(v,Nu)),c.join("")},pn.prototype.resolve=function(c){const y=bt(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let ae=0;ae<z.length;){const Re=z[ae++];Re=="."?A&&ae==z.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==z.length&&Q.push("")):(Q.push(Re),A=!0)}A=Q.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?Bo(y,Mu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function bt(c){return new pn(c)}function Pt(c,y,v){c.j=v?pi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,v){y instanceof Tr?(c.i=y,ya(c.i,c.l)):(v||(y=As(y,Er)),c.i=new Tr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function bs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,Er=/[#\?@]/g,Nu=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,y){an(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ou(c,y){an(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return an(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Fo(c,y){an(c);let v=[];if(typeof y=="string")Ho(c,y)&&(v=v.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return an(this),this.i=null,c=Sr(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function ga(c,y,v){Ou(c,y),v.length>0&&(c.i=null,c.g.set(Sr(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=Pi(v);v=Fo(this,v);for(let Q=0;Q<v.length;Q++){let ae=z;v[Q]!==""&&(ae+="="+Pi(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Mu(c){const y=new Tr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ya(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Ou(this,A),ga(this,z,v))},c)),c.j=y}function Gn(c,y){const v=new qn;if(f.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Go(c,y){const v=new qn,A=new AbortController,z=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function br(){this.g=new Eu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,Tu),gi.prototype.g=function(){return new ws(this.i,this.h)};function ws(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ws,vt),r=ws.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Qn(this),this.readyState==3&&_a(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return ye(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Rs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Pi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,vt);var yi=/^https?$/i,Qo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Cs(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Cs(this,Q)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Li(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},r.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let ae=String(c.D).match(xu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!yi.test(ae?ae.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Kn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ko(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),lf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Ru(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}Le(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function wr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Et(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=zu(this,null,this.W),vi(this)};function Yo(c){if(va(c),c.I==3){var y=c.V++,v=bt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),xs(c,v),y=new Hn(c,c.j,y),y.M=2,y.A=bs(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Bu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ci(y)}ju(c)}function Rr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function va(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Lo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||R(),te||(Se(),te=!0),x.add(y,c),c.D=0}}function Ea(c,y){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(p(c.Ea,c,y),Uu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Hn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Vu(this,z,y),v=bt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),xs(this,v),Q&&(this.R?y="headers="+Pi(In(Q))+"&"+y:this.u&&Rs(v,this.u,Q)),Uo(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),z.U=!0,ui(z,v,null)):ui(z,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Lo(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const A=bt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),xs(c,A),c.u&&c.o&&Rs(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),ui(v,A,y)}function xs(c,y){c.H&&ye(c.H,function(v,A){Ke(y,A,v)}),c.l&&ye({},function(v,A){Ke(y,A,v)})}function Vu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const mt=["count="+v];Re==-1?v>0?(Re=z[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let He=!0;for(let ot=0;ot<v;ot++){var Q=z[ot].g;const xn=z[ot].map;if(Q-=Re,Q<0)Re=Math.max(0,z[ot].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ae=xn instanceof Map?xn:Object.entries(xn);for(const[Ti,Yn]of ae){let Xn=Yn;m(Yn)&&(Xn=_r(Yn)),mt.push(Q+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(xn)}}if(He){ae=mt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||R(),te||(Se(),te=!0),x.add(y,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(p(c.Da,c),Uu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rr(this),Pu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=bt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),xs(c,y),c.u&&c.o&&Rs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(bt(y)),v.u=null,v.R=!0,fa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Ds(this),Et(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){Ta(c),$o(c),c.g=null;var A=2}else if(mi(c.h,y))v=y.G,jo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=ha(),Ot(A,new ai(A,v)),vi(c)}else ku(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ea(c,y)||A==2&&Ds(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Uu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ei(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),A=c.Ua;const z=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),bs(A),z?Gn(A.toString(),v):Go(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),ju(c),va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function zu(c,y,v){var A=v instanceof pn?bt(v):new pn(v);if(A.g!="")y&&(A.g=y+"."+A.g),vr(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new pn(null);A&&Pt(Q,A),y&&(Q.g=y),z&&vr(Q,z),v&&(Q.h=v),A=Q}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),xs(c,A),A}function Bu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new gi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){vt.call(this),this.g=new wr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ji(this)}S(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Yo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&vi(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,nn.Z.N.call(this)};function Hu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Hu,zt);function Fu(){wn.call(this),this.status=1}S(Fu,wn);function ji(c){this.g=c}S(ji,qu),ji.prototype.ra=function(){Ot(this.g,"a")},ji.prototype.qa=function(c){Ot(this.g,new Hu(c))},ji.prototype.pa=function(c){Ot(this.g,new Fu)},ji.prototype.oa=function(){Ot(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Y0=function(){return new Cr},K0=function(){return ha()},Q0=dt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,rh=Ts,Vo.COMPLETE="complete",G0=Vo,Su.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ul=Su,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,F0=$e}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",Jv="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let So="12.3.0";const Zs=new hp("@firebase/firestore");function eo(){return Zs.logLevel}function ce(r,...e){if(Zs.logLevel<=Ve.DEBUG){const n=e.map(mp);Zs.debug(`Firestore (${So}): ${r}`,...n)}}function fr(r,...e){if(Zs.logLevel<=Ve.ERROR){const n=e.map(mp);Zs.error(`Firestore (${So}): ${r}`,...n)}}function ho(r,...e){if(Zs.logLevel<=Ve.WARN){const n=e.map(mp);Zs.warn(`Firestore (${So}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,X0(r,s,n)}function X0(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||X0(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class rC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new $0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class aC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return _m(o)===_m(u)?ke(o,u):_m(o)?1:-1}return ke(r.length,e.length)}const cC=55296,hC=57343;function _m(r){const e=r.charCodeAt(0);return e>=cC&&e<=hC}function fo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const eE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class nt extends Ri{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const fC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return fC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new Yt([eE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function W0(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dC(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function tE(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nE(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ei(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!J0(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const iE=-62135596800,rE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*rE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iE)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function mC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new as(o,pe.empty(),e)}function pC(r){return new as(r.readTime,r.key,$l)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(be.min(),pe.empty(),$l)}static max(){return new as(be.max(),pe.empty(),$l)}}function gC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const yC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==yC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;const gp=-1;function Bh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function EC(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Z0="";function TC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=sE(e)),e=SC(r.get(n),e);return sE(e)}function SC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Z0:n+="";break;default:n+=u}}return n}function sE(r){return r+Z0+""}function aE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function fs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function eT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=bC.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const nT="server_timestamp",iT="__type__",rT="__previous_value__",sT="__local_write_time__";function yp(r){return(r?.mapValue?.fields||{})[iT]?.stringValue===nT}function qh(r){const e=r.mapValue.fields[rT];return yp(e)?qh(e):e}function Wl(r){const e=os(r.mapValue.fields[sT].timestampValue);return new st(e.seconds,e.nanos)}class AC{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const vh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const aT="__type__",wC="__max__",Wc={mapValue:{}},oT="__vector__",Eh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yp(r)?4:CC(r)?9007199254740991:RC(r)?10:11:Ee(28295,{value:r})}function Mi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(f)!==aE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Mi(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((n=>Mi(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return lE(r.timestampValue,e.timestampValue);case 4:return lE(Wl(r),Wl(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ls(u),g=ls(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=ke(m[p],g[p]);if(E!==0)return E}return ke(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(yt(u.latitude),yt(f.latitude));return m!==0?m:ke(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return uE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Eh]?.arrayValue,E=g[Eh]?.arrayValue,S=ke(p?.values?.length||0,E?.values?.length||0);return S!==0?S:uE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Vm(g[S],E[S]);if(w!==0)return w;const O=mo(m[g[S]],p[E[S]]);if(O!==0)return O}return ke(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function lE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=os(r),s=os(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function uE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function po(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function sh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return fs(s.fields,((u,f)=>{o+=u.length+sh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function cE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function hE(r){return!!r&&"nullValue"in r}function fE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function RC(r){return(r?.mapValue?.fields||{})[aT]?.stringValue===oT}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return{...r}}function CC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wC}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Hl(this.value))}}function lT(r){const e=[];return fs(r.fields,((n,s)=>{const o=new Yt([n]);if(ah(s)){const u=lT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,n){this.position=e,this.inclusive=n}}function dE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function mE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],e.position[n]))return!1;return!0}class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function IC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class uT{}class xt extends uT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DC(e,n,s):n==="array-contains"?new MC(e,s):n==="in"?new VC(e,s):n==="not-in"?new kC(e,s):n==="array-contains-any"?new PC(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NC(e,s):new OC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends uT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return cT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(r){return r.op==="and"}function hT(r){return xC(r)&&cT(r)}function xC(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Lm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(hT(r))return r.filters.map((e=>Lm(e))).join(",");{const e=r.filters.map((n=>Lm(n))).join(",");return`${r.op}(${e})`}}function fT(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,e):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&fT(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function dT(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"})(r):"Filter"}class DC extends xt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class NC extends xt{constructor(e,n){super(e,"in",n),this.keys=mT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OC extends xt{constructor(e,n){super(e,"not-in",n),this.keys=mT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class MC extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&Zl(n.arrayValue,this.value)}}class VC extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class kC extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class PC extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}class LC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function pE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new LC(r,e,n,s,o,u,f)}function vp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Lm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Ep(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!IC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!fT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mE(r.startAt,e.startAt)&&mE(r.endAt,e.endAt)}function Um(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UC(r,e,n,s,o,u,f,m){return new uu(r,e,n,s,o,u,f,m)}function Tp(r){return new uu(r)}function gE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pT(r){return r.collectionGroup!==null}function Fl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Sh(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Sh(Yt.keyField(),s))}return e.Ie}function Ci(r){const e=we(r);return e.Ee||(e.Ee=jC(e,Fl(r))),e.Ee}function jC(r,e){if(r.limitType==="F")return pE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Sh(o.field,u)}));const n=r.endAt?new Th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Th(r.startAt.position,r.startAt.inclusive):null;return pE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jm(r,e){const n=r.filters.concat([e]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zm(r,e,n){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Ep(Ci(r),Ci(e))&&r.limitType===e.limitType}function gT(r){return`${vp(Ci(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>dT(o))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=dE(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Fl(s),o)||s.endAt&&!(function(f,m,g){const p=dE(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Fl(s),o))})(r,e)}function zC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yT(r){return(e,n)=>{let s=!1;for(const o of Fl(r)){const u=BC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BC(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?mo(g,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}const qC=new ct(pe.comparator);function dr(){return qC}const _T=new ct(pe.comparator);function jl(...r){let e=_T;for(const n of r)e=e.insert(n.key,n);return e}function vT(r){let e=_T;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ys(){return Gl()}function ET(){return Gl()}function Gl(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const HC=new ct(pe.comparator),FC=new Vt(pe.comparator);function Pe(...r){let e=FC;for(const n of r)e=e.add(n);return e}const GC=new Vt(ke);function QC(){return GC}function Sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function TT(r){return{integerValue:""+r}}function KC(r,e){return EC(e)?TT(e):Sp(r,e)}class Gh{constructor(){this._=void 0}}function YC(r,e,n){return r instanceof bh?(function(o,u){const f={fields:{[iT]:{stringValue:nT},[sT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yp(u)&&(u=qh(u)),u&&(f.fields[rT]=u),{mapValue:f}})(n,e):r instanceof eu?bT(r,e):r instanceof tu?AT(r,e):(function(o,u){const f=ST(o,u),m=yE(f)+yE(o.Ae);return Pm(f)&&Pm(o.Ae)?TT(m):Sp(o.serializer,m)})(r,e)}function XC(r,e,n){return r instanceof eu?bT(r,e):r instanceof tu?AT(r,e):n}function ST(r,e){return r instanceof Ah?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class bh extends Gh{}class eu extends Gh{constructor(e){super(),this.elements=e}}function bT(r,e){const n=wT(e);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class tu extends Gh{constructor(e){super(),this.elements=e}}function AT(r,e){let n=wT(e);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class Ah extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yE(r){return yt(r.integerValue||r.doubleValue)}function wT(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function $C(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?fo(s.elements,o.elements,Mi):s instanceof Ah&&o instanceof Ah?Mi(s.Ae,o.Ae):s instanceof bh&&o instanceof bh})(r.transform,e.transform)}class WC{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function RT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bp(r.key,zn.none()):new cu(r.key,r.data,zn.none());{const n=r.data,s=dn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ds(r.key,s,new bn(o.toArray()),zn.none())}}function JC(r,e,n){r instanceof cu?(function(o,u,f){const m=o.value.clone(),g=vE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ds?(function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=vE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(CT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof cu?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const p=u.value.clone(),E=EE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ds?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const p=EE(u.fieldTransforms,g,f),E=f.data;return E.setAll(CT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function ZC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ST(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function _E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>$C(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function vE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,XC(f,m,n[o]))}return s}function EE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,YC(u,f,e))}return s}class bp extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ET();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=RT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,s)=>_E(n,s)))&&fo(this.baseMutations,e.baseMutations,((n,s)=>_E(n,s)))}}class Ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return HC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(e,n,s,o)}}class nI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function rI(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function IT(r){if(r===void 0)return fr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function sI(){return new TextEncoder}const aI=new rs([4294967295,4294967295],0);function TE(r){const e=sI().encode(r),n=new H0;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(aI)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new wp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=TE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kh(be.min(),o,new ct(ke),dr(),Pe())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Pe(),Pe(),Pe())}}class lh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class xT{constructor(e,n){this.targetId=e,this.Ce=n}}class DT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class bE{constructor(){this.ve=0,this.Fe=AE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=AE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oI{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ct(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(g){if(g instanceof tT)return ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wp(f,o,u)}catch(g){return ho(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Kh(e,n,this.Ye,this.je,s);return this.je=dr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ct(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ct(pe.comparator)}function AE(){return new ct(pe.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},uI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class hI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fI(r,e){return wh(r,e.toTimestamp())}function Ii(r){return Ge(!!r,49232),be.fromTimestamp((function(n){const s=os(n);return new st(s.seconds,s.nanos)})(r))}function Rp(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function OT(r){const e=nt.fromString(r);return Ge(LT(e),10190,{key:e.toString()}),e}function Hm(r,e){return Rp(r.databaseId,e.path)}function vm(r,e){const n=OT(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(VT(n))}function MT(r,e){return Rp(r.databaseId,e)}function dI(r){const e=OT(r);return e.length===4?nt.emptyPath():VT(e)}function Fm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wE(r,e,n){return{name:Hm(r,e),fields:n.value.mapValue.fields}}function mI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?J.UNKNOWN:IT(p.code);return new ue(E,p.message||"")})(f);n=new DT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):be.min(),m=new dn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(r,s.document),u=s.readTime?Ii(s.readTime):be.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new iI(o,u),m=s.targetId;n=new xT(m,f)}}return n}function pI(r,e){let n;if(e instanceof cu)n={update:wE(r,e.key,e.value)};else if(e instanceof bp)n={delete:Hm(r,e.key)};else if(e instanceof ds)n={update:wE(r,e.key,e.data),updateMask:AI(e.fieldMask)};else{if(!(e instanceof eI))return Ee(16599,{Vt:e.type});n={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:fI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function gI(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(be.min())&&(f=Ii(u)),new WC(f,o.transformResults||[])})(n,e)))):[]}function yI(r,e){return{documents:[MT(r,e.path)]}}function _I(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=MT(r,o);const u=(function(p){if(p.length!==0)return PT(ti.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:no(w.field),direction:TI(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function vI(r){let e=dI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=kT(S);return w instanceof ti&&hT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(G){return new Sh(io(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Bh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,O=S.values||[];return new Th(O,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const w=!S.before,O=S.values||[];return new Th(O,w)})(n.endAt)),UC(e,o,f,u,m,"F",g,p)}function EI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>kT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function TI(r){return lI[r]}function SI(r){return uI[r]}function bI(r){return cI[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return Yt.fromServerFormat(r.fieldPath)}function PT(r){return r instanceof xt?(function(n){if(n.op==="=="){if(fE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(hE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(hE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:SI(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>PT(o)));return s.length===1?s[0]:{compositeFilter:{op:bI(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function AI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class es{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wI{constructor(e){this.yt=e}}function RI(r){const e=vI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(e,e.limit,"L"):e}class CI{constructor(){this.Cn=new II}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(as.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class II{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(UT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const CE="LruGarbageCollector",xI=1048576;function IE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class DI{constructor(e){this.Ir=e,this.buffer=new Vt(IE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();IE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ce(CE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class OI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(zh.ce);const s=new DI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(RE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),eo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function MI(r,e){return new OI(r,e)}class VI{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,bn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Ys();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ys();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=dr();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Ql(E.mutation,p,E.mutation.getFieldMask(),st.now())):f.set(p.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new kI(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||bn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const S=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,S=ET();E.forEach((w=>{if(!u.has(w)){const O=RT(n.get(w),s.get(w));O!==null&&S.set(w,O),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Ys());let m=$l,g=u;return f.next((p=>ee.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((E=>({batchId:m,changes:vT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(S,w){return new uu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=jl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Ql(E.mutation,p,bn.empty(),st.now()),Fh(n,p)&&(m=m.insert(g,p))})),m}))}}class LI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:RI(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),ee.resolve()}}class UI{constructor(){this.overlays=new ct(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ys();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Ys(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Ys(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ys(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new nI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class jI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Cp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class zI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(ke);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new pe(u),0);let m=new Vt(ke);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BI{constructor(e){this.ri=e,this.docs=(function(){return new ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||gC(pC(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qI(this)}getSize(e){return ee.resolve(this.size)}}class qI extends VI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class HI{constructor(e){this.persistence=e,this.si=new ra((n=>vp(n)),Ep),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Cp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class jT{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new jI,this.referenceDelegate=e(this),this.Pi=new HI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(o){return new BI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wI(n),this.Ii=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new zI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new FI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class FI extends _C{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Ri=new Cp,this.Vi=null}static mi(e){return new Ip(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new ra((s=>TC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=MI(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,s,o)}}class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Lw()?8:vC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new GI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(eo()<=Ve.DEBUG&&ce("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ys(e,n){if(gE(n))return ee.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return gE(n)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(eo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,mC(o,$l)).next((m=>m)))}))}Ds(e,n){let s=new Vt(yT(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Dp="LocalStore",KI=3e8;class YI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(ke),this.xs=new ra((u=>vp(u)),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XI(r,e,n,s){return new YI(r,e,n,s)}async function zT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pe();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function $I(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const S=p.batch,w=S.keys();let O=ee.resolve();return w.forEach((G=>{O=O.next((()=>E.getEntry(g,G))).next((Y=>{const H=p.docVersions.get(G);Ge(H!==null,48541),Y.version.compareTo(H)<0&&(S.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function BT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),(function(Y,H,ne){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=KI?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let g=dr(),p=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JI(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function JI(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=dr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(Dp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function ZI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function e2(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;ce(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(r,e,n){const s=we(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const S=we(g),w=S.xs.get(E);return w!==void 0?ee.resolve(S.Ms.get(w)):S.Pi.getTargetData(p,E)})(s,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Pe()))).next((m=>(t2(s,zC(e),m),{documents:m,Qs:u})))))}function t2(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class DE{constructor(){this.activeTargetIds=QC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n2{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i2{Oo(e){}shutdown(){}}const NE="ConnectivityMonitor";class OE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(NE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Qm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const Em="RestConnection",r2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Qm(),m=this.zo(e,n.toUriEncodedString());ce(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=Eo(p);return this.Jo(e,m,g,s,E).then((S=>(ce(Em,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ho(Em,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=r2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class a2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class o2 extends s2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Qm();return new Promise(((m,g)=>{const p=new F0;p.setWithCredentials(!0),p.listenOnce(G0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const S=p.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case rh.TIMEOUT:ce(Wt,`RPC '${e}' ${f} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const w=p.getStatus();if(ce(Wt,`RPC '${e}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const G=O?.error;if(G&&G.status&&G.message){const Y=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(G.status);g(new ue(Y,G.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Wt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Y0(),m=K0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let w=!1,O=!1;const G=new a2({Yo:H=>{O?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),Y=(H,ne,ie)=>{H.listen(ne,(re=>{try{ie(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Y(S,Ul.EventType.OPEN,(()=>{O||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Y(S,Ul.EventType.CLOSE,(()=>{O||(O=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(S))})),Y(S,Ul.EventType.ERROR,(H=>{O||(O=!0,ho(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Ul.EventType.MESSAGE,(H=>{if(!O){const ne=H.data[0];Ge(!!ne,16349);const ie=ne,re=ie?.error||ie[0]?.error;if(re){ce(Wt,`RPC '${e}' stream ${o} received error:`,re);const ge=re.status;let Se=(function(R){const C=It[R];if(C!==void 0)return IT(C)})(ge),te=re.message;Se===void 0&&(Se=J.INTERNAL,te="Unknown error status: "+ge+" with message "+re.message),O=!0,G.a_(new ue(Se,te)),S.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,ne),G.u_(ne)}})),Y(m,Q0.STAT_EVENT,(H=>{H.stat===Mm.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Mm.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Tm(){return typeof document<"u"?document:null}function Yh(r){return new hI(r,!0)}class qT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ME="PersistentStream";class HT{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l2 extends HT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ii(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Um(g)?{documents:yI(u,g)}:{query:_I(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=NT(u,f.resumeToken);const p=Bm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const p=Bm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=EI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class u2 extends HT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gI(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>pI(this.serializer,s)))};this.q_(n)}}class c2{}class h2 extends c2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class d2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(ce(ea,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await fu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xh(p)})(this))}))})),this.Ra=new f2(s,o)}}async function Xh(r){if(sa(r))for(const e of r.da)await e(!0)}async function fu(r){for(const e of r.da)await e(!1)}function FT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vp(n)?Mp(n):wo(n).O_()&&Op(n,e))}function Np(r,e){const n=we(r),s=wo(n);n.Ia.delete(e),s.O_()&&GT(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Op(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).Y_(e)}function GT(r,e){r.Va.Ue(e),wo(r).Z_(e)}function Mp(r){r.Va=new oI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Ra.ua()}function Vp(r){return sa(r)&&!wo(r).x_()&&r.Ia.size>0}function sa(r){return we(r).Ea.size===0}function QT(r){r.Va=void 0}async function m2(r){r.Ra.set("Online")}async function p2(r){r.Ia.forEach(((e,n)=>{Op(r,e)}))}async function g2(r,e){QT(r),Vp(r)?(r.Ra.ha(e),Mp(r)):r.Ra.set("Unknown")}async function y2(r,e,n){if(r.Ra.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof lh?r.Va.Ze(e):e instanceof xT?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await BT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),GT(u,g);const S=new es(E.target,g,p,E.sequenceNumber);Op(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await fu(r),r.Ra.set("Offline"),n||(n=()=>BT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function KT(r,e){return e().catch((n=>Ch(r,n,e)))}async function $h(r){const e=we(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gp;for(;_2(e);)try{const o=await ZI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,v2(e,o)}catch(o){await Ch(e,o)}YT(e)&&XT(e)}function _2(r){return sa(r)&&r.Ta.length<10}function v2(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function YT(r){return sa(r)&&!cs(r).x_()&&r.Ta.length>0}function XT(r){cs(r).start()}async function E2(r){cs(r).ra()}async function T2(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function S2(r,e,n){const s=r.Ta.shift(),o=Ap.from(s,e,n);await KT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function b2(r,e){e&&cs(r).X_&&await(async function(s,o){if((function(f){return rI(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await KT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),YT(r)&&XT(r)}async function VE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await fu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function A2(r,e){const n=we(r);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await fu(n),n.Ra.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new l2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:m2.bind(null,r),t_:p2.bind(null,r),r_:g2.bind(null,r),H_:y2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Vp(r)?Mp(r):r.Ra.set("Unknown")):(await r.ma.stop(),QT(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new u2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:E2.bind(null,r),r_:b2.bind(null,r),ta:T2.bind(null,r),na:S2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Ao(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class kE{constructor(){this.ga=new ct(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class w2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class R2{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=PE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function PE(){return new ra((r=>gT(r)),Hh)}async function $T(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new w2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Lp(n)}async function WT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function C2(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Lp(n)}function I2(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Lp(r){r.Ca.forEach((e=>{e.next()}))}var Km,LE;(LE=Km||(Km={})).Ma="default",LE.Cache="cache";class JT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class ZT{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class x2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=yT(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new kE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),O=Fh(this.query,S)?S:null,G=!!w&&this.mutatedKeys.has(w.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;w&&O?w.data.isEqual(O.data)?G!==Y&&(s.track({type:3,doc:O}),H=!0):this.su(w,O)||(s.track({type:2,doc:O}),H=!0,(g&&this.eu(O,g)>0||p&&this.eu(O,p)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),H=!0):w&&!O&&(s.track({type:1,doc:w}),H=!0,(g||p)&&(m=!0)),H&&(O?(f=f.add(O),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(O,G){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:H})}};return Y(O)-Y(G)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new eS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ZT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Up="SyncEngine";class D2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class N2{constructor(e){this.key=e,this.hu=!1}}class O2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>gT(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(pe.comparator),this.Au=new Map,this.Ru=new Cp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M2(r,e,n=!0){const s=aS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tS(s,e,n,!0),o}async function V2(r,e){const n=aS(r);await tS(n,e,!0,!1)}async function tS(r,e,n,s){const o=await e2(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await k2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&FT(r.remoteStore,o),m}async function k2(r,e,n,s,o){r.pu=(S,w,O)=>(async function(Y,H,ne,ie){let re=H.view.ru(ne);re.Cs&&(re=await xE(Y.localStore,H.query,!1).then((({documents:x})=>H.view.ru(x,re))));const ge=ie&&ie.targetChanges.get(H.targetId),Se=ie&&ie.targetMismatches.get(H.targetId)!=null,te=H.view.applyChanges(re,Y.isPrimaryClient,ge,Se);return jE(Y,H.targetId,te.au),te.snapshot})(r,S,w,O);const u=await xE(r.localStore,e,!0),f=new x2(e,u.Qs),m=f.ru(u.documents),g=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);jE(r,n,p.au);const E=new D2(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function P2(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(bo)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function L2(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function U2(r,e,n){const s=G2(r);try{const o=await(function(f,m){const g=we(f),p=st.now(),E=m.reduce(((O,G)=>O.add(G.key)),Pe());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let G=dr(),Y=Pe();return g.Ns.getEntries(O,E).next((H=>{G=H,G.forEach(((ne,ie)=>{ie.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,G))).next((H=>{S=H;const ne=[];for(const ie of m){const re=ZC(ie,S.get(ie.key).overlayedDocument);re!=null&&ne.push(new ds(ie.key,re,lT(re.value.mapValue),zn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,ne,m)})).next((H=>{w=H;const ne=H.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(O,H.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:vT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new ct(ke)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await du(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function nS(r,e){const n=we(r);try{const s=await WI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await du(n,s,e)}catch(s){await bo(s)}}function UE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(p=!0)})),p&&Lp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function j2(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=Pe().add(u),g=new Kh(be.min(),new Map,new ct(ke),f,m);await nS(s,g),s.du=s.du.remove(u),s.Au.delete(e),jp(s)}else await Gm(s.localStore,e,!1).then((()=>Ym(s,e,n))).catch(bo)}async function z2(r,e){const n=we(r),s=e.batch.batchId;try{const o=await $I(n.localStore,e);rS(n,s,null),iS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await bo(o)}}async function B2(r,e,n){const s=we(r);try{const o=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((S=>(Ge(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(p,S)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);rS(s,e,n),iS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await bo(o)}}function iS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function rS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||sS(r,s)}))}function sS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Np(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),jp(r))}function jE(r,e,n){for(const s of n)s instanceof ZT?(r.Ru.addReference(s.key,e),q2(r,s)):s instanceof eS?(ce(Up,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||sS(r,s.key)):Ee(19791,{wu:s})}function q2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Up,"New document in limbo: "+n),r.Eu.add(s),jp(r))}function jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new N2(n)),r.du=r.du.insert(n,s),FT(r.remoteStore,new es(Ci(Tp(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function du(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=xp.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ee.forEach(p,(w=>ee.forEach(w.Es,(O=>E.persistence.referenceDelegate.addReference(S,w.targetId,O))).next((()=>ee.forEach(w.ds,(O=>E.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))))))}catch(S){if(!Ao(S))throw S;ce(Dp,"Failed to update sequence numbers: "+S)}for(const S of p){const w=S.targetId;if(!S.fromCache){const O=E.Ms.get(w),G=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function H2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Up,"User change. New user:",e.toKey());const s=await zT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Ls)}}function F2(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function aS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j2.bind(null,e),e.Pu.H_=C2.bind(null,e.eventManager),e.Pu.yu=I2.bind(null,e.eventManager),e}function G2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B2.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XI(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new jT(Ip.mi,this.serializer)}Du(e){return new n2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class Q2 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new jT((s=>Rh.mi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),await A2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new R2})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=(function(u){return new o2(u)})(e.databaseInfo);return(function(u,f,m,g){return new h2(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new d2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>UE(this.syncEngine,n,0)),(function(){return OE.v()?new OE:new i2})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const S=new O2(o,u,f,m,g,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(ea,"RemoteStore shutting down."),s.Ea.add(5),await fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class K2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await zT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function zE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Y2(r);ce(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>VE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>VE(e.remoteStore,o))),r._onlineComponents=e}async function Y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(hs,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Sm(r,new Ih)}}else ce(hs,"Using default OfflineComponentProvider"),await Sm(r,new Q2(void 0));return r._offlineComponents}async function lS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(hs,"Using user provided OnlineComponentProvider"),await zE(r,r._uninitializedComponentsProvider._online)):(ce(hs,"Using default OnlineComponentProvider"),await zE(r,new Xm))),r._onlineComponents}function X2(r){return lS(r).then((e=>e.syncEngine))}async function uS(r){const e=await lS(r),n=e.eventManager;return n.onListen=M2.bind(null,e.syncEngine),n.onUnlisten=P2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n}function $2(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new oS({next:w=>{E.Nu(),f.enqueueAndForget((()=>WT(u,S)));const O=w.docs.has(m);!O&&w.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&g&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new JT(Tp(m.path),E,{includeMetadataChanges:!0,qa:!0});return $T(u,S)})(await uS(r),r.asyncQueue,e,n,s))),s.promise}function W2(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new oS({next:w=>{E.Nu(),f.enqueueAndForget((()=>WT(u,S))),w.fromCache&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new JT(m,E,{includeMetadataChanges:!0,qa:!0});return $T(u,S)})(await uS(r),r.asyncQueue,e,n,s))),s.promise}function cS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const BE=new Map;const hS="firestore.googleapis.com",qE=!0;class HE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=qE}else this.host=e.host,this.ssl=e.ssl??qE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xI)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iC;switch(s.type){case"firstParty":return new oC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=BE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),BE.delete(n),s.terminate())})(this),Promise.resolve()}}function J2(r,e,n,s={}){r=ei(r,Wh);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(k0(`https://${m}`),P0("Firestore",!0)),u.host!==hS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=Iw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}r._authCredentials=new rC(new $0(p,E))}}class Ro{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,_t._jsonSchema))return new _t(e,s||null,new pe(nt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class ss extends Ro{constructor(e,n,s){super(e,n,Tp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new pe(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function nr(r,e,...n){if(r=jt(r),W0("collection","path",e),r instanceof Wh){const s=nt.fromString(e,...n);return nE(s),new ss(r,null,s)}{if(!(r instanceof _t||r instanceof ss))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return nE(s),new ss(r.firestore,null,s)}}function lr(r,e,...n){if(r=jt(r),arguments.length===1&&(e=pp.newId()),W0("doc","path",e),r instanceof Wh){const s=nt.fromString(e,...n);return tE(s),new _t(r,null,new pe(s))}{if(!(r instanceof _t||r instanceof ss))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return tE(s),new _t(r.firestore,r instanceof ss?r.converter:null,new pe(s))}}const FE="AsyncQueue";class GE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&ce(FE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ce(FE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=kp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class aa extends Wh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new GE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function Z2(r,e){const n=typeof r=="object"?r:z0(),s=typeof r=="string"?r:vh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Rw("firestore");u&&J2(o,...u)}return o}function zp(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ex(r),r._firestoreClient}function ex(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new AC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new K2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Xt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Dt("string",jn._jsonSchemaVersion),bytes:Dt("string")};class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Dt("string",xi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Dt("string",Di._jsonSchemaVersion),vectorValues:Dt("object")};const tx=/^__.*__$/;class nx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class fS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dS(this.Ac)&&tx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ix{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}Cc(e,n,s,o=!1){return new qp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(r){const e=r._freezeSettings(),n=Yh(r._databaseId);return new ix(r._databaseId,!!e.ignoreUndefinedProperties,n)}function mS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,s);const m=pS(s,f);let g,p;if(u.merge)g=new bn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=$m(e,S,n);if(!f.contains(w))throw new ue(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yS(E,w)||E.push(w)}g=new bn(E),p=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,p=f.fieldTransforms;return new nx(new dn(m),g,p)}class ef extends Bp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function rx(r,e,n,s){const o=r.Cc(1,e,n);Hp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();fs(s,((g,p)=>{const E=Fp(e,g,n);p=jt(p);const S=o.yc(E);if(p instanceof ef)u.push(E);else{const w=mu(p,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new bn(u);return new fS(f,m,o.fieldTransforms)}function sx(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[$m(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push($m(e,u[w])),g.push(u[w+1]);const p=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!yS(p,m[w])){const O=m[w];let G=g[w];G=jt(G);const Y=f.yc(O);if(G instanceof ef)p.push(O);else{const H=mu(G,Y);H!=null&&(p.push(O),E.set(O,H))}}const S=new bn(p);return new fS(E,S,f.fieldTransforms)}function ax(r,e,n,s=!1){return mu(n,r.Cc(s?4:3,e))}function mu(r,e){if(gS(r=jt(r)))return Hp("Unsupported field value:",e,r),pS(r,e);if(r instanceof Bp)return(function(s,o){if(!dS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=mu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:NT(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){return{mapValue:{fields:{[aT]:{stringValue:oT},[Eh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Sp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function pS(r,e){const n={};return eT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,((s,o)=>{const u=mu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function gS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof xi||r instanceof jn||r instanceof _t||r instanceof Bp||r instanceof Di)}function Hp(r,e,n){if(!gS(n)||!J0(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function $m(r,e,n){if((e=jt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Fp(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ox=new RegExp("[~\\*/\\[\\]]");function Fp(r,e,n){if(e.search(ox)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+r+g)}function yS(r,e){return r.some((n=>n.isEqual(e)))}class _S{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lx extends _S{data(){return super.data()}}function Gp(r,e){return typeof e=="string"?Fp(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}function ux(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class cx extends Qp{}function vS(r,e,...n){let s=[];e instanceof Qp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Kp)).length,m=u.filter((g=>g instanceof tf)).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class tf extends cx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tf(e,n,s)}_apply(e){const n=this._parse(e);return ES(e._query,n),new Ro(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(u,f,m,g,p,E,S){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){YE(S,E);const G=[];for(const Y of S)G.push(KE(g,u,Y));w={arrayValue:{values:G}}}else w=KE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||YE(S,E),w=ax(m,f,S,E==="in"||E==="not-in");return xt.create(p,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hx(r,e,n){const s=e,o=Gp("where",r);return tf._create(o,s,n)}class Kp extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)ES(f,g),f=jm(f,g)})(e._query,n),new Ro(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KE(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cE(r,new pe(s))}if(n instanceof _t)return cE(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function YE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fx{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Di(n)}convertGeoPoint(e){return new xi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=os(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(LT(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function TS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends _S{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Dt("string",$s._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class uh extends $s{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dx(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function mx(r){r=ei(r,_t);const e=ei(r.firestore,aa);return $2(zp(e),r._key).then((n=>gx(e,r,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Dt("string",ao._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class SS extends fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Xs(r){r=ei(r,Ro);const e=ei(r.firestore,aa),n=zp(e),s=new SS(e);return ux(r._query),W2(n,r._query).then((o=>new ao(e,s,r,o)))}function px(r,e,n){r=ei(r,_t);const s=ei(r.firestore,aa),o=TS(r.converter,e);return nf(s,[mS(Zh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,zn.none())])}function Wm(r,e,n,...s){r=ei(r,_t);const o=ei(r.firestore,aa),u=Zh(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Jh?sx(u,"updateDoc",r._key,e,n,s):rx(u,"updateDoc",r._key,e),nf(o,[f.toMutation(r._key,zn.exists(!0))])}function Yp(r){return nf(ei(r.firestore,aa),[new bp(r._key,zn.none())])}function bS(r,e){const n=ei(r.firestore,aa),s=lr(r),o=TS(r.converter,e);return nf(n,[mS(Zh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function nf(r,e){return(function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>U2(await X2(s),o,u))),u.promise})(zp(r),e)}function gx(r,e,n){const s=n.docs.get(e._key),o=new SS(r);return new $s(r,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){So=o})(To),co(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new aa(new sC(s.getProvider("auth-internal")),new lC(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(Wv,Jv,e),is(Wv,Jv,"esm2020")})();function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yx=AS,wS=new au("auth","Firebase",AS());const Dh=new hp("@firebase/auth");function _x(r,...e){Dh.logLevel<=Ve.WARN&&Dh.warn(`Auth (${To}): ${r}`,...e)}function ch(r,...e){Dh.logLevel<=Ve.ERROR&&Dh.error(`Auth (${To}): ${r}`,...e)}function ni(r,...e){throw Xp(r,...e)}function Ni(r,...e){return Xp(r,...e)}function RS(r,e,n){const s={...yx(),[e]:n};return new au("auth","Firebase",s).create(e,{appName:r.name})}function ur(r){return RS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return wS.create(r,...e)}function ve(r,e,...n){if(!r)throw Xp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function mr(r,e){r||rr(e)}function Jm(){return typeof self<"u"&&self.location?.href||""}function vx(){return XE()==="http:"||XE()==="https:"}function XE(){return typeof self<"u"&&self.location?.protocol||null}function Ex(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vx()||Vw()||"connection"in navigator)?navigator.onLine:!0}function Tx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Nw()||kw()}get(){return Ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $p(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class CS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ax=new pu(3e4,6e4);function ms(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,o={}){return IS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Mw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),CS.fetch()(await xS(r,r.config.apiHost,n,m),p)})}async function IS(r,e,n){r._canInitEmulator=!1;const s={...Sx,...e};try{const o=new Rx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw eh(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw RS(r,E,p);ni(r,E)}}catch(o){if(o instanceof gr)throw o;ni(r,"network-request-failed",{message:String(o)})}}async function gu(r,e,n,s,o={}){const u=await ps(r,e,n,s,o);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$p(r.config,o):`${r.config.apiScheme}://${o}`;return bx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function wx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),Ax.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function $E(r){return r!==void 0&&r.enterprise!==void 0}class Cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ix(r,e){return ps(r,"GET","/v2/recaptchaConfig",ms(r,e))}async function xx(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dx(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=Wp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(bm(o.auth_time)),issuedAtTime:Kl(bm(o.iat)),expirationTime:Kl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function Wp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function WE(r){const e=Wp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&Nx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Nx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Ox{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(r){const e=r.auth,n=await r.getIdToken(),s=await nu(r,Nh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?DS(o.providerUserInfo):[],f=Vx(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function Mx(r){const e=jt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kx(r,e){const n=await IS(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await xS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),CS.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Px(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ms(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=WE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return rr("not implemented")}}function $r(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Ox(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dx(this,e)}reload(){return Mx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await nu(this,xx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:O,providerData:G,stsTokenManager:Y}=n;ve(S&&Y,e,"internal-error");const H=oo.fromJSON(this.name,Y);ve(typeof S=="string",e,"internal-error"),$r(s,e.name),$r(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),$r(u,e.name),$r(f,e.name),$r(m,e.name),$r(g,e.name),$r(p,e.name),$r(E,e.name);const ne=new Zn({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ne.providerData=G.map(ie=>({...ie}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const JE=new Map;function sr(r){mr(r instanceof Function,"Expected a class definition");let e=JE.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,JE.set(r,e),e)}class NS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NS.type="NONE";const ZE=NS;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(sr(ZE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||sr(ZE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const w=await Nh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(e,w,E)}else S=Zn._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new lo(u,e,s))}}function e0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(US(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(PS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function OS(r=en()){return/firefox\//i.test(r)}function MS(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(r=en()){return/crios\//i.test(r)}function kS(r=en()){return/iemobile/i.test(r)}function PS(r=en()){return/android/i.test(r)}function LS(r=en()){return/blackberry/i.test(r)}function US(r=en()){return/webos/i.test(r)}function Jp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Lx(r=en()){return Jp(r)&&!!window.navigator?.standalone}function Ux(){return Pw()&&document.documentMode===10}function jS(r=en()){return Jp(r)||PS(r)||US(r)||LS(r)||/windows phone/i.test(r)||kS(r)}function zS(r,e=[]){let n;switch(r){case"Browser":n=e0(en());break;case"Worker":n=`${e0(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zx(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ms(r,e))}const Bx=6;class qx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Bx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Hx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ur(this));const n=e?jt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zx(this),n=new qx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Px(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_x(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(r){return jt(r)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fx(r){rf=r}function BS(r){return rf.loadJS(r)}function Gx(){return rf.recaptchaEnterpriseScript}function Qx(){return rf.gapiScript}function Kx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Yx{constructor(){this.enterprise=new Xx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Xx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $x="recaptcha-enterprise",qS="NO_RECAPTCHA";class Wx{constructor(e){this.type=$x,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Ix(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new Cx(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;$E(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(qS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$E(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Gx();g.length!==0&&(g+=m),BS(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function n0(r,e,n,s=!1,o=!1){const u=new Wx(r);let f;if(o)f=qS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ep(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await n0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await n0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function Jx(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function Zx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function eD(r,e,n){const s=oa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=HS(e),{host:f,port:m}=tD(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ws(p,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(k0(`${u}//${f}${g}`),P0("Auth",!0)):nD()}function HS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tD(r){const e=HS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:i0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:i0(f)}}}function i0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function iD(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function rD(r,e){return gu(r,"POST","/v1/accounts:signInWithPassword",ms(r,e))}async function sD(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}async function aD(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}class iu extends Zp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",rD);case"emailLink":return sD(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,s,"signUpPassword",iD);case"emailLink":return aD(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return gu(r,"POST","/v1/accounts:signInWithIdp",ms(r,e))}const oD="http://localhost";class ta extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}function lD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uD(r){const e=Pl(Ll(r)).link,n=e?Pl(Ll(e)).deep_link_id:null,s=Pl(Ll(r)).deep_link_id;return(s?Pl(Ll(s)).link:null)||s||n||e||r}class eg{constructor(e){const n=Pl(Ll(e)),s=n.apiKey??null,o=n.oobCode??null,u=lD(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=uD(e);try{return new eg(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eg.parseLink(n);return ve(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends FS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends yu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class ir extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class Jr extends yu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Zr extends yu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";async function cD(r,e){return gu(r,"POST","/v1/accounts:signUp",ms(r,e))}class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=r0(s);return new na({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r0(s);return new na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mh extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function GS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function hD(r,e,n=!1){const s=await nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return na._forOperation(r,"link",s)}async function fD(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await nu(r,GS(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Wp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),na._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function QS(r,e,n=!1){if(Un(r.app))return Promise.reject(ur(r));const s="signIn",o=await GS(r,s,e),u=await na._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function dD(r,e){return QS(oa(r),e)}async function KS(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mD(r,e,n){if(Un(r.app))return Promise.reject(ur(r));const s=oa(r),f=await ep(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&KS(r),g}),m=await na._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function pD(r,e,n){return Un(r.app)?Promise.reject(ur(r)):dD(jt(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&KS(r),s})}function gD(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function yD(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function _D(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function vD(r){return jt(r).signOut()}const Vh="__sak";class YS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ED=1e3,TD=10;class XS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ux()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const SD=XS;class $S extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$S.type="SESSION";const WS=$S;function bD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await bD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function tg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=tg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function wD(r){Oi().location.href=r}function JS(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function RD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){return navigator?.serviceWorker?.controller||null}function ID(){return JS()?self:null}const ZS="firebaseLocalStorageDb",xD=1,kh="firebaseLocalStorage",e1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function DD(){const r=indexedDB.deleteDatabase(ZS);return new _u(r).toPromise()}function tp(){const r=indexedDB.open(ZS,xD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:e1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await DD(),e(await tp()))})})}async function s0(r,e,n){const s=af(r,!0).put({[e1]:e,value:n});return new _u(s).toPromise()}async function ND(r,e){const n=af(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function a0(r,e){const n=af(r,!0).delete(e);return new _u(n).toPromise()}const OD=800,MD=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await s0(e,Vh,"1"),await a0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>s0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ND(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=af(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const VD=t1;new pu(3e4,6e4);function kD(r,e){return e?sr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ng extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(r){return QS(r.auth,new ng(r),r.bypassAuthState)}function LD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),fD(n,new ng(r),r.bypassAuthState)}async function UD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),hD(n,new ng(r),r.bypassAuthState)}class n1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return UD;case"reauthViaPopup":case"reauthViaRedirect":return LD;default:ni(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jD=new pu(2e3,1e4);class ro extends n1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}ro.currentPopupAction=null;const zD="pendingRedirect",fh=new Map;class BD extends n1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await qD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qD(r,e){const n=GD(e),s=FD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HD(r,e){fh.set(r._key(),e)}function FD(r){return sr(r._redirectPersistence)}function GD(r){return hh(zD,r.config.apiKey,r.name)}async function QD(r,e,n=!1){if(Un(r.app))return Promise.reject(ur(r));const s=oa(r),o=kD(s,e),f=await new BD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const KD=600*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!i1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KD&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}}function o0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function i1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function XD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i1(r);default:return!1}}async function $D(r,e={}){return ps(r,"GET","/v1/projects",e)}const WD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JD=/^https?/;async function ZD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await $D(r);for(const n of e)try{if(eN(n))return}catch{}ni(r,"unauthorized-domain")}function eN(r){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!JD.test(n))return!1;if(WD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const tN=new pu(3e4,6e4);function l0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nN(r){return new Promise((e,n)=>{function s(){l0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l0(),n(Ni(r,"network-request-failed"))},timeout:tN.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=Kx("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},BS(`${Qx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function iN(r){return dh=dh||nN(r),dh}const rN=new pu(5e3,15e3),sN="__/auth/iframe",aN="emulator/auth/iframe",oN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$p(e,aN):`https://${r.config.authDomain}/${sN}`,s={apiKey:e.apiKey,appName:r.name,v:To},o=lN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function cN(r){const e=await iN(r),n=Oi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:uN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},rN.get());function g(){Oi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const hN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,dN=600,mN="_blank",pN="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gN(r,e,n,s=fN,o=dN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...hN,width:s.toString(),height:o.toString(),top:u,left:f},p=en().toLowerCase();n&&(m=VS(p)?mN:n),OS(p)&&(e=e||pN,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[O,G])=>`${w}${O}=${G},`,"");if(Lx(p)&&m!=="_self")return yN(e||"",m),new u0(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new u0(S)}function yN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _N="__/auth/handler",vN="emulator/auth/handler",EN=encodeURIComponent("fac");async function c0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof FS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Hw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof yu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${EN}=${encodeURIComponent(g)}`:"";return`${TN(r)}?${ou(m).slice(1)}${p}`}function TN({config:r}){return r.emulator?$p(r,vN):`https://${r.authDomain}/${_N}`}const Am="webStorageSupport";class SN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=QD,this._overrideRedirectResult=HD}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await c0(e,n,s,Jm(),o);return gN(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await c0(e,n,s,Jm(),o);return wD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cN(e),s=new YD(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{const u=o?.[0]?.[Am];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||MS()||Jp()}}const bN=SN;var h0="@firebase/auth",f0="1.11.1";class AN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RN(r){co(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(r)},p=new Hx(s,o,u,g);return Zx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new Js("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new AN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(h0,f0,wN(r)),is(h0,f0,"esm2020")}const CN=300,IN=V0("authIdTokenMaxAge")||CN;let d0=null;const xN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IN)return;const o=n?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DN(r=z0()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Jx(r,{popupRedirectResolver:bN,persistence:[VD,SD,WS]}),s=V0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=xN(u.toString());yD(n,f,()=>f(n.currentUser)),gD(n,m=>f(m))}}const o=O0("auth");return o&&eD(n,`http://${o}`),n}function NN(){return document.getElementsByTagName("head")?.[0]??document}Fx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",NN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RN("Browser");const ON={apiKey:"AIzaSyCzGMUJ87YPFhcmdHH-316cy0TQaheFiIY",authDomain:"labs-1d070.firebaseapp.com",projectId:"labs-1d070",storageBucket:"labs-1d070.firebasestorage.app",messagingSenderId:"747089113680",appId:"1:747089113680:web:b3b50bcd2a1af40633d755"},r1=j0(ON),Kt=Z2(r1),th=DN(r1);new ir;const s1=j.createContext(),Io=()=>j.useContext(s1),MN=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(null),[u,f]=j.useState(!0),m=w=>`${w}@lams.app`,g=async(w,O)=>{const G=m(w);return pD(th,G,O)},p=async(w,O,G,Y)=>{const H=m(w),{user:ne}=await mD(th,H,O);return await px(lr(Kt,"users",ne.uid),{empId:w,name:G,email:Y,role:"user",status:"pending",createdAt:new Date().toISOString()}),ne},E=()=>vD(th);j.useEffect(()=>_D(th,async O=>{if(console.log("Auth State Changed:",O?O.uid:"No User"),n(O),O){const G=lr(Kt,"users",O.uid);try{const Y=await mx(G);if(Y.exists()){const H=Y.data();console.log("User Profile Loaded:",H),o(H)}else console.error("No user profile found in Firestore!"),o(null)}catch(Y){console.error("Error fetching user profile:",Y)}}else o(null);f(!1)}),[]);const S={currentUser:e,userProfile:s,login:g,signup:p,logout:E,loading:u};return b.jsx(s1.Provider,{value:S,children:!u&&r})};const VN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),m0=r=>{const e=kN(r);return e.charAt(0).toUpperCase()+e.slice(1)},a1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),PN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UN=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>j.createElement("svg",{ref:g,...LN,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:a1("lucide",o),...!u&&!PN(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>j.createElement(p,E)),...Array.isArray(u)?u:[u]]));const ki=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(UN,{ref:u,iconNode:e,className:a1(`lucide-${VN(m0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=m0(r),n};const jN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zN=ki("calendar",jN);const BN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qN=ki("chart-column",BN);const HN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],FN=ki("file-plus",HN);const GN=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],QN=ki("flask-conical",GN);const KN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YN=ki("layout-dashboard",KN);const XN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$N=ki("log-out",XN);const WN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JN=ki("menu",WN);const ZN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eO=ki("settings",ZN);const tO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nO=ki("shield",tO);const iO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rO=ki("x",iO),Ja=({children:r})=>{const e=pr(),[n,s]=j.useState(!0),[o,u]=j.useState(window.innerWidth<768),[f,m]=j.useState(!1),{userProfile:g,logout:p}=Io();j.useEffect(()=>{const w=()=>{u(window.innerWidth<768),window.innerWidth>=768&&(m(!1),s(!0))};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const E=[{path:"/",label:"Dashboard",icon:b.jsx(YN,{size:20})},{path:"/assignments",label:"Assignments",icon:b.jsx(FN,{size:20})},{path:"/schedule",label:"Schedule",icon:b.jsx(zN,{size:20})},{path:"/master-data",label:"Master Data",icon:b.jsx(eO,{size:20})},{path:"/analytics",label:"Analytics",icon:b.jsx(qN,{size:20})}],S=()=>m(!f);return b.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"var(--color-bg-main)"},children:[b.jsx("button",{className:"mobile-menu-btn",onClick:S,style:{display:o?"flex":"none"},children:f?b.jsx(rO,{size:24}):b.jsx(JN,{size:24})}),b.jsx("div",{className:`sidebar-overlay ${f?"open":""}`,onClick:()=>m(!1)}),b.jsxs("aside",{className:"glass-panel",style:{width:n&&!o||o?"260px":"80px",margin:o?0:"var(--space-md)",padding:"var(--space-md)",display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:o?"fixed":"sticky",top:o?0:"var(--space-md)",left:o?f?0:"-100%":0,height:o?"100vh":"calc(100vh - 2 * var(--space-md))",zIndex:100,borderRadius:o?0:"var(--radius-lg)",borderLeft:o?"none":"1px solid var(--glass-border)",borderTop:o?"none":"1px solid var(--glass-border)",borderBottom:o?"none":"1px solid var(--glass-border)"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-xl)",padding:"0 var(--space-xs)"},children:[b.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",marginRight:n||o?"var(--space-md)":"0",flexShrink:0,boxShadow:"0 0 15px var(--color-accent-glow)"},children:b.jsx(QN,{size:24})}),(n||o)&&b.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"LAB"})]}),b.jsxs("nav",{style:{flex:1,display:"flex",flexDirection:"column",gap:"var(--space-xs)"},children:[E.map(w=>b.jsxs(ph,{to:w.path,onClick:()=>o&&m(!1),style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname===w.path?"white":"var(--color-text-muted)",background:e.pathname===w.path?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname===w.path?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n||o?"flex-start":"center",position:"relative",overflow:"hidden"},children:[b.jsx("span",{style:{marginRight:n||o?"var(--space-md)":0,display:"flex"},children:w.icon}),(n||o)&&b.jsx("span",{style:{fontWeight:500},children:w.label}),e.pathname===w.path&&b.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",background:"var(--color-accent)",borderRadius:"0 4px 4px 0",boxShadow:"0 0 10px var(--color-accent)"}})]},w.path)),g&&g.role==="admin"&&b.jsxs(ph,{to:"/admin",onClick:()=>o&&m(!1),style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname==="/admin"?"white":"var(--color-text-muted)",background:e.pathname==="/admin"?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname==="/admin"?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n||o?"flex-start":"center",marginTop:"var(--space-sm)",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"var(--space-md)"},children:[b.jsx("span",{style:{marginRight:n||o?"var(--space-md)":0,display:"flex"},children:b.jsx(nO,{size:20})}),(n||o)&&b.jsx("span",{style:{fontWeight:500},children:"Admin Panel"})]})]}),b.jsx("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"var(--space-md)",marginTop:"auto"},children:b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},children:[b.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--color-bg-secondary)",border:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"bold",color:"var(--color-accent)"},children:g?g.name.charAt(0):"G"}),(n||o)&&b.jsxs("div",{style:{overflow:"hidden",flex:1},children:[b.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g?g.name:"Guest"}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:g?g.role:"Sign in"})]}),(n||o)&&b.jsx("button",{onClick:p,style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex"},title:"Logout",children:b.jsx($N,{size:16})})]})})]}),b.jsxs("main",{style:{flex:1,padding:o?"var(--space-xl) var(--space-md) var(--space-md) var(--space-md)":"var(--space-md)",overflowY:"auto",marginLeft:0,transition:"all 0.3s ease"},children:[b.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-xl)",marginTop:o?"var(--space-xl)":0},children:[b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:E.find(w=>w.path===e.pathname)?.label||(e.pathname==="/admin"?"Admin Panel":"Dashboard")}),b.jsx("p",{style:{color:"var(--color-text-muted)",margin:0},children:"Welcome back to your lab management workspace"})]}),b.jsx("div",{style:{display:"flex",gap:"var(--space-sm)"},children:!o&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""}),b.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""})]})})]}),b.jsx("div",{className:"animate-fade-in",children:r})]})]})},sO=({title:r,value:e,icon:n,trend:s,color:o})=>b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)",position:"relative",overflow:"hidden"},children:[b.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"5rem",opacity:.05},children:n}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-sm)"},children:[b.jsx("div",{style:{padding:"var(--space-xs)",borderRadius:"var(--radius-md)",background:`rgba(${o}, 0.1)`,color:`rgb(${o})`},children:n}),s&&b.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-success)",background:"rgba(16, 185, 129, 0.1)",padding:"2px 6px",borderRadius:"var(--radius-full)"},children:s})]}),b.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"var(--space-xs)"},children:e}),b.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.875rem"},children:r})]}),aO=({user:r,action:e,time:n})=>b.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",padding:"var(--space-md)",borderBottom:"1px solid var(--glass-border)"},children:[b.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem"},children:r.charAt(0)}),b.jsxs("div",{style:{flex:1},children:[b.jsxs("div",{style:{fontSize:"0.875rem"},children:[b.jsx("span",{style:{fontWeight:600},children:r})," ",e]}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"2px"},children:n})]})]}),oO=()=>{const r=[{title:"Total Assignments",value:"124",icon:"",trend:"+12%",color:"59, 130, 246"},{title:"Active Faculty",value:"48",icon:"",trend:"+2",color:"16, 185, 129"},{title:"Lab Rooms",value:"12",icon:"",color:"245, 158, 11"},{title:"Subjects",value:"36",icon:"",color:"239, 68, 68"}],e=[{user:"Dr. Smith",action:"created a new assignment for CSE 3rd Sem",time:"2 mins ago"},{user:"Prof. Johnson",action:"updated the schedule for Lab 1",time:"15 mins ago"},{user:"Admin",action:"approved 2 new faculty members",time:"1 hour ago"},{user:"System",action:"performed automated backup",time:"3 hours ago"}];return b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-xl)"},children:[b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"var(--space-lg)"},children:r.map((n,s)=>b.jsx(sO,{...n},s))}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"var(--space-lg)"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"0"},children:[b.jsxs("div",{style:{padding:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("h3",{style:{margin:0},children:"Recent Activity"}),b.jsx("button",{className:"btn",style:{fontSize:"0.875rem",color:"var(--color-accent)"},children:"View All"})]}),b.jsx("div",{children:e.map((n,s)=>b.jsx(aO,{...n},s))})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)"},children:[b.jsx("h3",{style:{marginTop:0},children:"Quick Actions"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-sm)"},children:b.jsxs("button",{className:"btn glass-panel",style:{textAlign:"center",padding:"var(--space-md)",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)"},children:[b.jsx("span",{style:{fontSize:"1.25rem"},children:""}),b.jsx("span",{children:"Export Report"})]})}),b.jsxs("div",{style:{marginTop:"var(--space-xl)",padding:"var(--space-md)",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-md)",borderLeft:"3px solid var(--color-accent)"},children:[b.jsx("h4",{style:{margin:"0 0 var(--space-xs) 0",fontSize:"0.875rem",color:"var(--color-accent)"},children:" Pro Tip"}),b.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Drag and drop assignments in the Schedule view to quickly reorganize lab timings."})]})]})]})]})},lO=()=>{const{login:r,signup:e,currentUser:n}=Io(),s=ap(),[o,u]=j.useState(!0),[f,m]=j.useState(!1),[g,p]=j.useState(!1),[E,S]=j.useState({empId:"",password:"",name:"",recoveryEmail:""}),[w,O]=j.useState(""),[G,Y]=j.useState("");j.useEffect(()=>{n&&s("/")},[n,s]);const[H,ne]=j.useState(1),[ie,re]=j.useState(""),[ge,Se]=j.useState(""),[te,x]=j.useState(null),[R,C]=j.useState(""),k=async P=>{P.preventDefault(),O(""),Y(""),p(!0);try{o?await r(E.empId,E.password):await e(E.empId,E.password,E.name,E.recoveryEmail)}catch(I){console.error(I),O(`Failed: ${I.message} (${I.code})`),I.code==="auth/invalid-credential"?O("Invalid Employee ID or Password."):I.code==="auth/email-already-in-use"?O("This Employee ID is already registered."):I.code==="auth/weak-password"&&O("Password should be at least 6 characters.")}finally{p(!1)}},N=async P=>{P.preventDefault(),O(""),Y(""),p(!0);try{if(H===1){const I=vS(nr(Kt,"users"),hx("empId","==",ie)),Qe=await Xs(I);if(Qe.empty){O("Employee ID not found."),p(!1);return}const et=Qe.docs[0].data();if(!et.email){O("No recovery email found for this user. Contact Admin."),p(!1);return}const L=Math.floor(1e5+Math.random()*9e5).toString();x(L),alert(`[SIMULATION] OTP sent to ${et.email}: ${L}`),console.log(`OTP for ${et.email}: ${L}`),Y(`OTP sent to ${et.email}`),ne(2)}else H===2?ge===te?(ne(3),Y("OTP Verified. Enter new password.")):O("Invalid OTP."):H===3&&(alert("Password Reset Successfully! (Simulated - In a real app, this would update Auth)"),m(!1),ne(1),re(""),Se(""),C(""),Y("Password reset successful. Please login with your new password."))}catch(I){console.error(I),O("An error occurred. Please try again.")}finally{p(!1)}};return f?b.jsx("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)"},children:b.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[b.jsx("h2",{style:{marginBottom:"var(--space-lg)"},children:"Reset Password"}),G&&b.jsx("div",{style:{padding:"0.5rem",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"4px",marginBottom:"1rem"},children:G}),w&&b.jsx("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem"},children:w}),b.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[H===1&&b.jsx("input",{type:"text",placeholder:"Enter Employee ID",className:"glass-input",value:ie,onChange:P=>re(P.target.value),required:!0}),H===2&&b.jsx("input",{type:"text",placeholder:"Enter OTP",className:"glass-input",value:ge,onChange:P=>Se(P.target.value),required:!0}),H===3&&b.jsx("input",{type:"password",placeholder:"New Password",className:"glass-input",value:R,onChange:P=>C(P.target.value),required:!0}),b.jsx("button",{type:"submit",className:"btn",style:{background:"var(--color-accent)",color:"white"},children:H===1?"Send OTP":H===2?"Verify OTP":"Reset Password"}),b.jsx("button",{type:"button",onClick:()=>m(!1),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",marginTop:"1rem"},children:"Back to Login"})]})]})}):b.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)",position:"relative",overflow:"hidden"},children:[b.jsx("div",{style:{position:"absolute",top:"-10%",right:"-10%",width:"500px",height:"500px",background:"radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.5,animation:"float 10s infinite ease-in-out"}}),b.jsx("div",{style:{position:"absolute",bottom:"-10%",left:"-10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.4,animation:"float 15s infinite ease-in-out reverse"}}),b.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center",zIndex:10,border:"1px solid rgba(255, 255, 255, 0.15)"},children:[b.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-lg)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto var(--space-lg)",boxShadow:"0 0 20px var(--color-accent-glow)"},children:""}),b.jsx("h1",{style:{marginBottom:"var(--space-xs)",fontSize:"2rem"},children:o?"Welcome Back":"Join LAB"}),b.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"var(--space-xl)"},children:"Institute Lab Management System"}),G&&b.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:G}),w&&b.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:w}),b.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"var(--space-md)"},children:[!o&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:"Full Name",className:"glass-input",value:E.name,onChange:P=>S({...E,name:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("input",{type:"email",placeholder:"Recovery Email",className:"glass-input",value:E.recoveryEmail,onChange:P=>S({...E,recoveryEmail:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}})]}),b.jsx("input",{type:"text",placeholder:"Employee ID",className:"glass-input",value:E.empId,onChange:P=>S({...E,empId:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("input",{type:"password",placeholder:"Password",className:"glass-input",value:E.password,onChange:P=>S({...E,password:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),b.jsx("button",{type:"submit",className:"btn",disabled:g,style:{width:"100%",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",color:"white",padding:"var(--space-md)",fontSize:"1rem",marginTop:"var(--space-sm)",opacity:g?.7:1},children:g?"Processing...":o?"Sign In":"Sign Up"})]}),b.jsxs("div",{style:{marginTop:"var(--space-lg)",fontSize:"0.875rem",color:"var(--color-text-muted)"},children:[o&&b.jsx("div",{style:{marginBottom:"1rem"},children:b.jsx("button",{onClick:()=>m(!0),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",textDecoration:"underline"},children:"Forgot Password?"})}),o?"Don't have an account? ":"Already have an account? ",b.jsx("button",{onClick:()=>{u(!o),O(""),Y("")},style:{background:"none",border:"none",color:"var(--color-accent)",cursor:"pointer",textDecoration:"underline"},children:o?"Sign Up":"Sign In"})]})]}),b.jsx("style",{children:`
        @keyframes float {
          0% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
          100% { transform: translate(0, 0); }
        }
      `})]})},uO=()=>{const{userProfile:r}=Io(),[e,n]=j.useState("horizontal"),[s,o]=j.useState("CSE"),[u,f]=j.useState("3rd"),[m,g]=j.useState([]),[p,E]=j.useState([]),[S,w]=j.useState([]),[O,G]=j.useState([]),[Y,H]=j.useState(!0),[ne,ie]=j.useState(!1),[re,ge]=j.useState({day:"Monday",time:"09:00 - 10:00",subject:"",room:"",faculty:"",group:"All"}),[Se,te]=j.useState(""),x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["09:00 - 10:00","10:00 - 11:00","11:00 - 12:00","12:00 - 01:00","01:00 - 02:00","02:00 - 03:00","03:00 - 04:00","04:00 - 05:00"];j.useEffect(()=>{(async()=>{try{const[se,le,ye]=await Promise.all([Xs(nr(Kt,"rooms")),Xs(nr(Kt,"faculty")),Xs(nr(Kt,"subjects"))]);E(se.docs.map(Le=>Le.data().name)),w(le.docs.map(Le=>Le.data().name)),G(ye.docs.map(Le=>Le.data().name))}catch(se){console.error("Error loading master data:",se)}})()},[]);const C=async()=>{H(!0);try{const L=vS(nr(Kt,"schedule")),se=await Xs(L),le=[];se.forEach(ye=>{le.push({id:ye.id,...ye.data()})}),g(le)}catch(L){console.error("Error loading schedule:",L)}finally{H(!1)}};j.useEffect(()=>{C()},[s,u]);const k=(L,se)=>m.find(le=>le.day===L&&le.time===se),N=async L=>{const se=m.find(ye=>ye.day===L.day&&ye.time===L.time&&ye.room===L.room);if(se)return`Conflict! Room "${L.room}" is already booked for "${se.subject}" at this time.`;const le=m.find(ye=>ye.day===L.day&&ye.time===L.time&&ye.faculty===L.faculty);return le?`Conflict! ${L.faculty} is already teaching "${le.subject}" in ${le.room} at this time.`:null},P=async L=>{L.preventDefault(),te("");const se=await N(re);if(se){te(se);return}try{await bS(nr(Kt,"schedule"),{...re,dept:s,sem:u}),ie(!1),ge({...re,subject:"",room:"",faculty:""}),C()}catch(le){console.error("Error saving schedule:",le),te("Failed to save schedule.")}},I=async L=>{if(window.confirm("Are you sure you want to remove this class?"))try{await Yp(lr(Kt,"schedule",L)),C()}catch(se){console.error("Error deleting:",se)}},Qe=(L,se)=>{ge({...re,day:L,time:se,subject:"",room:"",faculty:""}),te(""),ie(!0)},et=r&&r.role==="admin";return b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-md)",height:"100%"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-md)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"var(--space-md)"},children:[b.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[b.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},children:"Weekly Schedule"}),b.jsx("div",{style:{height:"24px",width:"1px",background:"var(--glass-border)"}}),b.jsxs("select",{className:"glass-input",value:s,onChange:L=>o(L.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[b.jsx("option",{value:"CSE",children:"CSE"}),b.jsx("option",{value:"ECE",children:"ECE"}),b.jsx("option",{value:"ME",children:"ME"})]}),b.jsxs("select",{className:"glass-input",value:u,onChange:L=>f(L.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[b.jsx("option",{value:"3rd",children:"3rd Sem"}),b.jsx("option",{value:"5th",children:"5th Sem"}),b.jsx("option",{value:"7th",children:"7th Sem"})]})]}),b.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[b.jsx("button",{className:"btn",onClick:()=>n("horizontal"),style:{background:e==="horizontal"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Horizontal"}),b.jsx("button",{className:"btn",onClick:()=>n("vertical"),style:{background:e==="vertical"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Vertical"})]})]}),b.jsx("div",{className:"glass-panel",style:{padding:0,overflow:"auto",flex:1},children:b.jsxs("div",{style:{display:"grid",gridTemplateColumns:`100px repeat(${R.length}, minmax(160px, 1fr))`,minWidth:"100%"},children:[b.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",position:"sticky",left:0,zIndex:10,backdropFilter:"blur(10px)"},children:"Day / Time"}),R.map(L=>b.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",textAlign:"center",fontWeight:600,fontSize:"0.875rem"},children:L},L)),x.map(L=>b.jsxs(Bb.Fragment,{children:[b.jsx("div",{style:{padding:"var(--space-md)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",fontWeight:600,background:"rgba(255,255,255,0.02)",position:"sticky",left:0,zIndex:5,backdropFilter:"blur(10px)"},children:L}),R.map(se=>{const le=k(L,se);return b.jsx("div",{style:{padding:"var(--space-xs)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",minHeight:"100px",position:"relative"},children:le?b.jsxs("div",{className:"animate-fade-in",style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"var(--radius-sm)",padding:"var(--space-xs)",height:"100%",fontSize:"0.75rem",cursor:"pointer",transition:"transform 0.2s",":hover":{transform:"scale(1.02)"}},children:[b.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"2px"},children:le.subject}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"var(--color-text-muted)"},children:[b.jsx("span",{children:le.room}),b.jsx("span",{children:le.group})]}),b.jsx("div",{style:{marginTop:"4px",fontStyle:"italic",color:"white"},children:le.faculty}),et&&b.jsx("button",{onClick:ye=>{ye.stopPropagation(),I(le.id)},style:{position:"absolute",top:"2px",right:"2px",background:"none",border:"none",color:"#fca5a5",cursor:"pointer",fontSize:"0.7rem"},children:""})]}):et&&b.jsx("div",{style:{height:"100%",width:"100%",opacity:0,transition:"opacity 0.2s",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:ye=>ye.currentTarget.style.opacity="1",onMouseLeave:ye=>ye.currentTarget.style.opacity="0",onClick:()=>Qe(L,se),children:b.jsx("span",{style:{fontSize:"1.5rem",color:"var(--color-text-muted)"},children:"+"})})},`${L}-${se}`)})]},L))]})}),ne&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:b.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[b.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Add Class"}),b.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"1rem"},children:[re.day," @ ",re.time]}),Se&&b.jsxs("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.875rem"},children:[" ",Se]}),b.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("select",{className:"glass-input",value:re.subject,onChange:L=>ge({...re,subject:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Subject"}),O.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsxs("select",{className:"glass-input",value:re.room,onChange:L=>ge({...re,room:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Room"}),p.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsxs("select",{className:"glass-input",value:re.faculty,onChange:L=>ge({...re,faculty:L.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"Select Faculty"}),S.map(L=>b.jsx("option",{value:L,children:L},L))]}),b.jsx("input",{className:"glass-input",placeholder:"Group (e.g. G1, All)",value:re.group,onChange:L=>ge({...re,group:L.target.value})}),b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[b.jsx("button",{type:"button",onClick:()=>ie(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},cO=()=>{const{userProfile:r}=Io(),[e,n]=j.useState([]),[s,o]=j.useState(!0),[u,f]=j.useState("all"),m=async()=>{o(!0);try{const w=await Xs(nr(Kt,"users")),O=[];w.forEach(G=>{O.push({id:G.id,...G.data()})}),n(O)}catch(w){console.error("Error fetching users: ",w)}finally{o(!1)}};j.useEffect(()=>{m()},[]);const g=async(w,O)=>{try{await Wm(lr(Kt,"users",w),{status:O}),m()}catch(G){console.error("Error updating status: ",G),alert("Failed to update status.")}},p=async(w,O)=>{if(window.confirm(`Are you sure you want to change this user's role to ${O}?`))try{await Wm(lr(Kt,"users",w),{role:O}),m()}catch(G){console.error("Error updating role: ",G),alert("Failed to update role.")}},E=async w=>{if(window.confirm("Are you sure you want to DELETE this user? This cannot be undone."))try{await Yp(lr(Kt,"users",w)),m()}catch(O){console.error("Error deleting user: ",O),alert("Failed to delete user.")}},S=e.filter(w=>u==="all"?!0:w.status===u);return!r||r.role!=="admin"?b.jsx("div",{style:{color:"white",padding:"2rem",textAlign:"center"},children:"Access Denied. Admins only."}):b.jsxs("div",{style:{paddingBottom:"2rem"},children:[b.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"var(--space-lg)"},children:"Admin Panel"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Total Users"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:e.length})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Pending Approval"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#fbbf24"},children:e.filter(w=>w.status==="pending").length})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[b.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Admins"}),b.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-accent)"},children:e.filter(w=>w.role==="admin").length})]})]}),b.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.5rem"},children:[b.jsx("button",{onClick:()=>f("all"),className:"btn",style:{background:u==="all"?"var(--color-accent)":"rgba(255,255,255,0.1)"},children:"All Users"}),b.jsx("button",{onClick:()=>f("pending"),className:"btn",style:{background:u==="pending"?"#fbbf24":"rgba(255,255,255,0.1)",color:u==="pending"?"black":"white"},children:"Pending"}),b.jsx("button",{onClick:()=>f("approved"),className:"btn",style:{background:u==="approved"?"#10b981":"rgba(255,255,255,0.1)"},children:"Approved"})]}),b.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:[b.jsx("th",{style:{padding:"1rem"},children:"Name"}),b.jsx("th",{style:{padding:"1rem"},children:"Emp ID"}),b.jsx("th",{style:{padding:"1rem"},children:"Email"}),b.jsx("th",{style:{padding:"1rem"},children:"Status"}),b.jsx("th",{style:{padding:"1rem"},children:"Role"}),b.jsx("th",{style:{padding:"1rem"},children:"Actions"})]})}),b.jsx("tbody",{children:s?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):S.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No users found."})}):S.map(w=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsx("td",{style:{padding:"1rem"},children:w.name}),b.jsx("td",{style:{padding:"1rem"},children:w.empId}),b.jsx("td",{style:{padding:"1rem"},children:w.email||"-"}),b.jsx("td",{style:{padding:"1rem"},children:b.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",background:w.status==="approved"?"rgba(16, 185, 129, 0.2)":"rgba(251, 191, 36, 0.2)",color:w.status==="approved"?"#6ee7b7":"#fcd34d"},children:w.status})}),b.jsx("td",{style:{padding:"1rem"},children:w.role}),b.jsxs("td",{style:{padding:"1rem",display:"flex",gap:"0.5rem"},children:[w.status==="pending"&&b.jsx("button",{onClick:()=>g(w.id,"approved"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#10b981"},children:"Approve"}),w.role!=="admin"&&b.jsx("button",{onClick:()=>p(w.id,"admin"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"var(--color-accent)"},children:"Make Admin"}),b.jsx("button",{onClick:()=>E(w.id),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#ef4444"},children:"Delete"})]})]},w.id))})]})})]})},hO=()=>{const{userProfile:r}=Io(),[e,n]=j.useState("faculty"),[s,o]=j.useState([]),[u,f]=j.useState(!0),[m,g]=j.useState(!1),[p,E]=j.useState({}),[S,w]=j.useState(null),O=r&&r.role==="admin",G={faculty:"faculty",rooms:"rooms",subjects:"subjects",timeslots:"timeslots"},Y=async()=>{f(!0);try{const te=await Xs(nr(Kt,G[e])),x=[];te.forEach(R=>{x.push({id:R.id,...R.data()})}),o(x)}catch(te){console.error("Error fetching data: ",te)}finally{f(!1)}};j.useEffect(()=>{Y()},[e]);const H=async te=>{te.preventDefault();try{S?await Wm(lr(Kt,G[e],S),p):await bS(nr(Kt,G[e]),p),g(!1),E({}),w(null),Y()}catch(x){console.error("Error saving document: ",x)}},ne=async te=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Yp(lr(Kt,G[e],te)),Y()}catch(x){console.error("Error deleting document: ",x)}},ie=(te=null)=>{te?(E(te),w(te.id)):(E({}),w(null)),g(!0)},re=()=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Name",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Emp ID",value:p.empId||"",onChange:te=>E({...p,empId:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Email",value:p.email||"",onChange:te=>E({...p,email:te.target.value})}),b.jsx("input",{className:"glass-input",placeholder:"Department",value:p.department||"",onChange:te=>E({...p,department:te.target.value})})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Room Name/Number",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Capacity",type:"number",value:p.capacity||"",onChange:te=>E({...p,capacity:te.target.value})}),b.jsxs("select",{className:"glass-input",value:p.type||"lab",onChange:te=>E({...p,type:te.target.value}),children:[b.jsx("option",{value:"lab",children:"Lab"}),b.jsx("option",{value:"lecture",children:"Lecture Hall"})]})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Subject Code",value:p.code||"",onChange:te=>E({...p,code:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Subject Name",value:p.name||"",onChange:te=>E({...p,name:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",placeholder:"Semester",type:"number",value:p.semester||"",onChange:te=>E({...p,semester:te.target.value})}),b.jsxs("select",{className:"glass-input",value:p.type||"lab",onChange:te=>E({...p,type:te.target.value}),children:[b.jsx("option",{value:"lab",children:"Lab"}),b.jsx("option",{value:"theory",children:"Theory"})]})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"glass-input",placeholder:"Label (e.g., Slot A)",value:p.label||"",onChange:te=>E({...p,label:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",type:"time",value:p.startTime||"",onChange:te=>E({...p,startTime:te.target.value}),required:!0}),b.jsx("input",{className:"glass-input",type:"time",value:p.endTime||"",onChange:te=>E({...p,endTime:te.target.value}),required:!0})]});default:return null}},ge=()=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Emp ID"}),b.jsx("th",{children:"Dept"}),O&&b.jsx("th",{children:"Actions"})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Capacity"}),b.jsx("th",{children:"Type"}),O&&b.jsx("th",{children:"Actions"})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Code"}),b.jsx("th",{children:"Name"}),b.jsx("th",{children:"Sem"}),b.jsx("th",{children:"Type"}),O&&b.jsx("th",{children:"Actions"})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("th",{children:"Label"}),b.jsx("th",{children:"Start"}),b.jsx("th",{children:"End"}),O&&b.jsx("th",{children:"Actions"})]});default:return null}},Se=te=>{switch(e){case"faculty":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.empId}),b.jsx("td",{style:{padding:"1rem"},children:te.department})]});case"rooms":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.capacity}),b.jsx("td",{style:{padding:"1rem"},children:te.type})]});case"subjects":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.code}),b.jsx("td",{style:{padding:"1rem"},children:te.name}),b.jsx("td",{style:{padding:"1rem"},children:te.semester}),b.jsx("td",{style:{padding:"1rem"},children:te.type})]});case"timeslots":return b.jsxs(b.Fragment,{children:[b.jsx("td",{style:{padding:"1rem"},children:te.label}),b.jsx("td",{style:{padding:"1rem"},children:te.startTime}),b.jsx("td",{style:{padding:"1rem"},children:te.endTime})]});default:return null}};return b.jsxs("div",{style:{paddingBottom:"2rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},children:[b.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:"Master Data Management"}),O&&b.jsxs("button",{className:"btn",style:{background:"var(--color-accent)",color:"white"},onClick:()=>ie(),children:["+ Add New ",e.slice(0,-1)]})]}),b.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)"},children:Object.keys(G).map(te=>b.jsx("button",{onClick:()=>n(te),style:{padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:e===te?"2px solid var(--color-accent)":"2px solid transparent",color:e===te?"white":"var(--color-text-muted)",cursor:"pointer",fontSize:"1rem",textTransform:"capitalize",transition:"all 0.2s"},children:te},te))}),b.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[b.jsx("thead",{children:b.jsx("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:ge()})}),b.jsx("tbody",{children:u?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No records found."})}):s.map(te=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[Se(te),O&&b.jsxs("td",{style:{padding:"1rem"},children:[b.jsx("button",{onClick:()=>ie(te),style:{background:"none",border:"none",cursor:"pointer",marginRight:"0.5rem"},children:""}),b.jsx("button",{onClick:()=>ne(te.id),style:{background:"none",border:"none",cursor:"pointer"},children:""})]})]},te.id))})]})}),m&&b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:b.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[b.jsxs("h3",{style:{marginBottom:"1.5rem"},children:[S?"Edit":"Add"," ",e.slice(0,-1)]}),b.jsxs("form",{onSubmit:H,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[re(),b.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[b.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},Za=({children:r,requiredRole:e})=>{const{currentUser:n,userProfile:s,loading:o}=Io();return o?b.jsx("div",{style:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):n?s&&s.status==="pending"?b.jsxs("div",{className:"glass-panel",style:{margin:"2rem",padding:"2rem",textAlign:"center",color:"white"},children:[b.jsx("h1",{children:"Account Pending"}),b.jsx("p",{children:"Your account is waiting for admin approval. Please check back later."}),b.jsx("button",{className:"btn",onClick:()=>window.location.reload(),style:{marginTop:"1rem",background:"var(--color-accent)"},children:"Check Status"})]}):e&&s&&s.role!==e?b.jsx(Rm,{to:"/",replace:!0}):r:b.jsx(Rm,{to:"/login",replace:!0})};function fO(){return b.jsx(MN,{children:b.jsx(lw,{children:b.jsxs(jA,{children:[b.jsx(tr,{path:"/login",element:b.jsx(lO,{})}),b.jsx(tr,{path:"/",element:b.jsx(Za,{children:b.jsx(Ja,{children:b.jsx(oO,{})})})}),b.jsx(tr,{path:"/schedule",element:b.jsx(Za,{children:b.jsx(Ja,{children:b.jsx(uO,{})})})}),b.jsx(tr,{path:"/assignments",element:b.jsx(Za,{children:b.jsx(Ja,{children:b.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:b.jsx("h2",{children:"Assignments Component Placeholder"})})})})}),b.jsx(tr,{path:"/master-data",element:b.jsx(Za,{children:b.jsx(Ja,{children:b.jsx(hO,{})})})}),b.jsx(tr,{path:"/analytics",element:b.jsx(Za,{children:b.jsx(Ja,{children:b.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:b.jsx("h2",{children:"Analytics Component Placeholder"})})})})}),b.jsx(tr,{path:"/admin",element:b.jsx(Za,{requiredRole:"admin",children:b.jsx(Ja,{children:b.jsx(cO,{})})})}),b.jsx(tr,{path:"*",element:b.jsx(Rm,{to:"/",replace:!0})})]})})})}Yb.createRoot(document.getElementById("root")).render(b.jsx(j.StrictMode,{children:b.jsx(fO,{})}));
