(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},kl={};var Mv;function Yb(){if(Mv)return kl;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var Vv;function Qb(){return Vv||(Vv=1,fm.exports=Yb()),fm.exports}var T=Qb(),dm={exports:{}},we={};var kv;function Kb(){if(kv)return we;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function J(O,ne,le){this.props=O,this.context=ne,this.refs=H,this.updater=le||z}J.prototype.isReactComponent={},J.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},J.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function se(){}se.prototype=J.prototype;function ae(O,ne,le){this.props=O,this.context=ne,this.refs=H,this.updater=le||z}var re=ae.prototype=new se;re.constructor=ae,Y(re,J.prototype),re.isPureReactComponent=!0;var pe=Array.isArray;function Z(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(O,ne,le){var fe=le.ref;return{$$typeof:r,type:O,key:ne,ref:fe!==void 0?fe:null,props:le}}function k(O,ne){return C(O.type,ne,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var I=/\/+/g;function Ye(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ne.toString(36)}function tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Z,Z):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,ne,le,fe,be){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case r:case e:je=!0;break;case E:return je=O._init,K(je(O._payload),ne,le,fe,be)}}if(je)return be=be(O),je=fe===""?"."+Ye(O,0):fe,pe(be)?(le="",je!=null&&(le=je.replace(I,"$&/")+"/"),K(be,ne,le,"",function(vs){return vs})):be!=null&&(M(be)&&(be=k(be,le+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+je)),ne.push(be)),1;je=0;var Ot=fe===""?".":fe+":";if(pe(O))for(var at=0;at<O.length;at++)fe=O[at],xe=Ot+Ye(fe,at),je+=K(fe,ne,le,xe,be);else if(at=N(O),typeof at=="function")for(O=at.call(O),at=0;!(fe=O.next()).done;)fe=fe.value,xe=Ot+Ye(fe,at++),je+=K(fe,ne,le,xe,be);else if(xe==="object"){if(typeof O.then=="function")return K(tt(O),ne,le,fe,be);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return je}function X(O,ne,le){if(O==null)return O;var fe=[],be=0;return K(O,fe,"","",function(xe){return ne.call(le,xe,be++)}),fe}function ue(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var _e=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Se={map:X,forEach:function(O,ne,le){X(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return X(O,function(){ne++}),ne},toArray:function(O){return X(O,function(ne){return ne})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=S,we.Children=Se,we.Component=J,we.Fragment=n,we.Profiler=o,we.PureComponent=ae,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=Y({},O.props),be=O.key;if(ne!=null)for(xe in ne.key!==void 0&&(be=""+ne.key),ne)!R.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(fe[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)fe.children=le;else if(1<xe){for(var je=Array(xe),Ot=0;Ot<xe;Ot++)je[Ot]=arguments[Ot+2];fe.children=je}return C(O.type,be,fe)},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},we.createElement=function(O,ne,le){var fe,be={},xe=null;if(ne!=null)for(fe in ne.key!==void 0&&(xe=""+ne.key),ne)R.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=ne[fe]);var je=arguments.length-2;if(je===1)be.children=le;else if(1<je){for(var Ot=Array(je),at=0;at<je;at++)Ot[at]=arguments[at+2];be.children=Ot}if(O&&O.defaultProps)for(fe in je=O.defaultProps,je)be[fe]===void 0&&(be[fe]=je[fe]);return C(O,xe,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=M,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ue}},we.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},we.startTransition=function(O){var ne=x.T,le={};x.T=le;try{var fe=O(),be=x.S;be!==null&&be(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Z,_e)}catch(xe){_e(xe)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),x.T=ne}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(O){return x.H.use(O)},we.useActionState=function(O,ne,le){return x.H.useActionState(O,ne,le)},we.useCallback=function(O,ne){return x.H.useCallback(O,ne)},we.useContext=function(O){return x.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,ne){return x.H.useDeferredValue(O,ne)},we.useEffect=function(O,ne){return x.H.useEffect(O,ne)},we.useEffectEvent=function(O){return x.H.useEffectEvent(O)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(O,ne,le){return x.H.useImperativeHandle(O,ne,le)},we.useInsertionEffect=function(O,ne){return x.H.useInsertionEffect(O,ne)},we.useLayoutEffect=function(O,ne){return x.H.useLayoutEffect(O,ne)},we.useMemo=function(O,ne){return x.H.useMemo(O,ne)},we.useOptimistic=function(O,ne){return x.H.useOptimistic(O,ne)},we.useReducer=function(O,ne,le){return x.H.useReducer(O,ne,le)},we.useRef=function(O){return x.H.useRef(O)},we.useState=function(O){return x.H.useState(O)},we.useSyncExternalStore=function(O,ne,le){return x.H.useSyncExternalStore(O,ne,le)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.0",we}var Pv;function up(){return Pv||(Pv=1,dm.exports=Kb()),dm.exports}var U=up();const Xb=Gb(U);var mm={exports:{}},Pl={},pm={exports:{}},gm={};var Lv;function $b(){return Lv||(Lv=1,(function(r){function e(K,X){var ue=K.length;K.push(X);e:for(;0<ue;){var _e=ue-1>>>1,Se=K[_e];if(0<o(Se,X))K[_e]=X,K[ue]=Se,ue=_e;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var X=K[0],ue=K.pop();if(ue!==X){K[0]=ue;e:for(var _e=0,Se=K.length,O=Se>>>1;_e<O;){var ne=2*(_e+1)-1,le=K[ne],fe=ne+1,be=K[fe];if(0>o(le,ue))fe<Se&&0>o(be,le)?(K[_e]=be,K[fe]=ue,_e=fe):(K[_e]=le,K[ne]=ue,_e=ne);else if(fe<Se&&0>o(be,ue))K[_e]=be,K[fe]=ue,_e=fe;else break e}}return X}function o(K,X){var ue=K.sortIndex-X.sortIndex;return ue!==0?ue:K.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,w=3,N=!1,z=!1,Y=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function re(K){for(var X=n(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=K)s(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(g)}}function pe(K){if(Y=!1,re(K),!z)if(n(p)!==null)z=!0,Z||(Z=!0,P());else{var X=n(g);X!==null&&tt(pe,X.startTime-K)}}var Z=!1,x=-1,R=5,C=-1;function k(){return H?!0:!(r.unstable_now()-C<R)}function M(){if(H=!1,Z){var K=r.unstable_now();C=K;var X=!0;try{e:{z=!1,Y&&(Y=!1,se(x),x=-1),N=!0;var ue=w;try{t:{for(re(K),S=n(p);S!==null&&!(S.expirationTime>K&&k());){var _e=S.callback;if(typeof _e=="function"){S.callback=null,w=S.priorityLevel;var Se=_e(S.expirationTime<=K);if(K=r.unstable_now(),typeof Se=="function"){S.callback=Se,re(K),X=!0;break t}S===n(p)&&s(p),re(K)}else s(p);S=n(p)}if(S!==null)X=!0;else{var O=n(g);O!==null&&tt(pe,O.startTime-K),X=!1}}break e}finally{S=null,w=ue,N=!1}X=void 0}}finally{X?P():Z=!1}}}var P;if(typeof ae=="function")P=function(){ae(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ye=I.port2;I.port1.onmessage=M,P=function(){Ye.postMessage(null)}}else P=function(){J(M,0)};function tt(K,X){x=J(function(){K(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ue=w;w=X;try{return K()}finally{w=ue}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=w;w=K;try{return X()}finally{w=ue}},r.unstable_scheduleCallback=function(K,X,ue){var _e=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_e+ue:_e):ue=_e,K){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ue+Se,K={id:E++,callback:X,priorityLevel:K,startTime:ue,expirationTime:Se,sortIndex:-1},ue>_e?(K.sortIndex=ue,e(g,K),n(p)===null&&K===n(g)&&(Y?(se(x),x=-1):Y=!0,tt(pe,ue-_e))):(K.sortIndex=Se,e(p,K),z||N||(z=!0,Z||(Z=!0,P()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var X=w;return function(){var ue=w;w=X;try{return K.apply(this,arguments)}finally{w=ue}}}})(gm)),gm}var Uv;function Wb(){return Uv||(Uv=1,pm.exports=$b()),pm.exports}var ym={exports:{}},$t={};var jv;function Jb(){if(jv)return $t;jv=1;var r=up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var zv;function Zb(){if(zv)return ym.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=Jb(),ym.exports}var Bv;function eA(){if(Bv)return Pl;Bv=1;var r=Wb(),e=up(),n=Zb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case J:return"Profiler";case H:return"StrictMode";case pe:return"Suspense";case Z:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ae:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var tt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},_e=[],Se=-1;function O(t){return{current:t}}function ne(t){0>Se||(t.current=_e[Se],_e[Se]=null,Se--)}function le(t,i){Se++,_e[Se]=t.current,t.current=i}var fe=O(null),be=O(null),xe=O(null),je=O(null);function Ot(t,i){switch(le(xe,i),le(be,t),le(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=nv(i),t=iv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(fe),le(fe,t)}function at(){ne(fe),ne(be),ne(xe)}function vs(t){t.memoizedState!==null&&le(je,t);var i=fe.current,a=iv(i,t.type);i!==a&&(le(be,t),le(fe,a))}function ha(t){be.current===t&&(ne(fe),ne(be)),je.current===t&&(ne(je),Nl._currentValue=ue)}var fa,da;function oi(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var No=!1;function Es(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),q=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return oi("Activity");default:return""}}function Mo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Eu=r.unstable_requestPaint,tn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Vo=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Su=r.log,bu=r.unstable_setDisableYieldValue,Fn=null,Bt=null;function Cn(t){if(typeof Su=="function"&&bu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:wu,Au=Math.log,ma=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(Au(t)/ma|0)|0}var li=256,Ss=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ui(l):(_&=b,_!==0?h=ui(_):a||(a=b&~t,a!==0&&(h=ui(a))))):(b=l&~d,b!==0?h=ui(b):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),ee=1<<$;b[$]=0,D[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&As(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function Yn(t,i){var a=X.p;try{return X.p=t,i()}finally{X.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,fi="__reactContainer$"+Qn,pa="__reactEvents$"+Qn,_f="__reactListeners$"+Qn,Iu="__reactHandles$"+Qn,xu="__reactResources$"+Qn,di="__reactMarker$"+Qn;function ga(t){delete t[St],delete t[Lt],delete t[pa],delete t[_f],delete t[Iu]}function mi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[St])return a;t=cv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[St]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[di]=!0}var Uo=new Set,jo={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(jo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Du(t){return Et.call(qo,t)?!0:Et.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function ya(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function sn(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,Ut(i)):a!=null?Fo(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ut(b):t.removeAttribute("name")}function Nu(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Fo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Qo=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,vi=null;function Is(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rs(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var Ta=!1;function Rr(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(wr!==null||vi!==null)&&(Cc(),wr&&(i=wr,t=vi,vi=wr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Dn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){xs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{xs=!1}var Ei=null,Ko=null,Ds=null;function Xo(){if(Ds)return Ds;var t,i=Ko,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function $n(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=qt(zi),Cr=S({},zi,{view:0,detail:0}),$o=qt(Cr),Ir,Sa,Si,ba=S({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Ir=t.screenX-Si.screenX,Sa=t.screenY-Si.screenY):Sa=Ir=0,Si=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Wo=qt(ba),Os=S({},ba,{dataTransfer:0}),ku=qt(Os),Pu=S({},Cr,{relatedTarget:0}),Ms=qt(Pu),Jo=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=qt(Jo),Aa=S({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=qt(Aa),ju=S({},zi,{data:0}),bi=qt(ju),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function xr(){return Hu}var nn=S({},Cr,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=qt(nn),Gu=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=qt(Gu),c=S({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=qt(c),v=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(v),j=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(j),oe=S({},zi,{newState:0,oldState:0}),Ce=qt(oe),gt=[9,13,27,32],He=Dn&&"CompositionEvent"in window,ot=null;Dn&&"documentMode"in document&&(ot=document.documentMode);var Nn=Dn&&"TextEvent"in window&&!ot,Ai=Dn&&(!He||ot&&8<ot&&11>=ot),Wn=" ",Jn=!1;function Vs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function pS(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function gS(t,i){if(Ra)return t==="compositionend"||!He&&Vs(t,i)?(t=Xo(),Ds=Ko=Ei=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var yS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!yS[t.type]:i==="textarea"}function mg(t,i,a,l){wr?vi?vi.push(l):vi=[l]:wr=l,i=Vc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,el=null;function _S(t){$_(t,0)}function Yu(t){var i=gn(t);if(Rs(i))return t}function pg(t,i){if(t==="change")return i}var gg=!1;if(Dn){var vf;if(Dn){var Ef="oninput"in document;if(!Ef){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Ef=typeof yg.oninput=="function"}vf=Ef}else vf=!1;gg=vf&&(!document.documentMode||9<document.documentMode)}function _g(){Zo&&(Zo.detachEvent("onpropertychange",vg),el=Zo=null)}function vg(t){if(t.propertyName==="value"&&Yu(el)){var i=[];mg(i,el,t,xn(t)),Rr(_S,i)}}function vS(t,i,a){t==="focusin"?(_g(),Zo=i,el=a,Zo.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function ES(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(el)}function TS(t,i){if(t==="click")return Yu(i)}function SS(t,i){if(t==="input"||t==="change")return Yu(i)}function bS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:bS;function tl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var AS=Dn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Sf=null,nl=null,bf=!1;function Ag(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Ca==null||Ca!==_i(l)||(l=Ca,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Vc(Sf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Af={},wg={};Dn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ps(t){if(Af[t])return Af[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wg)return Af[t]=i[a];return t}var Rg=Ps("animationend"),Cg=Ps("animationiteration"),Ig=Ps("animationstart"),wS=Ps("transitionrun"),RS=Ps("transitionstart"),CS=Ps("transitioncancel"),xg=Ps("transitionend"),Dg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Zn(t,i){Dg.set(t,i),gi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],xa=0,Rf=0;function Ku(){for(var t=xa,i=Rf=xa=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ng(a,h,d)}}function Xu(t,i,a,l){On[xa++]=t,On[xa++]=i,On[xa++]=a,On[xa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return Xu(t,i,a,l),$u(t)}function Ls(t,i){return Xu(t,null,null,i),$u(t)}function Ng(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function $u(t){if(50<Al)throw Al=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function IS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new IS(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=Mb(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case Y:return Us(a.children,h,d,i);case H:_=8,h|=24;break;case J:return t=vn(12,a,i,h|2),t.elementType=J,t.lanes=d,t;case pe:return t=vn(13,a,i,h),t.elementType=pe,t.lanes=d,t;case Z:return t=vn(19,a,i,h),t.elementType=Z,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case se:_=9;break e;case re:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function xf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Mg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mo(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Na=[],Oa=0,Ju=null,il=0,Vn=[],kn=0,Dr=null,wi=1,Ri="";function Hi(t,i){Na[Oa++]=il,Na[Oa++]=Ju,Ju=t,il=i}function kg(t,i,a){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Dr,Dr=t;var l=wi;t=Ri;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-pt(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function Nf(t){t.return!==null&&(Hi(t,1),kg(t,1,0))}function Of(t){for(;t===Ju;)Ju=Na[--Oa],Na[Oa]=null,il=Na[--Oa],Na[Oa]=null;for(;t===Dr;)Dr=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null}function Pg(t,i){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=Dr,wi=i.id,Ri=i.overflow,Dr=t}var Ht=null,it=null,Ue=!1,Nr=null,Pn=!1,Mf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Mn(i,t)),Mf}function Lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Lt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Oe(Rl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Or(t,!0)}function Ug(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ht=Ht.return}}function Ma(t){if(t!==Ht)return!1;if(!Ue)return Ug(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&it&&Or(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=uv(t)}else i===27?(i=it,Yr(t.type)?(t=nm,nm=null,it=t):it=i):it=Ht?Un(t.stateNode.nextSibling):null;return!0}function js(){it=Ht=null,Ue=!1}function Vf(){var t=Nr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Nr=null),t}function rl(t){Nr===null?Nr=[t]:Nr.push(t)}var kf=O(null),zs=null,Fi=null;function Mr(t,i,a){le(kf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=kf.current,ne(kf)}function Pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Lf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Pf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Lf(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return jg(zs,t)}function ec(t,i){return zs===null&&Bs(t),jg(t,i)}function jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var xS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},DS=r.unstable_scheduleCallback,NS=r.unstable_NormalPriority,wt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new xS,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&DS(NS,function(){t.controller.abort()})}var al=null,jf=0,ka=0,Pa=null;function OS(t,i){if(al===null){var a=al=[];jf=0,ka=qd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,i.then(zg,zg),i}function zg(){if(--jf===0&&al!==null){Pa!==null&&(Pa.status="fulfilled");var t=al;al=null,ka=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function MS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=K.S;K.S=function(t,i){A_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OS(t,i),Bg!==null&&Bg(t,i)};var qs=O(null);function zf(){var t=qs.current;return t!==null?t:et.pooledCache}function tc(t,i){i===null?le(qs,qs.current):le(qs,i.pool)}function qg(){var t=zf();return t===null?null:{parent:wt._currentValue,pool:t}}var La=Error(s(460)),Bf=Error(s(474)),nc=Error(s(542)),ic={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw Fs=i,La}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,La):a}}var Fs=null;function Gg(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function Yg(t){if(t===La||t===nc)throw Error(s(483))}var Ua=null,ol=0;function rc(t){var i=ol;return ol+=1,Ua===null&&(Ua=[]),Fg(Ua,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(L,V){if(t){var B=L.deletions;B===null?(L.deletions=[V],L.flags|=16):B.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=qi(L,V),L.index=0,L.sibling=null,L}function d(L,V,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<V?(L.flags|=67108866,V):B):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,V,B,W){return V===null||V.tag!==6?(V=xf(B,L.mode,W),V.return=L,V):(V=h(V,B),V.return=L,V)}function D(L,V,B,W){var ge=B.type;return ge===Y?$(L,V,B.props.children,W,B.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===V.type)?(V=h(V,B.props),ll(V,B),V.return=L,V):(V=Wu(B.type,B.key,B.props,null,L.mode,W),ll(V,B),V.return=L,V)}function q(L,V,B,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Df(B,L.mode,W),V.return=L,V):(V=h(V,B.children||[]),V.return=L,V)}function $(L,V,B,W,ge){return V===null||V.tag!==7?(V=Us(B,L.mode,W,ge),V.return=L,V):(V=h(V,B),V.return=L,V)}function ee(L,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=xf(""+V,L.mode,B),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return B=Wu(V.type,V.key,V.props,null,L.mode,B),ll(B,V),B.return=L,B;case z:return V=Df(V,L.mode,B),V.return=L,V;case R:return V=Hs(V),ee(L,V,B)}if(tt(V)||P(V))return V=Us(V,L.mode,B,null),V.return=L,V;if(typeof V.then=="function")return ee(L,rc(V),B);if(V.$$typeof===ae)return ee(L,ec(L,V),B);sc(L,V)}return null}function F(L,V,B,W){var ge=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:b(L,V,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return B.key===ge?D(L,V,B,W):null;case z:return B.key===ge?q(L,V,B,W):null;case R:return B=Hs(B),F(L,V,B,W)}if(tt(B)||P(B))return ge!==null?null:$(L,V,B,W,null);if(typeof B.then=="function")return F(L,V,rc(B),W);if(B.$$typeof===ae)return F(L,V,ec(L,B),W);sc(L,B)}return null}function Q(L,V,B,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,b(V,L,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return L=L.get(W.key===null?B:W.key)||null,D(V,L,W,ge);case z:return L=L.get(W.key===null?B:W.key)||null,q(V,L,W,ge);case R:return W=Hs(W),Q(L,V,B,W,ge)}if(tt(W)||P(W))return L=L.get(B)||null,$(V,L,W,ge,null);if(typeof W.then=="function")return Q(L,V,B,rc(W),ge);if(W.$$typeof===ae)return Q(L,V,B,ec(V,W),ge);sc(V,W)}return null}function de(L,V,B,W){for(var ge=null,Be=null,me=V,De=V=0,Ve=null;me!==null&&De<B.length;De++){me.index>De?(Ve=me,me=null):Ve=me.sibling;var qe=F(L,me,B[De],W);if(qe===null){me===null&&(me=Ve);break}t&&me&&qe.alternate===null&&i(L,me),V=d(qe,V,De),Be===null?ge=qe:Be.sibling=qe,Be=qe,me=Ve}if(De===B.length)return a(L,me),Ue&&Hi(L,De),ge;if(me===null){for(;De<B.length;De++)me=ee(L,B[De],W),me!==null&&(V=d(me,V,De),Be===null?ge=me:Be.sibling=me,Be=me);return Ue&&Hi(L,De),ge}for(me=l(me);De<B.length;De++)Ve=Q(me,L,De,B[De],W),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?De:Ve.key),V=d(Ve,V,De),Be===null?ge=Ve:Be.sibling=Ve,Be=Ve);return t&&me.forEach(function(Wr){return i(L,Wr)}),Ue&&Hi(L,De),ge}function ve(L,V,B,W){if(B==null)throw Error(s(151));for(var ge=null,Be=null,me=V,De=V=0,Ve=null,qe=B.next();me!==null&&!qe.done;De++,qe=B.next()){me.index>De?(Ve=me,me=null):Ve=me.sibling;var Wr=F(L,me,qe.value,W);if(Wr===null){me===null&&(me=Ve);break}t&&me&&Wr.alternate===null&&i(L,me),V=d(Wr,V,De),Be===null?ge=Wr:Be.sibling=Wr,Be=Wr,me=Ve}if(qe.done)return a(L,me),Ue&&Hi(L,De),ge;if(me===null){for(;!qe.done;De++,qe=B.next())qe=ee(L,qe.value,W),qe!==null&&(V=d(qe,V,De),Be===null?ge=qe:Be.sibling=qe,Be=qe);return Ue&&Hi(L,De),ge}for(me=l(me);!qe.done;De++,qe=B.next())qe=Q(me,L,De,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?De:qe.key),V=d(qe,V,De),Be===null?ge=qe:Be.sibling=qe,Be=qe);return t&&me.forEach(function(Fb){return i(L,Fb)}),Ue&&Hi(L,De),ge}function Ze(L,V,B,W){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case N:e:{for(var ge=B.key;V!==null;){if(V.key===ge){if(ge=B.type,ge===Y){if(V.tag===7){a(L,V.sibling),W=h(V,B.props.children),W.return=L,L=W;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===V.type){a(L,V.sibling),W=h(V,B.props),ll(W,B),W.return=L,L=W;break e}a(L,V);break}else i(L,V);V=V.sibling}B.type===Y?(W=Us(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=Wu(B.type,B.key,B.props,null,L.mode,W),ll(W,B),W.return=L,L=W)}return _(L);case z:e:{for(ge=B.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(L,V.sibling),W=h(V,B.children||[]),W.return=L,L=W;break e}else{a(L,V);break}else i(L,V);V=V.sibling}W=Df(B,L.mode,W),W.return=L,L=W}return _(L);case R:return B=Hs(B),Ze(L,V,B,W)}if(tt(B))return de(L,V,B,W);if(P(B)){if(ge=P(B),typeof ge!="function")throw Error(s(150));return B=ge.call(B),ve(L,V,B,W)}if(typeof B.then=="function")return Ze(L,V,rc(B),W);if(B.$$typeof===ae)return Ze(L,V,ec(L,B),W);sc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(L,V.sibling),W=h(V,B),W.return=L,L=W):(a(L,V),W=xf(B,L.mode,W),W.return=L,L=W),_(L)):a(L,V)}return function(L,V,B,W){try{ol=0;var ge=Ze(L,V,B,W);return Ua=null,ge}catch(me){if(me===La||me===nc)throw me;var Be=vn(29,me,null,L.mode);return Be.lanes=W,Be.return=L,Be}finally{}}}var Gs=Qg(!0),Kg=Qg(!1),Vr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=$u(t),Ng(t,null,a),i}return Xu(t,l,i,a),$u(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function Ff(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function cl(){if(Gf){var t=Pa;if(t!==null)throw t}}function hl(t,i,a,l){Gf=!1;var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=q:b.next=q,$.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,$=q=D=null,b=d;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(Me&F)===F:(l&F)===F){F!==0&&F===ka&&(Gf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,ve=b;F=i;var Ze=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(Ze,ee,F);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,F=typeof de=="function"?de.call(Ze,ee,F):de,F==null)break e;ee=S({},ee,F);break e;case 2:Vr=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(q=$=Q,D=ee):$=$.next=Q,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Br|=_,t.lanes=_,t.memoizedState=ee}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var ja=O(null),ac=O(0);function Wg(t,i){t=er,le(ac,t),le(ja,i),er=t|i.baseLanes}function Yf(){le(ac,er),le(ja,ja.current)}function Qf(){er=ac.current,ne(ja),ne(ac)}var En=O(null),Ln=null;function Lr(t){var i=t.alternate;le(yt,yt.current&1),le(En,t),Ln===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Ln=t)}function Kf(t){le(yt,yt.current),le(En,t),Ln===null&&(Ln=t)}function Jg(t){t.tag===22?(le(yt,yt.current),le(En,t),Ln===null&&(Ln=t)):Ur()}function Ur(){le(yt,yt.current),le(En,En.current)}function Tn(t){ne(En),Ln===t&&(Ln=null),ne(yt)}var yt=O(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ie=null,We=null,Rt=null,lc=!1,za=!1,Ys=!1,uc=0,fl=0,Ba=null,VS=0;function ft(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Yi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?ky:hd,Ys=!1,d=a(l,h),Ys=!1,za&&(d=ey(i,a,l,h)),Zg(t),d}function Zg(t){K.H=pl;var i=We!==null&&We.next!==null;if(Yi=0,Rt=We=Ie=null,lc=!1,fl=0,Ba=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Zu(t)&&(Ct=!0))}function ey(t,i,a,l){Ie=t;var h=0;do{if(za&&(Ba=null),fl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Py,d=i(a,l)}while(za);return d}function kS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Wf(){var t=uc!==0;return uc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Yi=0,Rt=We=Ie=null,za=!1,fl=uc=0,Ba=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),t=Fg(Ba,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?ky:hd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ae)return Ft(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=_t();return td(i,We,t)}function td(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,D=null,q=i,$=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Me&ee)===ee:(Yi&ee)===ee){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===ka&&($=!0);else if((Yi&F)===F){q=q.next,F===ka&&($=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=ee,_=d):D=D.next=ee,Ie.lanes|=F,Br|=F;ee=q.action,Ys&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else F={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=F,_=d):D=D.next=F,Ie.lanes|=ee,Br|=ee;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=b,!_n(d,t.memoizedState)&&(Ct=!0,$&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,i,a){var l=Ie,h=_t(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,sd(ry.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},iy.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Yi&127)!==0||ny(l,i,a)}return a}function ny(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=cc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,l){i.value=a,i.getSnapshot=l,sy(i)&&ay(t)}function ry(t,i,a){return a(function(){sy(i)&&ay(t)})}function sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function ay(t){var i=Ls(t,2);i!==null&&hn(i,t,2)}function id(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ys){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function oy(t,i,a,l){return t.baseState=a,td(t,We,typeof l=="function"?l:Qi)}function PS(t,i,a,l,h){if(pc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var b=a(h,l),D=K.S;D!==null&&D(_,b),uy(t,i,b)}catch(q){rd(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),uy(t,i,d)}catch(q){rd(t,i,q)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,i,l)},function(l){return rd(t,i,l)}):cy(t,i,a)}function cy(t,i,a){i.status="fulfilled",i.value=a,hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ly(t,a)))}function rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function dy(t,i){if(Ue){var a=et.formState;if(a!==null){e:{var l=Ie;if(Ue){if(it){t:{for(var h=it,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Un(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,Ie,l),l.dispatch=a,l=id(!1),d=cd.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=PS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function my(t){var i=_t();return py(i,We,t)}function py(t,i,a){if(i=td(t,i,fy)[0],t=fc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===La?nc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,qa(9,{destroy:void 0},LS.bind(null,h,a),null)),[l,d,t]}function LS(t,i){t.action=i}function gy(t){var i=_t(),a=We;if(a!==null)return py(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=cc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function yy(){return _t().memoizedState}function dc(t,i,a,l){var h=rn();Ie.flags|=t,h.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function mc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Xf(l,We.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(Ie.flags|=t,h.memoizedState=qa(1|i,d,a,l))}function _y(t,i){dc(8390656,8,t,i)}function sd(t,i){mc(2048,8,t,i)}function US(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=cc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function vy(t){var i=_t().memoizedState;return US({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ey(t,i){return mc(4,2,t,i)}function Ty(t,i){return mc(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,Sy.bind(null,i,t),a)}function ad(){}function Ay(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function wy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function od(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R_(),Ie.lanes|=t,Br|=t,a)}function Ry(t,i,a,l){return _n(a,i)?a:ja.current!==null?(t=od(t,a,l),_n(t,i)||(Ct=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=a):(t=R_(),Ie.lanes|=t,Br|=t,i)}function Cy(t,i,a,l,h){var d=X.p;X.p=d!==0&&8>d?d:8;var _=K.T,b={};K.T=b,cd(t,!1,i,a);try{var D=h(),q=K.S;if(q!==null&&q(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=MS(D,l);ml(t,i,$,An(t))}else ml(t,i,l,An(t))}catch(ee){ml(t,i,{then:function(){},status:"rejected",reason:ee},An())}finally{X.p=d,_!==null&&b.types!==null&&(_.types=b.types),K.T=_}}function jS(){}function ld(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,ue,a===null?jS:function(){return xy(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},An())}function ud(){return Ft(Nl)}function Dy(){return _t().memoizedState}function Ny(){return _t().memoizedState}function zS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=kr(a);var l=Pr(i,t,a);l!==null&&(hn(l,i,a),ul(l,i,a)),i={cache:Uf()},t.payload=i;return}i=i.return}}function BS(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?My(i,a):(a=Cf(t,i,a,l),a!==null&&(hn(a,t,l),Vy(a,i,l)))}function Oy(t,i,a){var l=An();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))My(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,_n(b,_))return Xu(t,i,h,0),et===null&&Ku(),!1}catch{}finally{}if(a=Cf(t,i,h,l),a!==null)return hn(a,t,l),Vy(a,i,l),!0}return!1}function cd(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&hn(i,t,2)}function pc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function My(t,i){za=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var pl={readContext:Ft,use:hc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};pl.useEffectEvent=ft;var ky={readContext:Ft,use:hc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ys){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=BS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=Oy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=rn();return od(a,t,i)},useTransition:function(){var t=id(!1);return t=Cy.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=rn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Me&127)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(ry.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},iy.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Ue){var a=Ri,l=wi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=VS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ud,useFormState:dy,useActionState:dy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return rn().memoizedState=zS.bind(null,Ie)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ft,use:hc,useCallback:Ay,useContext:Ft,useEffect:sd,useImperativeHandle:by,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:fc,useRef:yy,useState:function(){return fc(Qi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=fc(Qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:ud,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=_t();return oy(a,We,t,i)},useMemoCache:ed,useCacheRefresh:Ny};hd.useEffectEvent=vy;var Py={readContext:Ft,use:hc,useCallback:Ay,useContext:Ft,useEffect:sd,useImperativeHandle:by,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:nd,useRef:yy,useState:function(){return nd(Qi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return We===null?od(a,t,i):Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=nd(Qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:ud,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=_t();return We!==null?oy(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Ny};Py.useEffectEvent=vy;function fd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=kr(l);h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=kr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Pr(t,l,a),i!==null&&(hn(i,t,a),ul(i,t,a))}};function Ly(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function jy(t){Qu(t)}function zy(t){console.error(t)}function By(t){Qu(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function Hy(t){return t=kr(t),t.tag=3,t}function Fy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function qS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Ic():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),jd(t,l,h)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),jd(t,l,h)),!1}throw Error(s(435,a.tag))}return jd(t,l,h),Ic(),!1}if(Ue)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),rl(Mn(t,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),rl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=md(t.stateNode,l,h),Ff(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),bl===null?bl=[d]:bl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?Kg(i,null,a,l):Gs(i,t.child,a,l)}function Gy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Bs(i),l=$f(t,i,a,_,d,h),b=Wf(),t!==null&&!Ct?(Jf(t,i,h),Ki(t,i,h)):(Ue&&b&&Nf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Yy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,h)):(t=Wu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!bd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,bd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return gd(t,i,a,l,h)}function Ky(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Yf(),Jg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tc(i,d.cachePool),Wg(i,d),Ur(),i.memoizedState=null):(t!==null&&tc(i,null),Yf(),Ur());return Gt(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=zf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tc(i,null),Yf(),Jg(i),t!==null&&Va(t,i,l,!0),i.childLanes=h,null}function yc(t,i){return i=vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,a){return Gs(i,t.child,null,a),t=yc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function HS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=yc(i,l),i.lanes=536870912,gl(null,t);if(Kf(i),(t=it)?(t=lv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return yc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=$y(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=et,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),hn(l,t,_),pd;Ic(),i=$y(t,i,a)}else t=d.treeContext,it=Un(_.nextSibling),Ht=i,Ue=!0,Nr=null,Pn=!1,t!==null&&Pg(i,t),i=yc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _c(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,l,h){return Bs(i),a=$f(t,i,a,l,void 0,h),l=Wf(),t!==null&&!Ct?(Jf(t,i,h),Ki(t,i,h)):(Ue&&l&&Nf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Wy(t,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=ey(i,l,a,h),Zg(t),l=Wf(),t!==null&&!Ct?(Jf(t,i,d),Ki(t,i,d)):(Ue&&l&&Nf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Jy(t,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=Qs(a,b);d.props=D;var q=d.context,$=a.contextType;_=Da,typeof $=="object"&&$!==null&&(_=Ft($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==_)&&Uy(i,d,l,_),Vr=!1;var F=i.memoizedState;d.state=F,hl(i,l,d,h),cl(),q=i.memoizedState,b||F!==q||Vr?(typeof ee=="function"&&(fd(i,a,ee,l),q=i.memoizedState),(D=Vr||Ly(i,a,D,l,F,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,$=Qs(a,_),d.props=$,ee=i.pendingProps,F=d.context,q=a.contextType,D=Da,typeof q=="object"&&q!==null&&(D=Ft(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==D)&&Uy(i,d,l,D),Vr=!1,F=i.memoizedState,d.state=F,hl(i,l,d,h),cl();var Q=i.memoizedState;_!==ee||F!==Q||Vr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof b=="function"&&(fd(i,a,b,l),Q=i.memoizedState),($=Vr||Ly(i,a,$,l,F,Q,D)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_c(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Zy(t,i,a,l){return js(),i.flags|=256,Gt(t,i,a,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:qg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function e_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?Lr(i):Ur(),(t=it)?(t=lv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Or(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ur(),h=i.mode,b=vc({mode:"hidden",children:b},h),l=Us(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,gl(null,l)):(Lr(i),Ed(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),b=l.fallback,h=i.mode,l=vc({mode:"visible",children:l.children},h),b=Us(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,i=gl(null,l));else if(Lr(i),tm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(Ct||Va(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=et,_!==null&&(l=Lo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ls(t,l),hn(_,t,l),pd;em(b)||Ic(),i=Td(t,i,a)}else em(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,it=Un(b.nextSibling),Ht=i,Ue=!0,Nr=null,Pn=!1,t!==null&&Pg(i,t),i=Ed(i,l.children),i.flags|=4096);return i}return h?(Ur(),b=l.fallback,h=i.mode,D=t.child,q=D.sibling,l=qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?b=qi(q,b):(b=Us(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,gl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=_d(a):(h=b.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=qg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=vd(t,_,a),i.memoizedState=yd,gl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Gs(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function t_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,a)}function Sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function n_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,le(yt,_),Gt(t,i,l,a),l=Ue?il:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,i);else if(t.tag===19)t_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function FS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Mr(i,wt,t.memoizedState.cache),js();break;case 27:case 5:vs(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(t,i,a):(Lr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return n_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Ky(t,i,a,i.pendingProps);case 24:Mr(i,wt,t.memoizedState.cache)}return Ki(t,i,a)}function i_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!bd(t,a)&&(i.flags&128)===0)return Ct=!1,FS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Ue&&(i.flags&1048576)!==0&&kg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Qs(t,l),i.tag=1,i=Jy(null,i,t,l,a)):(i.tag=0,i=gd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){i.tag=11,i=Gy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Yy(null,i,t,l,a);break e}}throw i=Ye(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),Jy(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,wt,l),l!==d.cache&&Lf(i,[wt],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),rl(h),i=Zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Un(t.firstChild),Ht=i,Ue=!0,Nr=null,Pn=!0,a=Kg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===h){i=Ki(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return _c(t,i),t===null?(a=mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=kc(xe.current).createElement(a),l[St]=i,l[Lt]=t,Yt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vs(i),t===null&&Ue&&(l=i.stateNode=hv(i.type,i.pendingProps,xe.current),Ht=i,Pn=!0,h=it,Yr(i.type)?(nm=h,it=Un(l.firstChild)):it=h),Gt(t,i,i.pendingProps.children,a),_c(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=Eb(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ht=i,it=Un(l.firstChild),Pn=!1,h=!0):h=!1),h||Or(i)),vs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:_!==null&&Wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,kS,null,null,a),Nl._currentValue=h),_c(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=Tb(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||Or(i)),null;case 13:return e_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Gy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return n_(t,i,a);case 31:return HS(t,i,a);case 22:return Ky(t,i,a,i.pendingProps);case 24:return Bs(i),l=Ft(wt),t===null?(h=zf(),h===null&&(h=et,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),Mr(i,wt,h)):((t.lanes&a)!==0&&(Hf(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,wt,l)):(l=d.cache,Mr(i,wt,l),l!==h.cache&&Lf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function Ad(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D_())t.flags|=8192;else throw Fs=ic,Bf}else t.flags&=-16777217}function r_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(i))if(D_())t.flags|=8192;else throw Fs=ic,Bf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ya|=i)}function yl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function GS(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(rt(i),r_(i,d)):(rt(i),Ad(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),rt(i),r_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),rt(i),Ad(i,h,t,l,a)),null;case 27:if(ha(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=fe.current,Ma(i)?Lg(i):(t=hv(h,l,a),i.stateNode=t,Xi(i))}return rt(i),null;case 5:if(ha(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=fe.current,Ma(i))Lg(i);else{var _=kc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return rt(i),Ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||Or(i,!0)}else t=kc(t).createTextNode(l),t[St]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Yd(i.stateNode.containerInfo),rt(i),null;case 10:return Gi(i.type),rt(i),null;case 19:if(ne(yt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Og(a,t),a=a.sibling;return le(yt,yt.current&1|2),Ue&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>wc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=oc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*tn()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,le(yt,h?a&1|2:a&1),Ue&&Hi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),Qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function YS(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(yt),null;case 4:return at(),null;case 10:return Gi(i.type),null;case 22:case 23:return Tn(i),Qf(),t!==null&&ne(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(wt),null;case 25:return null;default:return null}}function s_(t,i){switch(Of(i),i.tag){case 3:Gi(wt),at();break;case 26:case 27:case 5:ha(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:ne(yt);break;case 10:Gi(i.type);break;case 22:case 23:Tn(i),Qf(),t!==null&&ne(qs);break;case 24:Gi(wt)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Xe(i,i.return,b)}}function jr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var D=a,q=b;try{q()}catch($){Xe(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Xe(i,i.return,$)}}function a_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){Xe(t,t.return,l)}}}function o_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function l_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function wd(t,i,a){try{var l=t.stateNode;mb(l,t.type,a,i),l[Lt]=i}catch(h){Xe(t,t.return,h)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cd(t,i,a),t=t.sibling;t!==null;)Cd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function c_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[St]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var $i=!1,It=!1,Id=!1,h_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function QS(t,i){if(t=t.containerInfo,Xd=qc,t=bg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,q=0,$=0,ee=t,F=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(b=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===a&&++q===h&&(b=_),F===d&&++$===l&&(D=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},qc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Qs(a.type,h);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function f_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&_l(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&a_(a),l&512&&vl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&c_(a);case 26:case 5:Ji(t,a),i===null&&l&4&&l_(a),l&512&&vl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&p_(t,a);break;case 13:Ji(t,a),l&4&&g_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nb.bind(null,a),Sb(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||It,h=$i;var d=It;$i=l,(It=i)&&!d?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),$i=h,It=d}break;case 30:break;default:Ji(t,a)}}function d_(t){var i=t.alternate;i!==null&&(t.alternate=null,d_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Wi(t,i,a){for(a=a.child;a!==null;)m_(t,i,a),a=a.sibling}function m_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Ci(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ci(a,i);var l=lt,h=on;Yr(a.type)&&(lt=a.stateNode,on=!1),Wi(t,i,a),Il(a.stateNode),lt=l,on=h;break;case 5:It||Ci(a,i);case 6:if(l=lt,h=on,lt=null,Wi(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):av(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,Wi(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),It||jr(4,a,i),Wi(t,i,a);break;case 1:It||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Wi(t,i,a),It=l;break;default:Wi(t,i,a)}}function p_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Xe(i,i.return,a)}}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Xe(i,i.return,a)}}function KS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new h_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new h_),i;default:throw Error(s(435,t.tag))}}function Sc(t,i){var a=KS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ib.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Yr(b.type)){lt=b.stateNode,on=!1;break e}break;case 5:lt=b.stateNode,on=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(lt===null)throw Error(s(160));m_(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)y_(i,t),i=i.sibling}var ei=null;function y_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(jr(3,t,t.return),_l(3,t),jr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(It||a===null||Ci(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(ln(i,t),un(t),l&512&&(It||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[St]=t,bt(d),l=d;break e;case"link":var _=yv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=yv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,bt(d),l=d}t.stateNode=l}else _v(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(It||a===null||Ci(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(It||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(Uc=null,h=ei,ei=Pc(i.containerInfo),ln(i,t),ei=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(de){Xe(t,t.return,de)}Id&&(Id=!1,__(t));break;case 4:l=ei,ei=Pc(t.stateNode.containerInfo),ln(i,t),un(t),ei=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=$i,$=It;if($i=q||h,It=$||D,ln(i,t),It=$,$i=q,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||$i||It||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Xe(D,D.return,de)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(de){Xe(D,D.return,de)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;h?ov(Q,!0):ov(D.stateNode,!1)}catch(de){Xe(D,D.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var b=Rd(t);Tc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Rd(t);Cd(t,q,D);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Ks(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&o_(i,i.return,a),Ks(i);break;case 27:Il(i.stateNode);case 26:case 5:Ci(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Zi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,a),_l(4,d);break;case 1:if(Zi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Xg(D[h],b)}catch(q){Xe(l,l.return,q)}}a&&_&64&&a_(d),vl(d,d.return);break;case 27:c_(d);case 26:case 5:Zi(h,d,a),a&&l===null&&_&4&&l_(d),vl(d,d.return);break;case 12:Zi(h,d,a);break;case 31:Zi(h,d,a),a&&_&4&&p_(h,d);break;case 13:Zi(h,d,a),a&&_&4&&g_(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,a),vl(d,d.return);break;case 30:break;default:Zi(h,d,a)}i=i.sibling}}function xd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(t,i,a,l),i=i.sibling}function v_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&_l(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):El(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&xd(_,i);break;case 24:ti(t,i,a,l),h&2048&&Dd(i.alternate,i);break;default:ti(t,i,a,l)}}function Ha(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,b,D,h),_l(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ha(d,_,b,D,h):El(d,_):($._visibility|=2,Ha(d,_,b,D,h)),h&&q&2048&&xd(_.alternate,_);break;case 24:Ha(d,_,b,D,h),h&&q&2048&&Dd(_.alternate,_);break;default:Ha(d,_,b,D,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&xd(l.alternate,l);break;case 24:El(a,l),h&2048&&Dd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Fa(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)E_(t,i,a),t=t.sibling}function E_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&Tl&&t.memoizedState!==null&&Vb(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var l=ei;ei=Pc(t.stateNode.containerInfo),Fa(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Fa(t,i,a),Tl=l):Fa(t,i,a));break;default:Fa(t,i,a)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,b_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):Sl(t);break;default:Sl(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,b_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function b_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(d_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var XS={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},$S=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ne=null,Me=0,Ke=0,Sn=null,zr=!1,Ga=!1,Nd=!1,er=0,dt=0,Br=0,Xs=0,Od=0,bn=0,Ya=0,bl=null,cn=null,Md=!1,Ac=0,A_=0,wc=1/0,Rc=null,qr=null,Vt=0,Hr=null,Qa=null,tr=0,Vd=0,kd=null,w_=null,Al=0,Pd=null;function An(){return(Fe&2)!==0&&Me!==0?Me&-Me:K.T!==null?qd():Cu()}function R_(){if(bn===0)if((Me&536870912)===0||Ue){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),bn=t}else bn=536870912;return t=En.current,t!==null&&(t.flags|=32),bn}function hn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Fr(t,Me,bn,!1)),bs(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Xs|=a),dt===4&&Fr(t,Me,bn,!1)),Ii(t))}function C_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?ZS(t,i):Ud(t,i,!0),d=l;do{if(h===0){Ga&&!l&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!WS(a)){h=Ud(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=bl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ka(b,_).flags|=256),_=Ud(b,_,!1),_!==2){if(Nd&&!D){b.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Fr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(l,i,bn,!zr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-tn(),10<h)){if(Fr(l,i,bn,!zr),ci(l,0,!0)!==0)break e;tr=i,l.timeoutHandle=rv(I_.bind(null,l,a,cn,Rc,Md,i,bn,Xs,Ya,zr,d,"Throttled",-0,0),h);break e}I_(l,a,cn,Rc,Md,i,bn,Xs,Ya,zr,d,null,-0,0)}}break}while(!0);Ii(t)}function I_(t,i,a,l,h,d,_,b,D,q,$,ee,F,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},E_(i,d,ee);var de=(d&62914560)===d?Ac-tn():(d&4194048)===d?A_-tn():0;if(de=kb(ee,de),de!==null){tr=d,t.cancelPendingCommit=de(P_.bind(null,t,i,d,a,l,h,_,b,D,$,ee,null,F,Q)),Fr(t,d,_,!q);return}}P_(t,i,d,a,l,h,_,b,D)}function WS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,l){i&=~Od,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(t,a,i)}function Cc(){return(Fe&6)===0?(wl(0),!1):!0}function Ld(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Fi=zs=null,Zf(t),Ua=null,ol=0,t=Ne;for(;t!==null;)s_(t.alternate,t),t=t.return;Ne=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,Ld(),et=t,Ne=a=qi(t.current,null),Me=i,Ke=0,Sn=null,zr=!1,Ga=Gn(t,i),Nd=!1,Ya=bn=Od=Xs=Br=dt=0,cn=bl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return er=i,Ku(),a}function x_(t,i){Ie=null,K.H=pl,i===La||i===nc?(i=Gg(),Ke=3):i===Bf?(i=Gg(),Ke=4):Ke=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ne===null&&(dt=1,gc(t,Mn(i,t.current)))}function D_(){var t=En.current;return t===null?!0:(Me&4194048)===Me?Ln===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Ln:!1}function N_(){var t=K.H;return K.H=pl,t===null?pl:t}function O_(){var t=K.A;return K.A=XS,t}function Ic(){dt=4,zr||(Me&4194048)!==Me&&En.current!==null||(Ga=!0),(Br&134217727)===0&&(Xs&134217727)===0||et===null||Fr(et,Me,bn,!1)}function Ud(t,i,a){var l=Fe;Fe|=2;var h=N_(),d=O_();(et!==t||Me!==i)&&(Rc=null,Ka(t,i)),i=!1;var _=dt;e:do try{if(Ke!==0&&Ne!==null){var b=Ne,D=Sn;switch(Ke){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var q=Ke;if(Ke=0,Sn=null,Xa(t,b,D,q),a&&Ga){_=0;break e}break;default:q=Ke,Ke=0,Sn=null,Xa(t,b,D,q)}}JS(),_=dt;break}catch($){x_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Fi=zs=null,Fe=l,K.H=h,K.A=d,Ne===null&&(et=null,Me=0,Ku()),_}function JS(){for(;Ne!==null;)M_(Ne)}function ZS(t,i){var a=Fe;Fe|=2;var l=N_(),h=O_();et!==t||Me!==i?(Rc=null,wc=tn()+500,Ka(t,i)):Ga=Gn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=Sn;t:switch(Ke){case 1:Ke=0,Sn=null,Xa(t,i,d,1);break;case 2:case 9:if(Hg(d)){Ke=0,Sn=null,V_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ii(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Hg(d)?(Ke=0,Sn=null,V_(i)):(Ke=0,Sn=null,Xa(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?vv(_):b.stateNode.complete){Ke=0,Sn=null;var D=b.sibling;if(D!==null)Ne=D;else{var q=b.return;q!==null?(Ne=q,xc(q)):Ne=null}break t}}Ke=0,Sn=null,Xa(t,i,d,5);break;case 6:Ke=0,Sn=null,Xa(t,i,d,6);break;case 8:Ld(),dt=6;break e;default:throw Error(s(462))}}eb();break}catch($){x_(t,$)}while(!0);return Fi=zs=null,K.H=l,K.A=h,Fe=a,Ne!==null?0:(et=null,Me=0,Ku(),dt)}function eb(){for(;Ne!==null&&!mf();)M_(Ne)}function M_(t){var i=i_(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?xc(t):Ne=i}function V_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Zf(i);default:s_(a,i),i=Ne=Og(i,er),i=i_(a,i,er)}t.memoizedProps=t.pendingProps,i===null?xc(t):Ne=i}function Xa(t,i,a,l){Fi=zs=null,Zf(i),Ua=null,ol=0;var h=i.return;try{if(qS(t,h,i,a,Me)){dt=1,gc(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;dt=1,gc(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Ue||l===1?t=!0:Ga||(Me&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){k_(i,zr);return}t=i.return;var a=GS(i.alternate,i,er);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function k_(t,i){do{var a=YS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function P_(t,i,a,l,h,d,_,b,D){t.cancelPendingCommit=null;do Dc();while(Vt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,yf(t,a,d,_,b,D),t===et&&(Ne=et=null,Me=0),Qa=i,Hr=t,tr=a,Vd=d,kd=h,w_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rb(Er,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=X.p,X.p=2,_=Fe,Fe|=4;try{QS(t,i,a)}finally{Fe=_,X.p=h,K.T=l}}Vt=1,L_(),U_(),j_()}}function L_(){if(Vt===1){Vt=0;var t=Hr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=X.p;X.p=2;var h=Fe;Fe|=4;try{y_(i,t);var d=$d,_=bg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Sg(b.ownerDocument.documentElement,b)){if(D!==null&&Tf(b)){var q=D.start,$=D.end;if($===void 0&&($=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min($,b.value.length);else{var ee=b.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Q=F.getSelection(),de=b.textContent.length,ve=Math.min(D.start,de),Ze=D.end===void 0?ve:Math.min(D.end,de);!Q.extend&&ve>Ze&&(_=Ze,Ze=ve,ve=_);var L=Tg(b,ve),V=Tg(b,Ze);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),ve>Ze?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(ee=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qc=!!Xd,$d=Xd=null}finally{Fe=h,X.p=l,K.T=a}}t.current=i,Vt=2}}function U_(){if(Vt===2){Vt=0;var t=Hr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=X.p;X.p=2;var h=Fe;Fe|=4;try{f_(t,i.alternate,i)}finally{Fe=h,X.p=l,K.T=a}}Vt=3}}function j_(){if(Vt===4||Vt===3){Vt=0,Eu();var t=Hr,i=Qa,a=tr,l=w_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Qa=Hr=null,z_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qr=null),Ui(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=X.p,X.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{K.T=i,X.p=h}}(tr&3)!==0&&Dc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Pd?Al++:(Al=0,Pd=t):Al=0,wl(0)}}function z_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function Dc(){return L_(),U_(),j_(),B_()}function B_(){if(Vt!==5)return!1;var t=Hr,i=Vd;Vd=0;var a=Ui(tr),l=K.T,h=X.p;try{X.p=32>a?32:a,K.T=null,a=kd,kd=null;var d=Hr,_=tr;if(Vt=0,Qa=Hr=null,tr=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,S_(d.current),v_(d,d.current,_,a),Fe=b,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{X.p=h,K.T=l,z_(t,i)}}function q_(t,i,a){i=Mn(a,i),i=md(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(bs(t,2),Ii(t))}function Xe(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Mn(a,t),a=Hy(2),l=Pr(i,a,2),l!==null&&(Fy(a,l,i,t),bs(l,2),Ii(l));break}}i=i.return}}function jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),t=tb.bind(null,t,i,a),i.then(t,t))}function tb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Me&a)===a&&(dt===4||dt===3&&(Me&62914560)===Me&&300>tn()-Ac?(Fe&2)===0&&Ka(t,0):Od|=a,Ya===Me&&(Ya=0)),Ii(t)}function H_(t,i){i===0&&(i=Ru()),t=Ls(t,i),t!==null&&(bs(t,i),Ii(t))}function nb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),H_(t,a)}function ib(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),H_(t,a)}function rb(t,i){return Mt(t,i)}var Nc=null,$a=null,zd=!1,Oc=!1,Bd=!1,Gr=0;function Ii(t){t!==$a&&t.next===null&&($a===null?Nc=$a=t:$a=$a.next=t),Oc=!0,zd||(zd=!0,ab())}function wl(t,i){if(!Bd&&Oc){Bd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Me,d=ci(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);Bd=!1}}function sb(){F_()}function F_(){Oc=zd=!1;var t=0;Gr!==0&&gb()&&(t=Gr);for(var i=tn(),a=null,l=Nc;l!==null;){var h=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Vt!==0&&Vt!==5||wl(t),Gr!==0&&(Gr=0)}function G_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),b=1<<_,D=h[_];D===-1?((b&a)===0||(b&l)!==0)&&(h[_]=gf(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=Me,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),Ui(a)){case 2:case 8:a=ko;break;case 32:a=Er;break;case 268435456:a=Tu;break;default:a=Er}return l=Y_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Me;return l=ci(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),G_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function Q_(t,i){if(Dc())return null;C_(t,i,!0)}function ab(){_b(function(){(Fe&6)!==0?Mt(Vo,sb):F_()})}function qd(){if(Gr===0){var t=ka;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Gr=t}return Gr}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ob(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=K_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?K_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ti("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var D=_?X_(h,_):new FormData(h);ld(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?X_(h,_):new FormData(h),ld(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Hd=0;Hd<wf.length;Hd++){var Fd=wf[Hd],lb=Fd.toLowerCase(),ub=Fd[0].toUpperCase()+Fd.slice(1);Zn(lb,"on"+ub)}Zn(Rg,"onAnimationEnd"),Zn(Cg,"onAnimationIteration"),Zn(Ig,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(wS,"onTransitionRun"),Zn(RS,"onTransitionStart"),Zn(CS,"onTransitionCancel"),Zn(xg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function $_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,q=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch($){Qu($)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,q=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch($){Qu($)}h.currentTarget=null,d=D}}}}function Oe(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=t+"__bubble";a.has(l)||(W_(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),W_(a,t,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[Mc]){t[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(cb.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Gd("selectionchange",!1,i))}}function W_(t,i,a,l){switch(Rv(i)){case 2:var h=Ub;break;case 8:h=jb;break;default:h=om}a=h.bind(null,i,a,t),h=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=mi(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Rr(function(){var q=d,$=xn(a),ee=[];e:{var F=Dg.get(t);if(F!==void 0){var Q=Ti,de=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Q=Fu;break;case"focusin":de="focus",Q=Ms;break;case"focusout":de="blur",Q=Ms;break;case"beforeblur":case"afterblur":Q=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Rg:case Cg:case Ig:Q=Lu;break;case xg:Q=A;break;case"scroll":case"scrollend":Q=$o;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Bi;break;case"toggle":case"beforetoggle":Q=Ce}var ve=(i&4)!==0,Ze=!ve&&(t==="scroll"||t==="scrollend"),L=ve?F!==null?F+"Capture":null:F;ve=[];for(var V=q,B;V!==null;){var W=V;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=Xn(V,L),W!=null&&ve.push(Cl(V,W,B))),Ze)break;V=V.return}0<ve.length&&(F=new Q(F,de,null,a,$),ee.push({event:F,listeners:ve}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Qo&&(de=a.relatedTarget||a.fromElement)&&(mi(de)||de[fi]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=q,de=de?mi(de):null,de!==null&&(Ze=u(de),ve=de.tag,de!==Ze||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(Q=null,de=q),Q!==de)){if(ve=Wo,W="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Bi,W="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=Q==null?F:gn(Q),B=de==null?F:gn(de),F=new ve(W,V+"leave",Q,a,$),F.target=Ze,F.relatedTarget=B,W=null,mi($)===q&&(ve=new ve(L,V+"enter",de,a,$),ve.target=B,ve.relatedTarget=Ze,W=ve),Ze=W,Q&&de)t:{for(ve=hb,L=Q,V=de,B=0,W=L;W;W=ve(W))B++;W=0;for(var ge=V;ge;ge=ve(ge))W++;for(;0<B-W;)L=ve(L),B--;for(;0<W-B;)V=ve(V),W--;for(;B--;){if(L===V||V!==null&&L===V.alternate){ve=L;break t}L=ve(L),V=ve(V)}ve=null}else ve=null;Q!==null&&J_(ee,F,Q,ve,!1),de!==null&&Ze!==null&&J_(ee,Ze,de,ve,!0)}}e:{if(F=q?gn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Be=pg;else if(dg(F))if(gg)Be=SS;else{Be=ES;var me=vS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&va(q.elementType)&&(Be=pg):Be=TS;if(Be&&(Be=Be(t,q))){mg(ee,Be,a,$);break e}me&&me(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Fo(F,"number",F.value)}switch(me=q?gn(q):window,t){case"focusin":(dg(me)||me.contentEditable==="true")&&(Ca=me,Sf=q,nl=null);break;case"focusout":nl=Sf=Ca=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Ag(ee,a,$);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":Ag(ee,a,$)}var De;if(He)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ra?Vs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ai&&a.locale!=="ko"&&(Ra||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ra&&(De=Xo()):(Ei=$,Ko="value"in Ei?Ei.value:Ei.textContent,Ra=!0)),me=Vc(q,Ve),0<me.length&&(Ve=new bi(Ve,t,null,a,$),ee.push({event:Ve,listeners:me}),De?Ve.data=De:(De=wa(a),De!==null&&(Ve.data=De)))),(De=Nn?pS(t,a):gS(t,a))&&(Ve=Vc(q,"onBeforeInput"),0<Ve.length&&(me=new bi("onBeforeInput","beforeinput",null,a,$),ee.push({event:me,listeners:Ve}),me.data=De)),ob(ee,t,q,a,$)}$_(ee,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Cl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function hb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,q=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||q===null||(D=q,h?(q=Xn(a,d),q!=null&&_.unshift(Cl(a,q,D))):h||(q=Xn(a,d),q!=null&&_.push(Cl(a,q,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var fb=/\r\n?/g,db=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(fb,`
`).replace(db,"")}function ev(t,i){return i=Z_(i),Z_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,ya(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Je(t,i,l,$,a,null)}}Nu(t,d,b,D,q,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}br(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Oe(Rl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,q,l,a,null)}return;default:if(va(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function mb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,D=null,q=null,$=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&Je(t,i,F,Q,l,ee)}}_a(t,_,b,D,q,$,d,h);return;case"select":Q=_=b=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,h,d,l,D)}i=b,a=_,l=Q,F!=null?Sr(t,!!a,F,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ou(t,F,Q);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Je(t,i,de,null,l,F)}for(D in l)if(F=l[D],Q=a[D],l.hasOwnProperty(D)&&F!==Q&&(F!=null||Q!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,i,D,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Je(t,i,ve,null,l,F);for(q in l)if(F=l[q],Q=a[q],l.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,q,F,l,Q)}return;default:if(va(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Kd(t,i,Ze,void 0,l,F);for($ in l)F=l[$],Q=a[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Kd(t,i,$,F,l,Q);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||Je(t,i,ee,F,l,Q)}function tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&tv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>b)break;var $=D.transferSize,ee=D.initiatorType;$&&tv(ee)&&(D=D.responseEnd,_+=$*(D<b?1:(b-q)/(D-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,$d=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function gb(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(vb)}:rv;function vb(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function av(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(t.ownerDocument.body);a=h}while(a);eo(i)}function ov(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Eb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Tb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function lv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function hv(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var jn=new Map,fv=new Set;function Pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=X.d;X.d={f:bb,r:Ab,D:wb,C:Rb,L:Cb,m:Ib,X:Db,S:xb,M:Nb};function bb(){var t=nr.f(),i=Cc();return t||i}function Ab(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):nr.r(t)}var Wa=typeof document>"u"?null:document;function dv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),bt(i),l.head.appendChild(i)))}}function wb(t){nr.D(t),dv("dns-prefetch",t,null)}function Rb(t,i){nr.C(t,i),dv("preconnect",t,i)}function Cb(t,i,a){nr.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}jn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Yt(i,"link",t),bt(i),l.head.appendChild(i)))}}function Ib(t,i){nr.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!jn.has(d)&&(t=S({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Yt(l,"link",t),bt(l),a.head.appendChild(l)}}}function xb(t,i,a){nr.S(t,i,a);var l=Wa;if(l&&t){var h=pi(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(xl(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&im(t,a);var D=_=l.createElement("link");bt(D),Yt(D,"link",t),D._p=new Promise(function(q,$){D.onload=q,D.onerror=$}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function Db(t,i){nr.X(t,i);var a=Wa;if(a&&t){var l=pi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=S({src:t,async:!0},i),(i=jn.get(h))&&rm(t,i),d=a.createElement("script"),bt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Nb(t,i){nr.M(t,i);var a=Wa;if(a&&t){var l=pi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&rm(t,i),d=a.createElement("script"),bt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,i,a,l){var h=(h=xe.current)?Pc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||Ob(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+sn(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ob(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),bt(i),t.head.appendChild(i))}function Za(t){return'[src="'+sn(t)+'"]'}function Dl(t){return"script[async]"+t}function gv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Yt(l,"style",h),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=pv(a),(h=jn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,bt(h),h):(l=a,(h=jn.get(d))&&(l=S({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function yv(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function _v(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Mb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Vb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(xl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=pv(l),(h=jn.get(h))&&im(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function kb(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*pb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(Pb,t),zc=null,jc.call(t))}function Pb(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Lb(t,i,a,l,h,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ev(t,i,a,l,h,d,_,b,D,q,$,ee){return t=new Lb(t,i,a,_,D,q,$,ee,b),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function Tv(t){return t?(t=Da,t):Da}function Sv(t,i,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(t,l,i),a!==null&&(hn(a,t,i),ul(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function Av(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&hn(i,t,67108864),am(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var i=An();i=ws(i);var a=Ls(t,i);a!==null&&hn(a,t,i),am(t,i)}}var qc=!0;function Ub(t,i,a,l){var h=K.T;K.T=null;var d=X.p;try{X.p=2,om(t,i,a,l)}finally{X.p=d,K.T=h}}function jb(t,i,a,l){var h=K.T;K.T=null;var d=X.p;try{X.p=8,om(t,i,a,l)}finally{X.p=d,K.T=h}}function om(t,i,a,l){if(qc){var h=lm(l);if(h===null)Qd(t,i,l,Hc,a),Cv(t,l);else if(Bb(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<zb.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-pt(_);b.entanglements[1]|=D,_&=~D}Ii(d),(Fe&6)===0&&(wc=tn()+500,wl(0))}}break;case 31:case 13:b=Ls(d,2),b!==null&&hn(b,d,2),Cc(),am(d,2)}if(d=lm(l),d===null&&Qd(t,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,i,l,null,a)}}function lm(t){return t=xn(t),um(t)}var Hc=null;function um(t){if(Hc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Vo:return 2;case ko:return 8;case Er:case pf:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var cm=!1,Qr=null,Kr=null,Xr=null,Ol=new Map,Ml=new Map,$r=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&Av(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Bb(t,i,a,l,h){switch(i){case"focusin":return Qr=Vl(Qr,t,i,a,l,h),!0;case"dragenter":return Kr=Vl(Kr,t,i,a,l,h),!0;case"mouseover":return Xr=Vl(Xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){wv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){wv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return i=In(a),i!==null&&Av(i),t.blockedOn=a,!1;i.shift()}return!0}function xv(t,i,a){Fc(t)&&a.delete(i)}function qb(){cm=!1,Qr!==null&&Fc(Qr)&&(Qr=null),Kr!==null&&Fc(Kr)&&(Kr=null),Xr!==null&&Fc(Xr)&&(Xr=null),Ol.forEach(xv),Ml.forEach(xv)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qb)))}var Yc=null;function Dv(t){Yc!==t&&(Yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function i(D){return Gc(D,t)}Qr!==null&&Gc(Qr,t),Kr!==null&&Gc(Kr,t),Xr!==null&&Gc(Xr,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Dv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)b=_.formAction;else if(um(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Dv(a)}}}function Nv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}Qc.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Sv(a,l,t,i,null,null)},Qc.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Cc(),i[fi]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Iv(t)}};var Ov=e.version;if(Ov!=="19.2.0")throw Error(s(527,Ov,"19.2.0"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Hb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(Hb),Bt=Kc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=jy,d=zy,_=By;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ev(t,1,!1,null,null,a,l,null,h,d,_,Nv),t[fi]=i.current,Yd(t),new hm(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=jy,_=zy,b=By,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Ev(t,1,!0,i,a??null,l,h,D,d,_,b,Nv),i.context=Tv(null),a=i.current,l=An(),l=ws(l),h=kr(l),h.callback=null,Pr(a,h,l),a=l,i.current.lanes=a,bs(i,a),Ii(i),t[fi]=i.current,Yd(t),new Qc(i)},Pl.version="19.2.0",Pl}var qv;function tA(){if(qv)return mm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=eA(),mm.exports}var nA=tA();var Hv="popstate";function iA(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Om("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){Rn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return sA(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Rn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substring(2,10)}function Fv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||s||rA()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function sa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function sA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),J=H==null?null:H-g;g=H,p&&p({action:m,location:Y.location,delta:J})}function w(H,J){m="PUSH";let se=Om(Y.location,H,J);n&&n(se,H),g=E()+1;let ae=Fv(se,g),re=Y.createHref(se);try{f.pushState(ae,"",re)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(re)}u&&p&&p({action:m,location:Y.location,delta:1})}function N(H,J){m="REPLACE";let se=Om(Y.location,H,J);n&&n(se,H),g=E();let ae=Fv(se,g),re=Y.createHref(se);f.replaceState(ae,"",re),u&&p&&p({action:m,location:Y.location,delta:0})}function z(H){return aA(H)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,S),p=H,()=>{o.removeEventListener(Hv,S),p=null}},createHref(H){return e(o,H)},createURL:z,encodeLocation(H){let J=z(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:N,go(H){return f.go(H)}};return Y}function aA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RE(r,e,n="/"){return oA(r,e,n,!1)}function oA(r,e,n,s){let o=typeof e=="string"?sa(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=CE(r);lA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=vA(u);m=yA(f[p],g,s)}return m}function CE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=lr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),CE(f.children,e,w,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:pA(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of IE(f.path))u(f,m,!0,p)}),e}function IE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function lA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:gA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var uA=/^:[\w-]+$/,cA=3,hA=2,fA=1,dA=10,mA=-2,Gv=r=>r==="*";function pA(r,e){let n=r.split("/"),s=n.length;return n.some(Gv)&&(s+=mA),e&&(s+=hA),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(uA.test(u)?cA:u===""?fA:dA),s)}function gA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function yA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:lr([u,S.pathname]),pathnameBase:AA(lr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=lr([u,S.pathnameBase]))}return f}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_A(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let z=m[w]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const N=m[w];return S&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function _A(r,e=!1,n=!0){Rn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function vA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TA=r=>EA.test(r);function SA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?sa(r):r,u;if(n)if(TA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Yv(n.substring(1),"/"):u=Yv(n,e)}else u=e;return{pathname:u,search:wA(s),hash:RA(o)}}function Yv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cp(r){let e=bA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hp(r,e,n,s=!1){let o;typeof r=="string"?o=sa(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=SA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),AA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,RA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xE=["POST","PUT","PATCH","DELETE"];new Set(xE);var IA=["GET",...xE];new Set(IA);var To=U.createContext(null);To.displayName="DataRouter";var jh=U.createContext(null);jh.displayName="DataRouterState";U.createContext(!1);var DE=U.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var xA=U.createContext(new Map);xA.displayName="Fetchers";var DA=U.createContext(null);DA.displayName="Await";var ai=U.createContext(null);ai.displayName="Navigation";var au=U.createContext(null);au.displayName="Location";var Li=U.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var fp=U.createContext(null);fp.displayName="RouteError";function NA(r,{relative:e}={}){ct(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ai),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:lr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return U.useContext(au)!=null}function yr(){return ct(So(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(au).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(r){U.useContext(ai).static||U.useLayoutEffect(r)}function dp(){let{isDataRoute:r}=U.useContext(Li);return r?FA():OA()}function OA(){ct(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(To),{basename:e,navigator:n}=U.useContext(ai),{matches:s}=U.useContext(Li),{pathname:o}=yr(),u=JSON.stringify(cp(s)),f=U.useRef(!1);return OE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Rn(f.current,NE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=hp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:lr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function ou(r,{relative:e}={}){let{matches:n}=U.useContext(Li),{pathname:s}=yr(),o=JSON.stringify(cp(n));return U.useMemo(()=>hp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function MA(r,e){return ME(r,e)}function ME(r,e,n,s,o){ct(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(ai),{matches:f}=U.useContext(Li),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let se=S&&S.path||"";VE(g,!S||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let w=yr(),N;if(e){let se=typeof e=="string"?sa(e):e;ct(E==="/"||se.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${se.pathname}" was given in the \`location\` prop.`),N=se}else N=w;let z=N.pathname||"/",Y=z;if(E!=="/"){let se=E.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=RE(r,{pathname:Y});Rn(S||H!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Rn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=UA(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:lr([E,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:lr([E,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),f,n,s,o);return e&&J?U.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function VA(){let r=HA(),e=CA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var kA=U.createElement(VA,null),PA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Li.Provider,{value:this.props.routeContext},U.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LA({routeContext:r,match:e,children:n}){let s=U.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Li.Provider,{value:r},n)}function UA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=E),S.route.id){let{loaderData:w,errors:N}=n,z=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!N||N[S.route.id]===void 0);if(S.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let N,z=!1,Y=null,H=null;n&&(N=f&&S.route.id?f[S.route.id]:void 0,Y=S.route.errorElement||kA,m&&(p<0&&w===0?(VE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,H=null):p===w&&(z=!0,H=S.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,w+1)),se=()=>{let ae;return N?ae=Y:z?ae=H:S.route.Component?ae=U.createElement(S.route.Component,null):S.route.element?ae=S.route.element:ae=E,U.createElement(LA,{match:S,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:ae})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?U.createElement(PA,{location:n.location,revalidation:n.revalidation,component:Y,error:N,children:se(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):se()},null)}function mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(r){let e=U.useContext(To);return ct(e,mp(r)),e}function zA(r){let e=U.useContext(jh);return ct(e,mp(r)),e}function BA(r){let e=U.useContext(Li);return ct(e,mp(r)),e}function pp(r){let e=BA(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qA(){return pp("useRouteId")}function HA(){let r=U.useContext(fp),e=zA("useRouteError"),n=pp("useRouteError");return r!==void 0?r:e.errors?.[n]}function FA(){let{router:r}=jA("useNavigate"),e=pp("useNavigate"),n=U.useRef(!1);return OE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Rn(n.current,NE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Qv={};function VE(r,e,n){!e&&!Qv[r]&&(Qv[r]=!0,Rn(!1,n))}U.memo(GA);function GA({routes:r,future:e,state:n,unstable_onError:s}){return ME(r,void 0,n,s,e)}function Mm({to:r,replace:e,state:n,relative:s}){ct(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ai);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Li),{pathname:f}=yr(),m=dp(),p=hp(r,cp(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ir(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=sa(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,N=U.useMemo(()=>{let z=hr(p,f);return z==null?null:{location:{pathname:z,search:g,hash:E,state:S,key:w},navigationType:s}},[f,p,g,E,S,w,s]);return Rn(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:U.createElement(ai.Provider,{value:m},U.createElement(au.Provider,{children:e,value:N}))}function QA({children:r,location:e}){return MA(Vm(r),e)}function Vm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ct(s.type===ir,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var ih="get",rh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function KA(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function XA(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function $A(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function WA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function JA(r,e){return r.button===0&&(!e||e==="_self")&&!WA(r)}var Xc=null;function ZA(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!ew.has(r)?(Rn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function tw(r,e){let n,s,o,u,f;if(XA(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||ih,o=vm(r.getAttribute("enctype"))||rh,u=new FormData(r)}else if(KA(r)||$A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ih,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||rh,u=new FormData(m,r),!ZA()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,s=null,o=rh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&hr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function iw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await iw(u,n);return f.links?f.links():[]}return[]}));return uw(s.flat(1).filter(rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function aw(r,e,{includeHydrateFallback:n}={}){return ow(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ow(r){return[...new Set(r)]}function lw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function uw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(lw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function kE(){let r=U.useContext(To);return gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cw(){let r=U.useContext(jh);return gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var yp=U.createContext(void 0);yp.displayName="FrameworkContext";function PE(){let r=U.useContext(yp);return gp(r,"You must render this element inside a <HydratedRouter> element"),r}function hw(r,e){let n=U.useContext(yp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=J=>{J.forEach(se=>{f(se.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let N=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ll(m,N),onBlur:Ll(p,z),onMouseEnter:Ll(g,N),onMouseLeave:Ll(E,z),onTouchStart:Ll(S,N)}]:[!1,w,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function fw({page:r,...e}){let{router:n}=kE(),s=U.useMemo(()=>RE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(mw,{page:r,matches:s,...e}):null}function dw(r){let{manifest:e,routeModules:n}=PE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return sw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function mw({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:u}=PE(),{basename:f}=kE(),{loaderData:m,matches:p}=cw(),g=U.useMemo(()=>Kv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>Kv(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,Y=!1;if(e.forEach(J=>{let se=o.routes[J.route.id];!se||!se.hasLoader||(!g.some(ae=>ae.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||se.hasClientLoader?Y=!0:z.add(J.route.id))}),z.size===0)return[];let H=nw(r,f,"data");return Y&&z.size>0&&H.searchParams.set("_routes",e.filter(J=>z.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,e,r,u]),w=U.useMemo(()=>aw(E,o),[E,o]),N=dw(E);return U.createElement(U.Fragment,null,S.map(z=>U.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),w.map(z=>U.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),N.map(({key:z,link:Y})=>U.createElement("link",{key:z,nonce:n.nonce,...Y})))}function pw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.9.6")}catch{}function gw({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=iA({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(YA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gh=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...w},N){let{basename:z}=U.useContext(ai),Y=typeof g=="string"&&UE.test(g),H,J=!1;if(typeof g=="string"&&Y&&(H=g,LE))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=hr(k.pathname,z);k.origin===C.origin&&M!=null?g=M+k.search+k.hash:J=!0}catch{Rn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=NA(g,{relative:o}),[ae,re,pe]=hw(s,w),Z=Ew(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||Z(C)}let R=U.createElement("a",{...w,...pe,href:H||se,onClick:J||u?e:x,ref:pw(N,re),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ae&&!Y?U.createElement(U.Fragment,null,R,U.createElement(fw,{page:se})):R});gh.displayName="Link";var yw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=ou(f,{relative:g.relative}),w=yr(),N=U.useContext(jh),{navigator:z,basename:Y}=U.useContext(ai),H=N!=null&&ww(S)&&m===!0,J=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,se=w.pathname,ae=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(se=se.toLowerCase(),ae=ae?ae.toLowerCase():null,J=J.toLowerCase()),ae&&Y&&(ae=hr(ae,Y)||ae);const re=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let pe=se===J||!o&&se.startsWith(J)&&se.charAt(re)==="/",Z=ae!=null&&(ae===J||!o&&ae.startsWith(J)&&ae.charAt(J.length)==="/"),x={isActive:pe,isPending:Z,isTransitioning:H},R=pe?e:void 0,C;typeof s=="function"?C=s(x):C=[s,pe?"active":null,Z?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return U.createElement(gh,{...g,"aria-current":R,className:C,ref:E,style:k,to:f,viewTransition:m},typeof p=="function"?p(x):p)});yw.displayName="NavLink";var _w=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ih,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...w},N)=>{let z=bw(),Y=Aw(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&UE.test(m),se=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let re=ae.nativeEvent.submitter,pe=re?.getAttribute("formmethod")||f;z(re||ae.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return U.createElement("form",{ref:N,method:H,action:Y,onSubmit:s?p:se,...w,"data-discover":!J&&r==="render"?"true":void 0})});_w.displayName="Form";function vw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(r){let e=U.useContext(To);return ct(e,vw(r)),e}function Ew(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=dp(),p=yr(),g=ou(r,{relative:u});return U.useCallback(E=>{if(JA(E,e)){E.preventDefault();let S=n!==void 0?n:Wl(p)===Wl(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var Tw=0,Sw=()=>`__${String(++Tw)}__`;function bw(){let{router:r}=jE("useSubmit"),{basename:e}=U.useContext(ai),n=qA();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=tw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Sw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Aw(r,{relative:e}={}){let{basename:n}=U.useContext(ai),s=U.useContext(Li);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),Wl(u)}function ww(r,{relative:e}={}){let n=U.useContext(DE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jE("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const Rw=()=>{};var Xv={};const zE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(w=64)),s.push(n[E],n[S],n[w],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Cw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Iw;const w=u<<2|m>>4;if(s.push(w),g!==64){const N=m<<4&240|g>>2;if(s.push(N),S!==64){const z=g<<6&192|S;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(r){const e=zE(r);return BE.encodeByteArray(e,!0)},yh=function(r){return xw(r).replace(/\./g,"")},qE=function(r){try{return BE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nw=()=>Dw().__FIREBASE_DEFAULTS__,Ow=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Mw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qE(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Rw()||Nw()||Ow()||Mw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HE=r=>Bh()?.emulatorHosts?.[r],Vw=r=>{const e=HE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FE=()=>Bh()?.config,GE=r=>Bh()?.[`_${r}`];class kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function bo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(r){return(await fetch(r,{credentials:"include"})).ok}function Pw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yh(JSON.stringify(n)),yh(JSON.stringify(f)),""].join(".")}const Gl={};function Lw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Uw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let $v=!1;function QE(r,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Gl[r]===e||Gl[r]||$v)return;Gl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Lw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{$v=!0,f()},w}function E(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Uw(s),N=n("text"),z=document.getElementById(N)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),J=n("preprendIcon"),se=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ae=w.element;m(ae),E(H,Y);const re=g();p(se,J),ae.append(se,z,H,re),document.body.appendChild(ae)}u?(z.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function zw(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Gw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Kw="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Kw,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Xw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,s)}}function Xw(r,e){return r.replace($w,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $w=/\{\$([^}]+)}/g;function Ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Wv(u)&&Wv(f)){if(!ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(r){return r!==null&&typeof r=="object"}function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Jw(r,e){const n=new Zw(r,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function Pt(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(r){return r===$s?void 0:r}function iR(r){return r.instantiationMode==="EAGER"}class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const sR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},aR=ke.INFO,oR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},lR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const uR=(r,e)=>e.some(n=>r instanceof n);let Jv,Zv;function cR(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,km=new WeakMap,XE=new WeakMap,Tm=new WeakMap,vp=new WeakMap;function fR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,r)}).catch(()=>{}),vp.set(e,r),e}function dR(r){if(km.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});km.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||XE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mR(r){Pm=r(Pm)}function pR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Sm(this),e,...n);return XE.set(s,e.sort?e.sort():[e]),is(s)}:hR().includes(r)?function(...e){return r.apply(Sm(this),e),is(KE.get(this))}:function(...e){return is(r.apply(Sm(this),e))}}function gR(r){return typeof r=="function"?pR(r):(r instanceof IDBTransaction&&dR(r),uR(r,cR())?new Proxy(r,Pm):r)}function is(r){if(r instanceof IDBRequest)return fR(r);if(Tm.has(r))return Tm.get(r);const e=gR(r);return e!==r&&(Tm.set(r,e),vp.set(e,r)),e}const Sm=r=>vp.get(r);function yR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _R=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],bm=new Map;function e0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}mR(r=>({...r,get:(e,n,s)=>e0(e,n)||r.get(e,n,s),has:(e,n)=>!!e0(e,n)||r.has(e,n)}));class ER{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TR(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",t0="0.14.6";const fr=new _p("@firebase/app"),SR="@firebase/app-compat",bR="@firebase/analytics-compat",AR="@firebase/analytics",wR="@firebase/app-check-compat",RR="@firebase/app-check",CR="@firebase/auth",IR="@firebase/auth-compat",xR="@firebase/database",DR="@firebase/data-connect",NR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",VR="@firebase/installations",kR="@firebase/installations-compat",PR="@firebase/messaging",LR="@firebase/messaging-compat",UR="@firebase/performance",jR="@firebase/performance-compat",zR="@firebase/remote-config",BR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",YR="@firebase/firestore-compat",QR="firebase",KR="12.6.0";const Um="[DEFAULT]",XR={[Lm]:"fire-core",[SR]:"fire-core-compat",[AR]:"fire-analytics",[bR]:"fire-analytics-compat",[RR]:"fire-app-check",[wR]:"fire-app-check-compat",[CR]:"fire-auth",[IR]:"fire-auth-compat",[xR]:"fire-rtdb",[DR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[VR]:"fire-iid",[kR]:"fire-iid-compat",[PR]:"fire-fcm",[LR]:"fire-fcm-compat",[UR]:"fire-perf",[jR]:"fire-perf-compat",[zR]:"fire-rc",[BR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[YR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};const _h=new Map,$R=new Map,jm=new Map;function n0(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fo(r){const e=r.name;if(jm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const n of _h.values())n0(n,r);for(const n of $R.values())n0(n,r);return!0}function Ep(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new lu("app","Firebase",WR);class JR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Ao=KR;function $E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=FE()),!n)throw rs.create("no-options");const u=_h.get(o);if(u){if(ls(n,u.options)&&ls(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new rR(o);for(const p of jm.values())f.addComponent(p);const m=new JR(n,s,f);return _h.set(o,m),m}function WE(r=Um){const e=_h.get(r);if(!e&&r===Um&&FE())return $E();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=XR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(f.join(" "));return}fo(new ea(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ZR="firebase-heartbeat-database",eC=1,Jl="firebase-heartbeat-store";let Am=null;function JE(){return Am||(Am=yR(ZR,eC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Am}async function tC(r){try{const n=(await JE()).transaction(Jl),s=await n.objectStore(Jl).get(ZE(r));return await n.done,s}catch(e){if(e instanceof _r)fr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function i0(r,e){try{const s=(await JE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,ZE(r)),await s.done}catch(n){if(n instanceof _r)fr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});fr.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}const nC=1024,iC=30;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iC){const o=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:n,unsentEntries:s}=sC(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function sC(r,e=nC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),s0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),s0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s0(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function oC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function lC(r){fo(new ea("platform-logger",e=>new ER(e),"PRIVATE")),fo(new ea("heartbeat",e=>new rC(e),"PRIVATE")),ss(Lm,t0,r),ss(Lm,t0,"esm2020"),ss("fire-js","")}lC("");var uC="firebase",cC="12.6.0";ss(uC,cC,"app");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,eT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(k,M,P){for(var I=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)I[Ye-2]=arguments[Ye];return R.prototype[M].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)k[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)k[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],M=x.g[2];let P=x.g[3],I;I=R+(P^C&(M^P))+k[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(M^R&(C^M))+k[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=M+(C^P&(R^C))+k[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(R^M&(P^R))+k[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(P^C&(M^P))+k[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(M^R&(C^M))+k[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=M+(C^P&(R^C))+k[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(R^M&(P^R))+k[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(P^C&(M^P))+k[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(M^R&(C^M))+k[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=M+(C^P&(R^C))+k[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(R^M&(P^R))+k[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(P^C&(M^P))+k[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(M^R&(C^M))+k[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=M+(C^P&(R^C))+k[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(R^M&(P^R))+k[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(M^P&(C^M))+k[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(R^C))+k[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(P^R))+k[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(M^P))+k[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^P&(C^M))+k[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(R^C))+k[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(P^R))+k[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(M^P))+k[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^P&(C^M))+k[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(R^C))+k[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(P^R))+k[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(M^P))+k[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^P&(C^M))+k[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(R^C))+k[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(P^R))+k[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(M^P))+k[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(C^M^P)+k[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^M)+k[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=M+(P^R^C)+k[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^R)+k[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^P)+k[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^M)+k[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=M+(P^R^C)+k[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^R)+k[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^P)+k[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^M)+k[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=M+(P^R^C)+k[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^R)+k[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^P)+k[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^M)+k[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=M+(P^R^C)+k[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^R)+k[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(M^(C|~P))+k[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~M))+k[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=M+(R^(P|~C))+k[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~R))+k[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~P))+k[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~M))+k[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=M+(R^(P|~C))+k[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~R))+k[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~P))+k[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~M))+k[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=M+(R^(P|~C))+k[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~R))+k[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~P))+k[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~M))+k[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=M+(R^(P|~C))+k[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~R))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,k=this.C;let M=this.h,P=0;for(;P<R;){if(M==0)for(;P<=C;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(k[M++]=x.charCodeAt(P++),M==this.blockSize){o(this,k),M=0;break}}else for(;P<R;)if(k[M++]=x[P++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)x[R++]=this.g[C]>>>k&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let k=!0;for(let M=x.length-1;M>=0;M--){const P=x[M]|0;k&&P==R||(C[M]=P,k=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return H(g(-x));const R=[];let C=1;for(let k=0;x>=C;k++)R[k]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let k=S;for(let P=0;P<x.length;P+=8){var M=Math.min(8,x.length-P);const I=parseInt(x.substring(P,P+M),R);M<8?(M=g(Math.pow(R,M)),k=k.j(M).add(g(I))):(k=k.j(C),k=k.add(g(I)))}return k}var S=p(0),w=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);x+=(k>=0?k:4294967296+k)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(Y(this))return"-"+H(this).toString(x);const R=g(Math.pow(x,6));var C=this;let k="";for(;;){const M=re(C,R).g;C=J(C,M.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=M,z(C))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=J(this,x),Y(x)?-1:z(x)?0:1};function H(x){const R=x.g.length,C=[];for(let k=0;k<R;k++)C[k]=~x.g[k];return new f(C,~x.h).add(w)}r.abs=function(){return Y(this)?H(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let k=0;for(let M=0;M<=R;M++){let P=k+(this.i(M)&65535)+(x.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);k=I>>>16,P&=65535,I&=65535,C[M]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function J(x,R){return x.add(H(R))}r.j=function(x){if(z(this)||z(x))return S;if(Y(this))return Y(x)?H(this).j(H(x)):H(H(this).j(x));if(Y(x))return H(this.j(H(x)));if(this.l(N)<0&&x.l(N)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<x.g.length;M++){const P=this.i(k)>>>16,I=this.i(k)&65535,Ye=x.i(M)>>>16,tt=x.i(M)&65535;C[2*k+2*M]+=I*tt,se(C,2*k+2*M),C[2*k+2*M+1]+=P*tt,se(C,2*k+2*M+1),C[2*k+2*M+1]+=I*Ye,se(C,2*k+2*M+1),C[2*k+2*M+2]+=P*Ye,se(C,2*k+2*M+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function se(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ae(x,R){this.g=x,this.h=R}function re(x,R){if(z(R))throw Error("division by zero");if(z(x))return new ae(S,S);if(Y(x))return R=re(H(x),R),new ae(H(R.g),H(R.h));if(Y(R))return R=re(x,H(R)),new ae(H(R.g),R.h);if(x.g.length>30){if(Y(x)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=R;k.l(x)<=0;)C=pe(C),k=pe(k);var M=Z(C,1),P=Z(k,1);for(k=Z(k,2),C=Z(C,2);!z(k);){var I=P.add(k);I.l(x)<=0&&(M=M.add(C),P=I),k=Z(k,1),C=Z(C,1)}return R=J(x,M.j(R)),new ae(M,R)}for(M=S;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=g(C),I=P.j(R);Y(I)||I.l(x)>0;)C-=k,P=g(C),I=P.j(R);z(P)&&(P=w),M=M.add(P),x=J(x,I)}return new ae(M,x)}r.B=function(x){return re(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&x.i(k);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|x.i(k);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^x.i(k);return new f(C,this.h^x.h)};function pe(x){const R=x.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(C,x.h)}function Z(x,R){const C=R>>5;R%=32;const k=x.g.length-C,M=[];for(let P=0;P<k;P++)M[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new f(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,eT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,as=f}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tT,zl,nT,sh,zm,iT,rT,sT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return y.prototype[j].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function z(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let oe=0;oe<G;oe++)c[v+oe]=j[oe]}else c.push(j)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function J(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,v){const A=ae.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Z=!1,x=new se,R=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(C)}};function C(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){H(v)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Z=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(Ye,M),Ye.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),K=0;function X(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++K,this.da=this.fa=!1}function ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _e(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Se(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function O(c){const y={};for(const v in c)y[v]=c[v];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let G=0;G<ne.length;G++)v=ne[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,v,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=xe(c,y,A,j);return oe>-1?(y=c[oe],v||(y.fa=!1)):(y=new X(y,this.src,G,!!A,j),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(ue(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==A)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,y,v,A,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,A,j);return null}return v=Mo(v),c&&c[tt]?c.J(y,v,m(A)?!!A.capture:!1,j):vs(c,y,v,!1,A,j)}function vs(c,y,v,A,j,G){if(!y)throw Error("Invalid event type");const oe=m(j)?!!j.capture:!!j;let Ce=Es(c);if(Ce||(c[je]=Ce=new fe(c)),v=Ce.add(y,v,A,oe,G),v.proxy)return v;if(A=ha(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(oi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return y.call(c.src,c.listener,v)}const y=No;return c}function fa(c,y,v,A,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)fa(c,y[G],v,A,j);else A=m(A)?!!A.capture:!!A,v=Mo(v),c&&c[tt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=xe(y,v,A,j),v>-1&&(ue(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,A,j)),(v=c>-1?y[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[tt])be(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(oi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Es(y))?(be(v,c),v.h==0&&(v.src=null,y[je]=null)):ue(c)}}}function oi(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function No(c,y){if(c.da)c=!0;else{y=new Ye(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&da(c),c=v.call(A,y)}return c}function Es(c){return c=c[je],c instanceof fe?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function Et(){k.call(this),this.i=new fe(this),this.M=this,this.G=null}S(Et,k),Et.prototype[tt]=!0,Et.prototype.removeEventListener=function(c,y,v,A){fa(this,c,y,v,A)};function Mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var j=y;y=new M(A,c),le(y,j)}j=!0;let G,oe;if(v)for(oe=v.length-1;oe>=0;oe--)G=y.g=v[oe],j=vr(G,A,!0,y)&&j;if(G=y.g=c,j=vr(G,A,!0,y)&&j,j=vr(G,A,!1,y)&&j,v)for(oe=0;oe<v.length;oe++)G=y.g=v[oe],j=vr(G,A,!1,y)&&j}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ue(v[A]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Et.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function vr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const oe=y[G];if(oe&&!oe.da&&oe.capture==v){const Ce=oe.listener,gt=oe.ha||oe.src;oe.fa&&be(c.i,oe),j=Ce.call(gt,A)!==!1&&j}}return j&&!A.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Eu(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){k.call(this),this.h=c,this.g={}}S(Ts,k);var Vo=[];function ko(c){_e(c.g,function(y,v){this.g.hasOwnProperty(v)&&da(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),ko(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,pf=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function bu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){M.call(this,"d")}S(Bt,M);function Cn(){M.call(this,"c")}S(Cn,M);var pt={},Au=null;function ma(){return Au=Au||new Et}pt.Ia="serverreachability";function wu(c){M.call(this,pt.Ia,c)}S(wu,M);function li(c){const y=ma();Mt(y,new wu(y))}pt.STAT_EVENT="statevent";function Ss(c,y){M.call(this,pt.STAT_EVENT,c),this.stat=y}S(Ss,M);function Tt(c){const y=ma();Mt(y,new Ss(y,c))}pt.Ja="timingevent";function ui(c,y){M.call(this,pt.Ja,c),this.size=y}S(ui,M);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function gf(c,y,v,A,j,G){c.info(function(){if(c.g)if(G){var oe="",Ce=G.split("&");for(let He=0;He<Ce.length;He++){var gt=Ce[He].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Nn=ot.split("_");oe=Nn.length>=2&&Nn[1]=="type"?oe+(ot+"="+gt+"&"):oe+(ot+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+oe})}function Ru(c,y,v,A,j,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+oe})}function hi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(c,v)+(A?" "+A:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function yf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Er(G)}catch{return y}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function ws(){}S(ws,Su),ws.prototype.g=function(){return new XMLHttpRequest},Lo=new ws;function Ui(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Yn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function fi(c,y,v){c.M=1,c.A=Rs(At(y)),c.u=v,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),di(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Vo[0]=j.toString()),j=Vo);for(let G=0;G<j.length;G++){const oe=at(v,j[G],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),li(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=$n(this.g),gt=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||He<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var v=_f(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(c=G)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),In(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=xu(this,v),ot==Lt){Ce==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,Tt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ot,null),pi(this,ot);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(oe),oe.P=!0,Tt(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ce==4&&gn(this),this.o&&!this.K&&(Ce==4?Uu(this.j,this):(this.o=!1,di(this)))}else zi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),In(this)}}}catch{}finally{}};function _f(c){if(!Iu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const A=y.length,j=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(j&&G==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?St:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Yn.prototype.cancel=function(){this.K=!0,gn(this)};function di(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),y)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(li(),Tt(17)),gn(this),this.m=2,In(this)):ga(this,this.T-c)};function In(c){c.j.I==0||c.K||Uu(c.j,c)}function gn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),Ir(v);else break e;Ms(v),Tt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(g(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Aa(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let He=j[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Nn=He[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ai=He[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Wn=He[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(A=1.5*Wn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Jn=c.g;if(Jn){const Vs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var G=A.h;G.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(zo(G,G.h),G.h=null))}if(A.G){const wa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Qe(A.J,A.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),oe.L){Bo(A.h,oe);var Ce=oe,gt=A.O;gt&&(Ce.H=gt),Ce.D&&(mi(Ce),di(Ce)),A.g=oe}else Pu(A);v.i.length>0&&Si(v)}else He[0]!="stop"&&He[0]!="close"||bi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?bi(v,7):$o(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}li(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function zo(c,y){c.g?c.g.add(y):c.h=y}function Bo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return N(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,G=null;A>=0?(j=c[v].substring(0,A),G=c[v].substring(A+1)):j=c[v],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Ho(this,Vu(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),Tr(this,y[4]),this.h=_i(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Cs(y,_a,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,_a,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?Fo:Nu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?Ut(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Tr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let oe=0;oe<j.length;){const Ce=j[oe++];Ce=="."?A&&oe==j.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==j.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Ho(y,Vu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new yn(c)}function Ut(c,y,v){c.j=v?_i(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,v){y instanceof br?(c.i=y,Ea(c.i,c.l)):(v||(y=Cs(y,Sr)),c.i=new br(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Rs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Nu=/[#\?:]/g,Fo=/[#\?]/g,Sr=/[#\?@]/g,Ou=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=br.prototype,r.add=function(c,y){an(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Mu(c,y){an(c),y=Ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return an(c),y=Ar(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Yo(c,y){an(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(Ar(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return an(this),this.i=null,c=Ar(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function va(c,y,v){Mu(c,y),v.length>0&&(c.i=null,c.g.set(Ar(c,y),N(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=Ui(v);v=Yo(this,v);for(let G=0;G<v.length;G++){let oe=j;v[G]!==""&&(oe+="="+Ui(v[G])),c.push(oe)}}return this.i=c.join("&")};function Vu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Mu(this,A),va(this,j,v))},c)),c.j=y}function Kn(c,y){const v=new Gn;if(f.Image){const A=new Image;A.onload=E(xn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(xn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(xn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Qo(c,y){const v=new Gn,A=new AbortController,j=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function wr(){this.g=new Tu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vi,Su),vi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Is,Et),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Rr(this):Xn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return _e(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function xs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&Ui(v):Qe(c,y,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,Et);var Ei=/^https?$/i,Ko=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ds(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ds(this,G)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),ji(c)}function Xo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=G===0){let oe=String(c.D).match(Du)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Ei.test(oe?oe.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=$n(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Xo(c)}}finally{ji(c)}}}}function ji(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Cu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}Se(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Cr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Tt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),Si(this)};function $o(c){if(Sa(c),c.I==3){var y=c.V++,v=At(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),Os(c,v),y=new Yn(c,c.j,y),y.M=2,y.A=Rs(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}zu(c)}function Ir(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Sa(c){Ir(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;pe||R(),Z||(pe(),Z=!0),x.add(y,c),c.D=0}}function ba(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Yn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),v=At(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Os(this,v),G&&(this.R?y="headers="+Ui(Dn(G))+"&"+y:this.u&&xs(v,this.u,G)),zo(this.h,j),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),j.U=!0,fi(j,v,null)):fi(j,v,y),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||jo(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),Os(c,A),c.u&&c.o&&xs(A,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zo(c.h,v),fi(v,A,y)}function Os(c,y){c.H&&_e(c.H,function(v,A){Qe(y,A,v)}),c.l&&_e({},function(v,A){Qe(y,A,v)})}function ku(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=j[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let He=!0;for(let ot=0;ot<v;ot++){var G=j[ot].g;const Nn=j[ot].map;if(G-=Ce,G<0)Ce=Math.max(0,j[ot].g-100),He=!1;else try{G="req"+G+"_"||"";try{var oe=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,Wn]of oe){let Jn=Wn;m(Wn)&&(Jn=Er(Wn)),gt.push(G+Ai+"="+encodeURIComponent(Jn))}}catch(Ai){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Nn)}}if(He){oe=gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),y.G=c,oe}function Pu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pe||R(),Z||(pe(),Z=!0),x.add(y,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ir(this),Lu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Os(c,y),c.u&&c.o&&xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(At(y)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ms(this),Tt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,y){var v=null;if(c.g==y){Aa(c),Jo(c),c.g=null;var A=2}else if(yi(c.h,y))v=y.G,Bo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ma(),Mt(A,new ui(A,v)),Si(c)}else Pu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&ba(c,y)||A==2&&Ms(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(A,"https"),Rs(A),j?Kn(A.toString(),v):Qo(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),zu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,v){var A=v instanceof yn?At(v):new yn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Tr(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new yn(null);A&&Ut(G,A),y&&(G.g=y),j&&Tr(G,j),v&&(G.h=v),A=G}return v=c.G,y=c.wa,v&&y&&Qe(A,v,y),Qe(A,"VER",c.ka),Os(c,A),A}function qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new vi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Et.call(this),this.g=new Cr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}S(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Er(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&Si(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.Z.N.call(this)};function Fu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Fu,Bt);function Gu(){Cn.call(this),this.status=1}S(Gu,Cn);function Bi(c){this.g=c}S(Bi,Hu),Bi.prototype.ra=function(){Mt(this.g,"a")},Bi.prototype.qa=function(c){Mt(this.g,new Fu(c))},Bi.prototype.pa=function(c){Mt(this.g,new Gu)},Bi.prototype.oa=function(){Mt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,sT=function(){return new xr},rT=function(){return ma()},iT=pt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,sh=As,Po.COMPLETE="complete",nT=Po,bu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,zl=bu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,tT=$e}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const o0="@firebase/firestore",l0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let wo="12.3.0";const ta=new _p("@firebase/firestore");function io(){return ta.logLevel}function he(r,...e){if(ta.logLevel<=ke.DEBUG){const n=e.map(Tp);ta.debug(`Firestore (${wo}): ${r}`,...n)}}function dr(r,...e){if(ta.logLevel<=ke.ERROR){const n=e.map(Tp);ta.error(`Firestore (${wo}): ${r}`,...n)}}function mo(r,...e){if(ta.logLevel<=ke.WARN){const n=e.map(Tp);ta.warn(`Firestore (${wo}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,aT(r,s,n)}function aT(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||aT(e,o,s)}function Re(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class fC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new oT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class mC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return wm(o)===wm(u)?Pe(o,u):wm(o)?1:-1}return Pe(r.length,e.length)}const _C=55296,vC=57343;function wm(r){const e=r.charCodeAt(0);return e>=_C&&e<=vC}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const c0="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class nt extends xi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return EC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new Kt([c0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function lT(r,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TC(r,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function h0(r){if(!ye.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f0(r){if(ye.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(r);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function cu(r,e){if(!uT(r))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}const d0=-62135596800,m0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*m0);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Nt("string",st._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function SC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new us(o,ye.empty(),e)}function bC(r){return new us(r.readTime,r.key,Zl)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Ae.min(),ye.empty(),Zl)}static max(){return new us(Ae.max(),ye.empty(),Zl)}}function AC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==wC)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const bp=-1;function Fh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function IC(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const cT="";function xC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=p0(e)),e=DC(r.get(n),e);return p0(e)}function DC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case cT:n+="";break;default:n+=u}}return n}function p0(r){return r+cT+""}function g0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function hT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const NC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=NC.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const dT="server_timestamp",mT="__type__",pT="__previous_value__",gT="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[mT]?.stringValue===dT}function Gh(r){const e=r.mapValue.fields[pT];return Ap(e)?Gh(e):e}function eu(r){const e=cs(r.mapValue.fields[gT].timestampValue);return new st(e.seconds,e.nanos)}class OC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Eh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const yT="__type__",MC="__max__",Jc={mapValue:{}},_T="__vector__",Th="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:kC(r)?9007199254740991:VC(r)?10:11:Te(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(g0(f)!==g0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Pi(f[p],m[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return _0(r.timestampValue,e.timestampValue);case 4:return _0(eu(r),eu(e));case 5:return Bm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=hs(u),p=hs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(vt(u.latitude),vt(f.latitude));return m!==0?m:Pe(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return v0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Th]?.arrayValue,E=p[Th]?.arrayValue,S=Pe(g?.values?.length||0,E?.values?.length||0);return S!==0?S:v0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=Bm(p[S],E[S]);if(w!==0)return w;const N=go(m[p[S]],g[E[S]]);if(N!==0)return N}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function _0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=cs(r),s=cs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function v0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function yo(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function ah(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ps(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function E0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hm(r){return!!r&&"integerValue"in r}function wp(r){return!!r&&"arrayValue"in r}function T0(r){return!!r&&"nullValue"in r}function S0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function VC(r){return(r?.mapValue?.fields||{})[yT]?.stringValue===_T}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function kC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MC}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Yl(this.value))}}function vT(r){const e=[];return ps(r.fields,((n,s)=>{const o=new Kt([n]);if(oh(s)){const u=vT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function b0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function A0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function PC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ET{}class Dt extends ET{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UC(e,n,s):n==="array-contains"?new BC(e,s):n==="in"?new qC(e,s):n==="not-in"?new HC(e,s):n==="array-contains-any"?new FC(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jC(e,s):new zC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends ET{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return TT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TT(r){return r.op==="and"}function ST(r){return LC(r)&&TT(r)}function LC(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Fm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(ST(r))return r.filters.map((e=>Fm(e))).join(",");{const e=r.filters.map((n=>Fm(n))).join(",");return`${r.op}(${e})`}}function bT(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&bT(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function AT(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(AT).join(" ,")+"}"})(r):"Filter"}class UC extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class jC extends Dt{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wT(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class BC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&nu(n.arrayValue,this.value)}}class qC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class HC extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class FC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class GC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function w0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new GC(r,e,n,s,o,u,f)}function Rp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!A0(r.startAt,e.startAt)&&A0(r.endAt,e.endAt)}function Gm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YC(r,e,n,s,o,u,f,m){return new hu(r,e,n,s,o,u,f,m)}function Yh(r){return new hu(r)}function R0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RT(r){return r.collectionGroup!==null}function Ql(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new bh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new bh(Kt.keyField(),s))}return e.Ie}function Di(r){const e=Re(r);return e.Ee||(e.Ee=QC(e,Ql(r))),e.Ee}function QC(r,e){if(r.limitType==="F")return w0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return w0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ym(r,e){const n=r.filters.concat([e]);return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qh(r,e){return Cp(Di(r),Di(e))&&r.limitType===e.limitType}function CT(r){return`${Rp(Di(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>AT(o))).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Ql(s),o))})(r,e)}function KC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IT(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=XC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}const $C=new ht(ye.comparator);function mr(){return $C}const xT=new ht(ye.comparator);function Bl(...r){let e=xT;for(const n of r)e=e.insert(n.key,n);return e}function DT(r){let e=xT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Kl()}function NT(){return Kl()}function Kl(){return new aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const WC=new ht(ye.comparator),JC=new kt(ye.comparator);function Le(...r){let e=JC;for(const n of r)e=e.add(n);return e}const ZC=new kt(Pe);function e2(){return ZC}function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function OT(r){return{integerValue:""+r}}function t2(r,e){return IC(e)?OT(e):Ip(r,e)}class Xh{constructor(){this._=void 0}}function n2(r,e,n){return r instanceof Ah?(function(o,u){const f={fields:{[mT]:{stringValue:dT},[gT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Gh(u)),u&&(f.fields[pT]=u),{mapValue:f}})(n,e):r instanceof _o?VT(r,e):r instanceof iu?kT(r,e):(function(o,u){const f=MT(o,u),m=C0(f)+C0(o.Ae);return Hm(f)&&Hm(o.Ae)?OT(m):Ip(o.serializer,m)})(r,e)}function i2(r,e,n){return r instanceof _o?VT(r,e):r instanceof iu?kT(r,e):n}function MT(r,e){return r instanceof wh?(function(s){return Hm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ah extends Xh{}class _o extends Xh{constructor(e){super(),this.elements=e}}function VT(r,e){const n=PT(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Xh{constructor(e){super(),this.elements=e}}function kT(r,e){let n=PT(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class wh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function C0(r){return vt(r.integerValue||r.doubleValue)}function PT(r){return wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class r2{constructor(e,n){this.field=e,this.transform=n}}function s2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _o&&o instanceof _o||s instanceof iu&&o instanceof iu?po(s.elements,o.elements,Pi):s instanceof wh&&o instanceof wh?Pi(s.Ae,o.Ae):s instanceof Ah&&o instanceof Ah})(r.transform,e.transform)}class a2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function LT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xp(r.key,qn.none()):new fu(r.key,r.data,qn.none());{const n=r.data,s=mn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new wn(o.toArray()),qn.none())}}function o2(r,e,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),p=x0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof gs?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=x0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(UT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(r,e,n,s){return r instanceof fu?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=u.value.clone(),E=D0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof gs?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=D0(u.fieldTransforms,p,f),E=f.data;return E.setAll(UT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function l2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=MT(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function I0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>s2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function x0(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,i2(f,m,n[o]))}return s}function D0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,n2(u,f,e))}return s}class xp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u2 extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&o2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=NT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=LT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>I0(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>I0(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return WC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}class h2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f2{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,ze;function d2(r){switch(r){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function jT(r){if(r===void 0)return dr("GRPC error has no .code"),te.UNKNOWN;switch(r){case xt.OK:return te.OK;case xt.CANCELLED:return te.CANCELLED;case xt.UNKNOWN:return te.UNKNOWN;case xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case xt.INTERNAL:return te.INTERNAL;case xt.UNAVAILABLE:return te.UNAVAILABLE;case xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case xt.NOT_FOUND:return te.NOT_FOUND;case xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case xt.ABORTED:return te.ABORTED;case xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case xt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=xt||(xt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function m2(){return new TextEncoder}const p2=new as([4294967295,4294967295],0);function N0(r){const e=m2().encode(r),n=new eT;return n.update(e),new Uint8Array(n.digest())}function O0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(p2)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N0(e),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=N0(e),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Ae.min(),o,new ht(Pe),mr(),Le())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Le(),Le(),Le())}}class uh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class zT{constructor(e,n){this.targetId=e,this.Ce=n}}class BT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class M0{constructor(){this.ve=0,this.Fe=V0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=V0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g2{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ht(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Gm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,Ae.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(p){if(p instanceof fT)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(f,o,u)}catch(p){return mo(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Gm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ht(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new M0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ht(ye.comparator)}function V0(){return new ht(ye.comparator)}const y2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v2={and:"AND",or:"OR"};class E2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function T2(r,e){return Rh(r,e.toTimestamp())}function Ni(r){return Ge(!!r,49232),Ae.fromTimestamp((function(n){const s=cs(n);return new st(s.seconds,s.nanos)})(r))}function Op(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function HT(r){const e=nt.fromString(r);return Ge(KT(e),10190,{key:e.toString()}),e}function $m(r,e){return Op(r.databaseId,e.path)}function Rm(r,e){const n=HT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(GT(n))}function FT(r,e){return Op(r.databaseId,e)}function S2(r){const e=HT(r);return e.length===4?nt.emptyPath():GT(e)}function Wm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k0(r,e,n){return{name:$m(r,e),fields:n.value.mapValue.fields}}function b2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?te.UNKNOWN:jT(g.code);return new ce(E,g.message||"")})(f);n=new BT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):Ae.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(r,s.document),u=s.readTime?Ni(s.readTime):Ae.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new f2(o,u),m=s.targetId;n=new zT(m,f)}}return n}function A2(r,e){let n;if(e instanceof fu)n={update:k0(r,e.key,e.value)};else if(e instanceof xp)n={delete:$m(r,e.key)};else if(e instanceof gs)n={update:k0(r,e.key,e.data),updateMask:M2(e.fieldMask)};else{if(!(e instanceof u2))return Te(16599,{Vt:e.type});n={verify:$m(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:T2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function w2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(Ae.min())&&(f=Ni(u)),new a2(f,o.transformResults||[])})(n,e)))):[]}function R2(r,e){return{documents:[FT(r,e.path)]}}function C2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FT(r,o);const u=(function(g){if(g.length!==0)return QT(ri.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:so(w.field),direction:D2(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function I2(r){let e=S2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=YT(S);return w instanceof ri&&ST(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(z){return new bh(ao(z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Fh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(S){const w=!!S.before,N=S.values||[];return new Sh(N,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const w=!S.before,N=S.values||[];return new Sh(N,w)})(n.endAt)),YC(e,o,f,u,m,"F",p,g)}function x2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>YT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function D2(r){return y2[r]}function N2(r){return _2[r]}function O2(r){return v2[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Kt.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:N2(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>QT(o)));return s.length===1?s[0]:{compositeFilter:{op:O2(n.op),filters:s}}})(r):Te(54877,{filter:r})}function M2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ns{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class V2{constructor(e){this.yt=e}}function k2(r){const e=I2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class P2{constructor(){this.Cn=new L2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(us.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class L2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(XT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const L0="LruGarbageCollector",U2=1048576;function U0([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class j2{constructor(e){this.Ir=e,this.buffer=new kt(U0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?he(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Vr(3e5)}))}}class B2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Hh.ce);const s=new j2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(P0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),io()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function q2(r,e){return new B2(r,e)}class H2{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class G2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,wn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Ws();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=mr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Xl(E.mutation,g,E.mutation.getFieldMask(),st.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new F2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new ht(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=NT();E.forEach((w=>{if(!u.has(w)){const N=LT(n.get(w),s.get(w));N!==null&&S.set(w,N),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Ws());let m=Zl,p=u;return f.next((g=>ie.forEach(g,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((E=>({batchId:m,changes:DT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(S,w){return new hu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Xl(E.mutation,g,wn.empty(),st.now()),Kh(n,g)&&(m=m.insert(p,g))})),m}))}}class Y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:k2(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),ie.resolve()}}class Q2{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ws(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new h2(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class K2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Mp{constructor(){this.Qr=new kt(zt.$r),this.Ur=new kt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new c2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Pe);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new kt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $2{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||AC(bC(E),s)<=0||(o.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new W2(this)}getSize(e){return ie.resolve(this.size)}}class W2 extends H2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class J2{constructor(e){this.persistence=e,this.si=new aa((n=>Rp(n)),Cp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class $T{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new K2,this.referenceDelegate=e(this),this.Pi=new J2(this),this.indexManager=new P2,this.remoteDocumentCache=(function(o){return new $2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new V2(n),this.Ii=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new X2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new Z2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Z2 extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new aa((s=>xC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=q2(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gw()?8:CC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(io()<=ke.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ie.resolve())}ys(e,n){if(R0(n))return ie.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return R0(n)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(io()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,SC(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new kt(IT(e));return n.forEach(((o,u)=>{Kh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Pp="LocalStore",nI=3e8;class iI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Pe),this.xs=new aa((u=>Rp(u)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rI(r,e,n,s){return new iI(r,e,n,s)}async function WT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function sI(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const S=g.batch,w=S.keys();let N=ie.resolve();return w.forEach((z=>{N=N.next((()=>E.getEntry(p,z))).next((Y=>{const H=g.docVersions.get(z);Ge(H!==null,48541),Y.version.compareTo(H)<0&&(S.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function JT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function aI(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(S,N),(function(Y,H,J){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=nI?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,N,E)&&m.push(n.Pi.updateTargetData(u,N))}));let p=mr(),g=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(oI(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function oI(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function lI(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function uI(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Co(f))throw f;he(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function j0(r,e,n){const s=Re(r);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const S=Re(p),w=S.xs.get(E);return w!==void 0?ie.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,E)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Le()))).next((m=>(cI(s,KC(e),m),{documents:m,Qs:u})))))}function cI(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class z0{constructor(){this.activeTargetIds=e2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.Mo=new z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new z0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fI{Oo(e){}shutdown(){}}const B0="ConnectivityMonitor";class q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(B0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(B0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function Zm(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const Cm="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Zm(),m=this.zo(e,n.toUriEncodedString());he(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=bo(g);return this.Jo(e,m,p,s,E).then((S=>(he(Cm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw mo(Cm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=dI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class pI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class gI extends mI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Zm();return new Promise(((m,p)=>{const g=new tT;g.setWithCredentials(!0),g.listenOnce(nT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const S=g.getResponseJson();he(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case sh.TIMEOUT:he(Wt,`RPC '${e}' ${f} timed out`),p(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=g.getStatus();if(he(Wt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const z=N?.error;if(z&&z.status&&z.message){const Y=(function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN})(z.status);p(new ce(Y,z.message))}else p(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(Wt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=sT(),m=rT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let w=!1,N=!1;const z=new pI({Yo:H=>{N?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),Y=(H,J,se)=>{H.listen(J,(ae=>{try{se(ae)}catch(re){setTimeout((()=>{throw re}),0)}}))};return Y(S,zl.EventType.OPEN,(()=>{N||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),Y(S,zl.EventType.CLOSE,(()=>{N||(N=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(S))})),Y(S,zl.EventType.ERROR,(H=>{N||(N=!0,mo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),z.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),Y(S,zl.EventType.MESSAGE,(H=>{if(!N){const J=H.data[0];Ge(!!J,16349);const se=J,ae=se?.error||se[0]?.error;if(ae){he(Wt,`RPC '${e}' stream ${o} received error:`,ae);const re=ae.status;let pe=(function(R){const C=xt[R];if(C!==void 0)return jT(C)})(re),Z=ae.message;pe===void 0&&(pe=te.INTERNAL,Z="Unknown error status: "+re+" with message "+ae.message),N=!0,z.a_(new ce(pe,Z)),S.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,J),z.u_(J)}})),Y(m,iT.STAT_EVENT,(H=>{H.stat===zm.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===zm.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}function Jh(r){return new E2(r,!0)}class ZT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const H0="PersistentStream";class e1{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(H0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(H0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends e1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ni(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Gm(p)?{documents:R2(u,p)}:{query:C2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qT(u,f.resumeToken);const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=x2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class _I extends e1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=w2(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>A2(this.serializer,s)))};this.q_(n)}}class vI{}class EI extends vI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Xm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Xm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class SI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(he(na,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zh(g)})(this))}))})),this.Ra=new TI(s,o)}}async function Zh(r){if(oa(r))for(const e of r.da)await e(!0)}async function mu(r){for(const e of r.da)await e(!1)}function t1(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?jp(n):Io(n).O_()&&Up(n,e))}function Lp(r,e){const n=Re(r),s=Io(n);n.Ia.delete(e),s.O_()&&n1(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function n1(r,e){r.Va.Ue(e),Io(r).Z_(e)}function jp(r){r.Va=new g2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function zp(r){return oa(r)&&!Io(r).x_()&&r.Ia.size>0}function oa(r){return Re(r).Ea.size===0}function i1(r){r.Va=void 0}async function bI(r){r.Ra.set("Online")}async function AI(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function wI(r,e){i1(r),zp(r)?(r.Ra.ha(e),jp(r)):r.Ra.set("Unknown")}async function RI(r,e,n){if(r.Ra.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof uh?r.Va.Ze(e):e instanceof zT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await JT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),n1(u,p);const S=new ns(E.target,p,g,E.sequenceNumber);Up(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(na,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!Co(e))throw e;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zh(r)}))}function r1(r,e){return e().catch((n=>Ih(r,n,e)))}async function ef(r){const e=Re(r),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;CI(e);)try{const o=await lI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,II(e,o)}catch(o){await Ih(e,o)}s1(e)&&a1(e)}function CI(r){return oa(r)&&r.Ta.length<10}function II(r,e){r.Ta.push(e);const n=ds(r);n.O_()&&n.X_&&n.ea(e.mutations)}function s1(r){return oa(r)&&!ds(r).x_()&&r.Ta.length>0}function a1(r){ds(r).start()}async function xI(r){ds(r).ra()}async function DI(r){const e=ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function NI(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await r1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function OI(r,e){e&&ds(r).X_&&await(async function(s,o){if((function(f){return d2(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await r1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),s1(r)&&a1(r)}async function F0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(na,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function MI(r,e){const n=Re(r);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:bI.bind(null,r),t_:AI.bind(null,r),r_:wI.bind(null,r),H_:RI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),i1(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new _I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xI.bind(null,r),r_:OI.bind(null,r),ta:DI.bind(null,r),na:NI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(he(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(dr("AsyncQueue",`${e}: ${r}`),Co(r))return new ce(te.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class G0{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kI{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=Y0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function Y0(){return new aa((r=>CT(r)),Qh)}async function Hp(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new VI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=qp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function Fp(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PI(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function LI(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gp(r){r.Ca.forEach((e=>{e.next()}))}var ep,Q0;(Q0=ep||(ep={})).Ma="default",Q0.Cache="cache";class Yp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class o1{constructor(e){this.key=e}}class l1{constructor(e){this.key=e}}class UI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=IT(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new G0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),N=Kh(this.query,S)?S:null,z=!!w&&this.mutatedKeys.has(w.key),Y=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let H=!1;w&&N?w.data.isEqual(N.data)?z!==Y&&(s.track({type:3,doc:N}),H=!0):this.su(w,N)||(s.track({type:2,doc:N}),H=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!w&&N?(s.track({type:0,doc:N}),H=!0):w&&!N&&(s.track({type:1,doc:w}),H=!0,(p||g)&&(m=!0)),H&&(N?(f=f.add(N),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(N,z){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:H})}};return Y(N)-Y(z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new l1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new o1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class jI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zI{constructor(e){this.key=e,this.hu=!1}}class BI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((m=>CT(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(r,e,n=!0){const s=m1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await u1(s,e,n,!0),o}async function HI(r,e){const n=m1(r);await u1(n,e,!0,!1)}async function u1(r,e,n,s){const o=await uI(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await FI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&t1(r.remoteStore,o),m}async function FI(r,e,n,s,o){r.pu=(S,w,N)=>(async function(Y,H,J,se){let ae=H.view.ru(J);ae.Cs&&(ae=await j0(Y.localStore,H.query,!1).then((({documents:x})=>H.view.ru(x,ae))));const re=se&&se.targetChanges.get(H.targetId),pe=se&&se.targetMismatches.get(H.targetId)!=null,Z=H.view.applyChanges(ae,Y.isPrimaryClient,re,pe);return X0(Y,H.targetId,Z.au),Z.snapshot})(r,S,w,N);const u=await j0(r.localStore,e,!0),f=new UI(e,u.Qs),m=f.ru(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);X0(r,n,g.au);const E=new jI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function GI(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),tp(s,o.targetId)})).catch(Ro)):(tp(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function YI(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function QI(r,e,n){const s=ex(r);try{const o=await(function(f,m){const p=Re(f),g=st.now(),E=m.reduce(((N,z)=>N.add(z.key)),Le());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let z=mr(),Y=Le();return p.Ns.getEntries(N,E).next((H=>{z=H,z.forEach(((J,se)=>{se.isValidDocument()||(Y=Y.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,z))).next((H=>{S=H;const J=[];for(const se of m){const ae=l2(se,S.get(se.key).overlayedDocument);ae!=null&&J.push(new gs(se.key,ae,vT(ae.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,J,m)})).next((H=>{w=H;const J=H.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(N,H.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:DT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ht(Pe)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await pu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function c1(r,e){const n=Re(r);try{const s=await aI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await pu(n,s,e)}catch(s){await Ro(s)}}function K0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(g=!0)})),g&&Gp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KI(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,Ae.min()));const m=Le().add(u),p=new Wh(Ae.min(),new Map,new ht(Pe),f,m);await c1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Kp(s)}else await Jm(s.localStore,e,!1).then((()=>tp(s,e,n))).catch(Ro)}async function XI(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await sI(n.localStore,e);f1(n,s,null),h1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Ro(o)}}async function $I(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Ge(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);f1(s,e,n),h1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await Ro(o)}}function h1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function f1(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function tp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||d1(r,s)}))}function d1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Kp(r))}function X0(r,e,n){for(const s of n)s instanceof o1?(r.Ru.addReference(s.key,e),WI(r,s)):s instanceof l1?(he(Qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||d1(r,s.key)):Te(19791,{wu:s})}function WI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Qp,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new zI(n)),r.du=r.du.insert(n,s),t1(r.remoteStore,new ns(Di(Yh(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function pu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=kp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ie.forEach(g,(w=>ie.forEach(w.Es,(N=>E.persistence.referenceDelegate.addReference(S,w.targetId,N))).next((()=>ie.forEach(w.ds,(N=>E.persistence.referenceDelegate.removeReference(S,w.targetId,N)))))))))}catch(S){if(!Co(S))throw S;he(Pp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const N=E.Ms.get(w),z=N.snapshotVersion,Y=N.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function JI(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(Qp,"User change. New user:",e.toKey());const s=await WT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function ZI(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function m1(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=c1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KI.bind(null,e),e.Pu.H_=PI.bind(null,e.eventManager),e.Pu.yu=LI.bind(null,e.eventManager),e}function ex(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rI(this.persistence,new tI,e.initialUser,this.serializer)}Cu(e){return new $T(Vp.mi,this.serializer)}Du(e){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class tx extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new z2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new $T((s=>Ch.mi(s,n)),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kI})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(u){return new gI(u)})(e.databaseInfo);return(function(u,f,m,p){return new EI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new SI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>K0(this.syncEngine,n,0)),(function(){return q0.v()?new q0:new fI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const S=new BI(o,u,f,m,p,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);he(na,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class Xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ms="FirestoreClient";class nx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await WT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function $0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ix(r);he(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>F0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>F0(e.remoteStore,o))),r._onlineComponents=e}async function ix(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ms,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new xh)}}else he(ms,"Using default OfflineComponentProvider"),await xm(r,new tx(void 0));return r._offlineComponents}async function p1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ms,"Using user provided OnlineComponentProvider"),await $0(r,r._uninitializedComponentsProvider._online)):(he(ms,"Using default OnlineComponentProvider"),await $0(r,new np))),r._onlineComponents}function rx(r){return p1(r).then((e=>e.syncEngine))}async function Dh(r){const e=await p1(r),n=e.eventManager;return n.onListen=qI.bind(null,e.syncEngine),n.onUnlisten=GI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}function sx(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Xp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Fp(u,S)));const N=w.docs.has(m);!N&&w.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new Yp(Yh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Hp(u,S)})(await Dh(r),r.asyncQueue,e,n,s))),s.promise}function ax(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Xp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Fp(u,S))),w.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new Yp(m,E,{includeMetadataChanges:!0,qa:!0});return Hp(u,S)})(await Dh(r),r.asyncQueue,e,n,s))),s.promise}function g1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const W0=new Map;const y1="firestore.googleapis.com",J0=!0;class Z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=J0}else this.host=e.host,this.ssl=e.ssl??J0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U2)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hC;switch(s.type){case"firstParty":return new pC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=W0.get(n);s&&(he("ComponentProvider","Removing Datastore"),W0.delete(n),s.terminate())})(this),Promise.resolve()}}function ox(r,e,n,s={}){r=pn(r,tf);const o=bo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(YE(`https://${m}`),QE("Firestore",!0)),u.host!==y1&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ls(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=Pw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}r._authCredentials=new fC(new oT(g,E))}}class la{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(cu(n,mt._jsonSchema))return new mt(e,s||null,new ye(nt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Nt("string",mt._jsonSchemaVersion),referencePath:Nt("string")};class os extends la{constructor(e,n,s){super(e,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function ni(r,e,...n){if(r=Pt(r),lT("collection","path",e),r instanceof tf){const s=nt.fromString(e,...n);return f0(s),new os(r,null,s)}{if(!(r instanceof mt||r instanceof os))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return f0(s),new os(r.firestore,null,s)}}function dn(r,e,...n){if(r=Pt(r),arguments.length===1&&(e=Sp.newId()),lT("doc","path",e),r instanceof tf){const s=nt.fromString(e,...n);return h0(s),new mt(r,null,new ye(s))}{if(!(r instanceof mt||r instanceof os))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return h0(s),new mt(r.firestore,r instanceof os?r.converter:null,new ye(s))}}const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&he(eE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;he(eE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",nE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function iE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class pr extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function lx(r,e){const n=typeof r=="object"?r:WE(),s=typeof r=="string"?r:Eh,o=Ep(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Vw("firestore");u&&ox(o,...u)}return o}function nf(r){if(r._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ux(r),r._firestoreClient}function ux(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new OC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,g1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Nt("string",Bn._jsonSchemaVersion),bytes:Nt("string")};class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sf{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),vectorValues:Nt("object")};const cx=/^__.*__$/;class hx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class _1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class af{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new af({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v1(this.Ac)&&cx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new af({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(r){const e=r._freezeSettings(),n=Jh(r._databaseId);return new fx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function E1(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Wp("Data must be an object, but it was:",f,s);const m=T1(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=ip(e,S,n);if(!f.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);b1(E,w)||E.push(w)}p=new wn(E),g=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=f.fieldTransforms;return new hx(new mn(m),p,g)}class lf extends sf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function dx(r,e,n){return new af({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $p extends sf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=dx(this,e,!0),s=this.vc.map((u=>xo(u,n))),o=new _o(s);return new r2(e.path,o)}isEqual(e){return e instanceof $p&&ls(this.vc,e.vc)}}function mx(r,e,n,s){const o=r.Cc(1,e,n);Wp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ps(s,((p,g)=>{const E=Jp(e,p,n);g=Pt(g);const S=o.yc(E);if(g instanceof lf)u.push(E);else{const w=xo(g,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new wn(u);return new _1(f,m,o.fieldTransforms)}function px(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[ip(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ip(e,u[w])),p.push(u[w+1]);const g=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!b1(g,m[w])){const N=m[w];let z=p[w];z=Pt(z);const Y=f.yc(N);if(z instanceof lf)g.push(N);else{const H=xo(z,Y);H!=null&&(g.push(N),E.set(N,H))}}const S=new wn(g);return new _1(E,S,f.fieldTransforms)}function gx(r,e,n,s=!1){return xo(n,r.Cc(s?4:3,e))}function xo(r,e){if(S1(r=Pt(r)))return Wp("Unsupported field value:",e,r),T1(r,e);if(r instanceof sf)return(function(s,o){if(!v1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=xo(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return t2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:qT(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,m){return{mapValue:{fields:{[yT]:{stringValue:_T},[Th]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ip(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qh(s)}`)})(r,e)}function T1(r,e){const n={};return hT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,((s,o)=>{const u=xo(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function S1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Oi||r instanceof Bn||r instanceof mt||r instanceof sf||r instanceof Mi)}function Wp(r,e,n){if(!S1(n)||!uT(n)){const s=qh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ip(r,e,n){if((e=Pt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const yx=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(yx)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+r+p)}function b1(r,e){return r.some((n=>n.isEqual(e)))}class A1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _x extends A1{data(){return super.data()}}function Zp(r,e){return typeof e=="string"?Jp(r,e):e instanceof rf?e._internalPath:e._delegate._internalPath}function w1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class vx extends eg{}function tg(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ng)).length,m=u.filter((p=>p instanceof uf)).length;if(f>1||f>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class uf extends vx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new uf(e,n,s)}_apply(e){const n=this._parse(e);return R1(e._query,n),new la(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=of(e.firestore);return(function(u,f,m,p,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){sE(S,E);const z=[];for(const Y of S)z.push(rE(p,u,Y));w={arrayValue:{values:z}}}else w=rE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||sE(S,E),w=gx(m,f,S,E==="in"||E==="not-in");return Dt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oh(r,e,n){const s=e,o=Zp("where",r);return uf._create(o,s,n)}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)R1(f,p),f=Ym(f,p)})(e._query,n),new la(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(r,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return E0(r,new ye(s))}if(n instanceof mt)return E0(r,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function sE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ex{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Th].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(KT(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function C1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends A1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Nt("string",Js._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ch extends Js{data(e={}){return super.data(e)}}class Zs{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Tx(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function I1(r){r=pn(r,mt);const e=pn(r.firestore,pr);return sx(nf(e),r._key).then((n=>D1(e,r,n)))}Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:Nt("string",Zs._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ig extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function sr(r){r=pn(r,la);const e=pn(r.firestore,pr),n=nf(e),s=new ig(e);return w1(r._query),ax(n,r._query).then((o=>new Zs(e,s,r,o)))}function rp(r,e,n){r=pn(r,mt);const s=pn(r.firestore,pr),o=C1(r.converter,e);return cf(s,[E1(of(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function Fl(r,e,n,...s){r=pn(r,mt);const o=pn(r.firestore,pr),u=of(o);let f;return f=typeof(e=Pt(e))=="string"||e instanceof rf?px(u,"updateDoc",r._key,e,n,s):mx(u,"updateDoc",r._key,e),cf(o,[f.toMutation(r._key,qn.exists(!0))])}function rg(r){return cf(pn(r.firestore,pr),[new xp(r._key,qn.none())])}function x1(r,e){const n=pn(r.firestore,pr),s=dn(r),o=C1(r.converter,e);return cf(n,[E1(of(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Sx(r,...e){r=Pt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof mt)f=pn(r.firestore,pr),m=Yh(r._key.path),u={next:p=>{e[s]&&e[s](D1(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=pn(r,la);f=pn(p.firestore,pr),m=p._query;const g=new ig(f);u={next:E=>{e[s]&&e[s](new Zs(f,g,p,E))},error:e[s+1],complete:e[s+2]},w1(r._query)}return(function(g,E,S,w){const N=new Xp(w),z=new Yp(E,N,S);return g.asyncQueue.enqueueAndForget((async()=>Hp(await Dh(g),z))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>Fp(await Dh(g),z)))}})(nf(f),m,o,u)}function cf(r,e){return(function(s,o){const u=new ur;return s.asyncQueue.enqueueAndForget((async()=>QI(await rx(s),o,u))),u.promise})(nf(r),e)}function D1(r,e,n){const s=n.docs.get(e._key),o=new ig(r);return new Js(r,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function bx(...r){return new $p("arrayUnion",r)}(function(e,n=!0){(function(o){wo=o})(Ao),fo(new ea("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new pr(new dC(s.getProvider("auth-internal")),new gC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(o0,l0,e),ss(o0,l0,"esm2020")})();function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ax=N1,O1=new lu("auth","Firebase",N1());const Mh=new _p("@firebase/auth");function wx(r,...e){Mh.logLevel<=ke.WARN&&Mh.warn(`Auth (${Ao}): ${r}`,...e)}function hh(r,...e){Mh.logLevel<=ke.ERROR&&Mh.error(`Auth (${Ao}): ${r}`,...e)}function si(r,...e){throw sg(r,...e)}function Vi(r,...e){return sg(r,...e)}function M1(r,e,n){const s={...Ax(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:r.name})}function cr(r){return M1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return O1.create(r,...e)}function Ee(r,e,...n){if(!r)throw sg(e,...n)}function ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function gr(r,e){r||ar(e)}function sp(){return typeof self<"u"&&self.location?.href||""}function Rx(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}function Cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||qw()||"connection"in navigator)?navigator.onLine:!0}function Ix(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=jw()||Hw()}get(){return Cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ag(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class V1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nx=new gu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _s(r,e,n,s,o={}){return k1(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return Bw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&bo(r.emulatorConfig.host)&&(g.credentials="include"),V1.fetch()(await P1(r,r.config.apiHost,n,m),g)})}async function k1(r,e,n){r._canInitEmulator=!1;const s={...xx,...e};try{const o=new Mx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw M1(r,E,g);si(r,E)}}catch(o){if(o instanceof _r)throw o;si(r,"network-request-failed",{message:String(o)})}}async function yu(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function P1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?ag(r.config,o):`${r.config.apiScheme}://${o}`;return Dx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Ox(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),Nx.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(r,e,s);return o.customData._tokenResponse=n,o}function oE(r){return r!==void 0&&r.enterprise!==void 0}class Vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ox(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kx(r,e){return _s(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function Px(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lx(r,e=!1){const n=Pt(r),s=await n.getIdToken(e),o=og(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Dm(o.auth_time)),issuedAtTime:$l(Dm(o.iat)),expirationTime:$l(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(r){return Number(r)*1e3}function og(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=qE(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lE(r){const e=og(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&Ux(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Ux({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(r){const e=r.auth,n=await r.getIdToken(),s=await ru(r,Vh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?L1(o.providerUserInfo):[],f=Bx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function zx(r){const e=Pt(r);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function L1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qx(r,e){const n=await k1(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await P1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&bo(r.emulatorConfig.host)&&(p.credentials="include"),V1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hx(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=lE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await qx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Jr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lx(this,e)}reload(){return zx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await ru(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:N,providerData:z,stsTokenManager:Y}=n;Ee(S&&Y,e,"internal-error");const H=uo.fromJSON(this.name,Y);Ee(typeof S=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(g,e.name),Jr(E,e.name);const J=new ii({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return z&&Array.isArray(z)&&(J.providerData=z.map(se=>({...se}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const uE=new Map;function or(r){gr(r instanceof Function,"Expected a class definition");let e=uE.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,uE.set(r,e),e)}class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U1.type="NONE";const cE=U1;function fh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(or(cE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(cE);const f=fh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const w=await Vh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await ii._fromGetAccountInfoResponse(e,w,E)}else S=ii._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}function hE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F1(e))return"Blackberry";if(G1(e))return"Webos";if(z1(e))return"Safari";if((e.includes("chrome/")||B1(e))&&!e.includes("edge/"))return"Chrome";if(H1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function j1(r=en()){return/firefox\//i.test(r)}function z1(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B1(r=en()){return/crios\//i.test(r)}function q1(r=en()){return/iemobile/i.test(r)}function H1(r=en()){return/android/i.test(r)}function F1(r=en()){return/blackberry/i.test(r)}function G1(r=en()){return/webos/i.test(r)}function lg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Fx(r=en()){return lg(r)&&!!window.navigator?.standalone}function Gx(){return Fw()&&document.documentMode===10}function Y1(r=en()){return lg(r)||H1(r)||G1(r)||F1(r)||/windows phone/i.test(r)||q1(r)}function Q1(r,e=[]){let n;switch(r){case"Browser":n=hE(en());break;case"Worker":n=`${hE(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class Yx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Qx(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ys(r,e))}const Kx=6;class Xx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $x{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new Yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ix()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(cr(this));const n=e?Pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qx(this),n=new Xx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Hx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(r){return Pt(r)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wx(r){hf=r}function K1(r){return hf.loadJS(r)}function Jx(){return hf.recaptchaEnterpriseScript}function Zx(){return hf.gapiScript}function eD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iD="recaptcha-enterprise",X1="NO_RECAPTCHA";class rD{constructor(e){this.type=iD,this.auth=ua(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{kx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Vx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;oE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(X1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&oE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Jx();p.length!==0&&(p+=m),K1(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function dE(r,e,n,s=!1,o=!1){const u=new rD(r);let f;if(o)f=X1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function op(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await dE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function sD(r,e){const n=Ep(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ls(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function aD(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function oD(r,e,n){const s=ua(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$1(e),{host:f,port:m}=lD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ls(g,s.config.emulator)&&ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,bo(f)?(YE(`${u}//${f}${p}`),QE("Auth",!0)):uD()}function $1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function lD(r){const e=$1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:mE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:mE(f)}}}function mE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function cD(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}async function hD(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function fD(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function dD(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class su extends ug{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,n,"signInWithPassword",hD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,s,"signUpPassword",cD);case"emailLink":return dD(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const mD="http://localhost";class ia extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}function pD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gD(r){const e=Ul(jl(r)).link,n=e?Ul(jl(e)).deep_link_id:null,s=Ul(jl(r)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||e||r}class cg{constructor(e){const n=Ul(jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=pD(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gD(e);try{return new cg(n)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cg.parseLink(n);return Ee(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends _u{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class rr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class es extends _u{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends _u{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function yD(r,e){return yu(r,"POST","/v1/accounts:signUp",ys(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=pE(s);return new ra({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=pE(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function pE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ph extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function J1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function _D(r,e,n=!1){const s=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function vD(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await ru(r,J1(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=og(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ra._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function Z1(r,e,n=!1){if(zn(r.app))return Promise.reject(cr(r));const s="signIn",o=await J1(r,s,e),u=await ra._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function ED(r,e){return Z1(ua(r),e)}async function eS(r){const e=ua(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TD(r,e,n){if(zn(r.app))return Promise.reject(cr(r));const s=ua(r),f=await op(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eS(r),p}),m=await ra._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function SD(r,e,n){return zn(r.app)?Promise.reject(cr(r)):ED(Pt(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eS(r),s})}function bD(r,e,n,s){return Pt(r).onIdTokenChanged(e,n,s)}function AD(r,e,n){return Pt(r).beforeAuthStateChanged(e,n)}function wD(r,e,n,s){return Pt(r).onAuthStateChanged(e,n,s)}function RD(r){return Pt(r).signOut()}const Lh="__sak";class tS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CD=1e3,ID=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Gx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ID):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const xD=nS;class iS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const rS=iS;function DD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await DD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];function hg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class ND{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=hg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ki(){return window}function OD(r){ki().location.href=r}function sS(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function MD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VD(){return navigator?.serviceWorker?.controller||null}function kD(){return sS()?self:null}const aS="firebaseLocalStorageDb",PD=1,Uh="firebaseLocalStorage",oS="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(r,e){return r.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function LD(){const r=indexedDB.deleteDatabase(aS);return new vu(r).toPromise()}function lp(){const r=indexedDB.open(aS,PD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Uh,{keyPath:oS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await LD(),e(await lp()))})})}async function gE(r,e,n){const s=df(r,!0).put({[oS]:e,value:n});return new vu(s).toPromise()}async function UD(r,e){const n=df(r,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function yE(r,e){const n=df(r,!0).delete(e);return new vu(n).toPromise()}const jD=800,zD=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(kD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await gE(e,Lh,"1"),await yE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=df(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const BD=lS;new gu(3e4,6e4);function qD(r,e){return e?or(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class fg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HD(r){return Z1(r.auth,new fg(r),r.bypassAuthState)}function FD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),vD(n,new fg(r),r.bypassAuthState)}async function GD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),_D(n,new fg(r),r.bypassAuthState)}class uS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return FD;default:si(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YD=new gu(2e3,1e4);class oo extends uS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YD.get())};e()}}oo.currentPopupAction=null;const QD="pendingRedirect",dh=new Map;class KD extends uS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(r,e){const n=JD(e),s=WD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $D(r,e){dh.set(r._key(),e)}function WD(r){return or(r._redirectPersistence)}function JD(r){return fh(QD,r.config.apiKey,r.name)}async function ZD(r,e,n=!1){if(zn(r.app))return Promise.reject(cr(r));const s=ua(r),o=qD(s,e),f=await new KD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const eN=600*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function nN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(r);default:return!1}}async function iN(r,e={}){return _s(r,"GET","/v1/projects",e)}const rN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function aN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await iN(r);for(const n of e)try{if(oN(n))return}catch{}si(r,"unauthorized-domain")}function oN(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!sN.test(n))return!1;if(rN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const lN=new gu(3e4,6e4);function vE(){const r=ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function uN(r){return new Promise((e,n)=>{function s(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(Vi(r,"network-request-failed"))},timeout:lN.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=eD("iframefcb");return ki()[o]=()=>{gapi.load?s():n(Vi(r,"network-request-failed"))},K1(`${Zx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function cN(r){return mh=mh||uN(r),mh}const hN=new gu(5e3,15e3),fN="__/auth/iframe",dN="emulator/auth/iframe",mN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ag(e,dN):`https://${r.config.authDomain}/${fN}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=pN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function yN(r){const e=await cN(r),n=ki().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:gN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},hN.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vN=500,EN=600,TN="_blank",SN="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bN(r,e,n,s=vN,o=EN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={..._N,width:s.toString(),height:o.toString(),top:u,left:f},g=en().toLowerCase();n&&(m=B1(g)?TN:n),j1(g)&&(e=e||SN,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[N,z])=>`${w}${N}=${z},`,"");if(Fx(g)&&m!=="_self")return AN(e||"",m),new EE(null);const S=window.open(e||"",m,E);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new EE(S)}function AN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const wN="__/auth/handler",RN="emulator/auth/handler",CN=encodeURIComponent("fac");async function TE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof W1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ww(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof _u){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${CN}=${encodeURIComponent(p)}`:"";return`${IN(r)}?${uu(m).slice(1)}${g}`}function IN({config:r}){return r.emulator?ag(r,RN):`https://${r.authDomain}/${wN}`}const Nm="webStorageSupport";class xN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=ZD,this._overrideRedirectResult=$D}async _openPopup(e,n,s,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await TE(e,n,s,sp(),o);return bN(e,u,hg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await TE(e,n,s,sp(),o);return OD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await yN(e),s=new tN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y1()||z1()||lg()}}const DN=xN;var SE="@firebase/auth",bE="1.11.1";class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ON(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MN(r){fo(new ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(r)},g=new $x(s,o,u,p);return aD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ea("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(s=>new NN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(SE,bE,ON(r)),ss(SE,bE,"esm2020")}const VN=300,kN=GE("authIdTokenMaxAge")||VN;let AE=null;const PN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kN)return;const o=n?.token;AE!==o&&(AE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LN(r=WE()){const e=Ep(r,"auth");if(e.isInitialized())return e.getImmediate();const n=sD(r,{popupRedirectResolver:DN,persistence:[BD,xD,rS]}),s=GE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=PN(u.toString());AD(n,f,()=>f(n.currentUser)),bD(n,m=>f(m))}}const o=HE("auth");return o&&oD(n,`http://${o}`),n}function UN(){return document.getElementsByTagName("head")?.[0]??document}Wx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",UN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MN("Browser");const jN={apiKey:"AIzaSyCzGMUJ87YPFhcmdHH-316cy0TQaheFiIY",authDomain:"labs-1d070.firebaseapp.com",projectId:"labs-1d070",storageBucket:"labs-1d070.firebasestorage.app",messagingSenderId:"747089113680",appId:"1:747089113680:web:b3b50bcd2a1af40633d755"},hS=$E(jN),ut=lx(hS),nh=LN(hS);new rr;const fS=U.createContext(),ca=()=>U.useContext(fS),zN=({children:r})=>{const[e,n]=U.useState(null),[s,o]=U.useState(null),[u,f]=U.useState("2024-2025"),[m,p]=U.useState(!0),g=z=>`${z}@lams.app`,E=async(z,Y)=>{const H=g(z);return SD(nh,H,Y)},S=async(z,Y,H,J)=>{const se=g(z),{user:ae}=await TD(nh,se,Y);return await rp(dn(ut,"users",ae.uid),{empId:z,name:H,email:J,role:"user",status:"pending",createdAt:new Date().toISOString()}),ae},w=()=>RD(nh);U.useEffect(()=>Sx(dn(ut,"settings","config"),Y=>{Y.exists()?f(Y.data().activeAcademicYear):rp(Y.ref,{activeAcademicYear:"2024-2025",academicYears:["2024-2025"]})}),[]),U.useEffect(()=>wD(nh,async Y=>{if(console.log("Auth State Changed:",Y?Y.uid:"No User"),n(Y),Y){const H=dn(ut,"users",Y.uid);try{const J=await I1(H);if(J.exists()){const se=J.data();console.log("User Profile Loaded:",se),o(se)}else console.error("No user profile found in Firestore!"),o(null)}catch(J){console.error("Error fetching user profile:",J)}}else o(null);p(!1)}),[]);const N={currentUser:e,userProfile:s,activeAcademicYear:u,login:E,signup:S,logout:w,loading:m};return T.jsx(fS.Provider,{value:N,children:!m&&r})};const BN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),wE=r=>{const e=qN(r);return e.charAt(0).toUpperCase()+e.slice(1)},dS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),HN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GN=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...FN,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:dS("lucide",o),...!u&&!HN(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Hn=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(GN,{ref:u,iconNode:e,className:dS(`lucide-${BN(wE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=wE(r),n};const YN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mS=Hn("calendar",YN);const QN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KN=Hn("chart-column",QN);const XN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$N=Hn("clock",XN);const WN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],JN=Hn("file-plus",WN);const ZN=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],eO=Hn("flask-conical",ZN);const tO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nO=Hn("layout-dashboard",tO);const iO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rO=Hn("log-out",iO);const sO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aO=Hn("map-pin",sO);const oO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lO=Hn("menu",oO);const uO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cO=Hn("settings",uO);const hO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fO=Hn("shield",hO);const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mO=Hn("x",dO),to=({children:r})=>{const e=yr(),[n,s]=U.useState(!0),[o,u]=U.useState(window.innerWidth<768),[f,m]=U.useState(!1),{userProfile:p,logout:g}=ca();U.useEffect(()=>{const w=()=>{u(window.innerWidth<768),window.innerWidth>=768&&(m(!1),s(!0))};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const E=[{path:"/",label:"Dashboard",icon:T.jsx(nO,{size:20})},{path:"/assignments",label:"Assignments",icon:T.jsx(JN,{size:20})},{path:"/schedule",label:"Schedule",icon:T.jsx(mS,{size:20})},{path:"/master-data",label:"Master Data",icon:T.jsx(cO,{size:20})},{path:"/analytics",label:"Analytics",icon:T.jsx(KN,{size:20})}],S=()=>m(!f);return T.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"var(--color-bg-main)"},children:[T.jsx("button",{className:"mobile-menu-btn",onClick:S,style:{display:o?"flex":"none"},children:f?T.jsx(mO,{size:24}):T.jsx(lO,{size:24})}),T.jsx("div",{className:`sidebar-overlay ${f?"open":""}`,onClick:()=>m(!1)}),T.jsxs("aside",{className:"glass-panel",style:{width:n&&!o||o?"260px":"80px",margin:o?0:"var(--space-md)",padding:"var(--space-md)",display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:o?"fixed":"sticky",top:o?0:"var(--space-md)",left:o?f?0:"-100%":0,height:o?"100vh":"calc(100vh - 2 * var(--space-md))",zIndex:100,borderRadius:o?0:"var(--radius-lg)",borderLeft:o?"none":"1px solid var(--glass-border)",borderTop:o?"none":"1px solid var(--glass-border)",borderBottom:o?"none":"1px solid var(--glass-border)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-xl)",padding:"0 var(--space-xs)"},children:[T.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",marginRight:n||o?"var(--space-md)":"0",flexShrink:0,boxShadow:"0 0 15px var(--color-accent-glow)"},children:T.jsx(eO,{size:24})}),(n||o)&&T.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"LAB"})]}),T.jsxs("nav",{style:{flex:1,display:"flex",flexDirection:"column",gap:"var(--space-xs)"},children:[E.map(w=>T.jsxs(gh,{to:w.path,onClick:()=>o&&m(!1),style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname===w.path?"white":"var(--color-text-muted)",background:e.pathname===w.path?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname===w.path?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n||o?"flex-start":"center",position:"relative",overflow:"hidden"},children:[T.jsx("span",{style:{marginRight:n||o?"var(--space-md)":0,display:"flex"},children:w.icon}),(n||o)&&T.jsx("span",{style:{fontWeight:500},children:w.label}),e.pathname===w.path&&T.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",background:"var(--color-accent)",borderRadius:"0 4px 4px 0",boxShadow:"0 0 10px var(--color-accent)"}})]},w.path)),p&&p.role==="admin"&&T.jsxs(gh,{to:"/admin",onClick:()=>o&&m(!1),style:{display:"flex",alignItems:"center",padding:"var(--space-sm) var(--space-md)",borderRadius:"var(--radius-md)",textDecoration:"none",color:e.pathname==="/admin"?"white":"var(--color-text-muted)",background:e.pathname==="/admin"?"rgba(59, 130, 246, 0.15)":"transparent",border:e.pathname==="/admin"?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",transition:"all 0.2s ease",justifyContent:n||o?"flex-start":"center",marginTop:"var(--space-sm)",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"var(--space-md)"},children:[T.jsx("span",{style:{marginRight:n||o?"var(--space-md)":0,display:"flex"},children:T.jsx(fO,{size:20})}),(n||o)&&T.jsx("span",{style:{fontWeight:500},children:"Admin Panel"})]})]}),T.jsx("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"var(--space-md)",marginTop:"auto"},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},children:[T.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--color-bg-secondary)",border:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"bold",color:"var(--color-accent)"},children:p?p.name.charAt(0):"G"}),(n||o)&&T.jsxs("div",{style:{overflow:"hidden",flex:1},children:[T.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p?p.name:"Guest"}),T.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:p?p.role:"Sign in"})]}),(n||o)&&T.jsx("button",{onClick:g,style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex"},title:"Logout",children:T.jsx(rO,{size:16})})]})})]}),T.jsxs("main",{style:{flex:1,padding:o?"var(--space-xl) var(--space-md) var(--space-md) var(--space-md)":"var(--space-md)",overflowY:"auto",marginLeft:0,transition:"all 0.3s ease"},children:[T.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-xl)",marginTop:o?"var(--space-xl)":0},children:[T.jsxs("div",{children:[T.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:E.find(w=>w.path===e.pathname)?.label||(e.pathname==="/admin"?"Admin Panel":"Dashboard")}),T.jsx("p",{style:{color:"var(--color-text-muted)",margin:0},children:"Welcome back to your lab management workspace"})]}),T.jsx("div",{style:{display:"flex",gap:"var(--space-sm)"},children:!o&&T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""}),T.jsx("button",{className:"btn glass-panel",style:{padding:"var(--space-sm)"},children:""})]})})]}),T.jsx("div",{className:"animate-fade-in",children:r})]})]})},pO=({title:r,value:e,icon:n,trend:s,color:o})=>T.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"5rem",opacity:.05},children:n}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-sm)"},children:[T.jsx("div",{style:{padding:"var(--space-xs)",borderRadius:"var(--radius-md)",background:`rgba(${o}, 0.1)`,color:`rgb(${o})`},children:n}),s&&T.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-success)",background:"rgba(16, 185, 129, 0.1)",padding:"2px 6px",borderRadius:"var(--radius-full)"},children:s})]}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"var(--space-xs)"},children:e}),T.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.875rem"},children:r})]}),gO=()=>{const{userProfile:r,activeAcademicYear:e}=ca(),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState(r?.name||""),[p,g]=U.useState(!0),S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];U.useEffect(()=>{(async()=>{const z=await sr(ni(ut,"faculty"));u(z.docs.map(Y=>Y.data().name))})()},[]),U.useEffect(()=>{(async()=>{if(e){g(!0);try{const z=tg(ni(ut,"schedule"),Oh("academicYear","==",e),Oh("day","==",S)),H=(await sr(z)).docs.map(ae=>ae.data()),J=f||r?.name,se=H.filter(ae=>ae.faculty===J);s(se)}catch(z){console.error("Error fetching schedule:",z)}finally{g(!1)}}})()},[e,f,r]);const w=[{title:"Total Assignments",value:"124",icon:"",trend:"+12%",color:"59, 130, 246"},{title:"Active Faculty",value:o.length,icon:"",trend:"+2",color:"16, 185, 129"},{title:"Lab Rooms",value:"12",icon:"",color:"245, 158, 11"},{title:"Academic Year",value:e,icon:"",color:"239, 68, 68"}];return T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-xl)"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("h2",{style:{margin:0},children:"Dashboard"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("span",{style:{color:"var(--color-text-muted)"},children:"Viewing schedule for:"}),T.jsxs("select",{className:"glass-input",value:f,onChange:N=>m(N.target.value),style:{minWidth:"200px"},children:[T.jsx("option",{value:r?.name,children:"My Schedule (Me)"}),o.filter(N=>N!==r?.name).map(N=>T.jsx("option",{value:N,children:N},N))]})]})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"var(--space-lg)"},children:w.map((N,z)=>T.jsx(pO,{...N},z))}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"var(--space-lg)"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"0",minHeight:"400px"},children:[T.jsxs("div",{style:{padding:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(mS,{size:20})," Today's Schedule (",S,")"]}),T.jsxs("span",{style:{fontSize:"0.8rem",background:"var(--color-accent)",padding:"2px 8px",borderRadius:"12px"},children:[n.length," Classes"]})]}),T.jsx("div",{style:{padding:"var(--space-md)"},children:p?T.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Loading..."}):n.length===0?T.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--color-text-muted)"},children:[T.jsx("p",{style:{fontSize:"3rem",margin:0},children:""}),T.jsx("p",{children:"No classes scheduled for today."})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.sort((N,z)=>N.time.localeCompare(z.time)).map((N,z)=>T.jsxs("div",{className:"glass-panel",style:{padding:"1rem",display:"flex",alignItems:"center",gap:"1rem",borderLeft:"4px solid var(--color-accent)"},children:[T.jsx("div",{style:{minWidth:"120px",fontWeight:"bold",color:"var(--color-accent)"},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx($N,{size:16})," ",N.time]})}),T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:N.subject}),T.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)"},children:[N.dept," - ",N.sem," (",N.group,")"]})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"rgba(255,255,255,0.1)",padding:"0.5rem",borderRadius:"8px"},children:[T.jsx(aO,{size:16})," ",N.room]})]},z))})})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-lg)"},children:[T.jsx("h3",{style:{marginTop:0},children:"Quick Actions"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-sm)"},children:T.jsxs("button",{className:"btn glass-panel",style:{textAlign:"center",padding:"var(--space-md)",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)"},children:[T.jsx("span",{style:{fontSize:"1.25rem"},children:""}),T.jsx("span",{children:"Export Report"})]})}),T.jsxs("div",{style:{marginTop:"var(--space-xl)",padding:"var(--space-md)",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-md)",borderLeft:"3px solid var(--color-accent)"},children:[T.jsx("h4",{style:{margin:"0 0 var(--space-xs) 0",fontSize:"0.875rem",color:"var(--color-accent)"},children:" Pro Tip"}),T.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Use the dropdown above to check where your colleagues are teaching right now."})]})]})]})]})},yO=()=>{const{login:r,signup:e,currentUser:n}=ca(),s=dp(),[o,u]=U.useState(!0),[f,m]=U.useState(!1),[p,g]=U.useState(!1),[E,S]=U.useState({empId:"",password:"",name:"",recoveryEmail:""}),[w,N]=U.useState(""),[z,Y]=U.useState("");U.useEffect(()=>{n&&s("/")},[n,s]);const[H,J]=U.useState(1),[se,ae]=U.useState(""),[re,pe]=U.useState(""),[Z,x]=U.useState(null),[R,C]=U.useState(""),k=async P=>{P.preventDefault(),N(""),Y(""),g(!0);try{o?await r(E.empId,E.password):await e(E.empId,E.password,E.name,E.recoveryEmail)}catch(I){console.error(I),N(`Failed: ${I.message} (${I.code})`),I.code==="auth/invalid-credential"?N("Invalid Employee ID or Password."):I.code==="auth/email-already-in-use"?N("This Employee ID is already registered."):I.code==="auth/weak-password"&&N("Password should be at least 6 characters.")}finally{g(!1)}},M=async P=>{P.preventDefault(),N(""),Y(""),g(!0);try{if(H===1){const I=tg(ni(ut,"users"),Oh("empId","==",se)),Ye=await sr(I);if(Ye.empty){N("Employee ID not found."),g(!1);return}const tt=Ye.docs[0].data();if(!tt.email){N("No recovery email found for this user. Contact Admin."),g(!1);return}const K=Math.floor(1e5+Math.random()*9e5).toString();x(K),alert(`[SIMULATION] OTP sent to ${tt.email}: ${K}`),console.log(`OTP for ${tt.email}: ${K}`),Y(`OTP sent to ${tt.email}`),J(2)}else H===2?re===Z?(J(3),Y("OTP Verified. Enter new password.")):N("Invalid OTP."):H===3&&(alert("Password Reset Successfully! (Simulated - In a real app, this would update Auth)"),m(!1),J(1),ae(""),pe(""),C(""),Y("Password reset successful. Please login with your new password."))}catch(I){console.error(I),N("An error occurred. Please try again.")}finally{g(!1)}};return f?T.jsx("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)"},children:T.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[T.jsx("h2",{style:{marginBottom:"var(--space-lg)"},children:"Reset Password"}),z&&T.jsx("div",{style:{padding:"0.5rem",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"4px",marginBottom:"1rem"},children:z}),w&&T.jsx("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem"},children:w}),T.jsxs("form",{onSubmit:M,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[H===1&&T.jsx("input",{type:"text",placeholder:"Enter Employee ID",className:"glass-input",value:se,onChange:P=>ae(P.target.value),required:!0}),H===2&&T.jsx("input",{type:"text",placeholder:"Enter OTP",className:"glass-input",value:re,onChange:P=>pe(P.target.value),required:!0}),H===3&&T.jsx("input",{type:"password",placeholder:"New Password",className:"glass-input",value:R,onChange:P=>C(P.target.value),required:!0}),T.jsx("button",{type:"submit",className:"btn",style:{background:"var(--color-accent)",color:"white"},children:H===1?"Send OTP":H===2?"Verify OTP":"Reset Password"}),T.jsx("button",{type:"button",onClick:()=>m(!1),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",marginTop:"1rem"},children:"Back to Login"})]})]})}):T.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top right, #1e293b, #0f172a)",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:"-10%",right:"-10%",width:"500px",height:"500px",background:"radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.5,animation:"float 10s infinite ease-in-out"}}),T.jsx("div",{style:{position:"absolute",bottom:"-10%",left:"-10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",opacity:.4,animation:"float 15s infinite ease-in-out reverse"}}),T.jsxs("div",{className:"glass-panel animate-fade-in",style:{padding:"var(--space-xl)",width:"100%",maxWidth:"400px",textAlign:"center",zIndex:10,border:"1px solid rgba(255, 255, 255, 0.15)"},children:[T.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",borderRadius:"var(--radius-lg)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto var(--space-lg)",boxShadow:"0 0 20px var(--color-accent-glow)"},children:""}),T.jsx("h1",{style:{marginBottom:"var(--space-xs)",fontSize:"2rem"},children:o?"Welcome Back":"Join LAB"}),T.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"var(--space-xl)"},children:"Institute Lab Management System"}),z&&T.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(16, 185, 129, 0.2)",color:"#6ee7b7",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:z}),w&&T.jsx("div",{style:{padding:"var(--space-sm)",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-md)",fontSize:"0.875rem"},children:w}),T.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"var(--space-md)"},children:[!o&&T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",placeholder:"Full Name",className:"glass-input",value:E.name,onChange:P=>S({...E,name:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),T.jsx("input",{type:"email",placeholder:"Recovery Email",className:"glass-input",value:E.recoveryEmail,onChange:P=>S({...E,recoveryEmail:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}})]}),T.jsx("input",{type:"text",placeholder:"Employee ID",className:"glass-input",value:E.empId,onChange:P=>S({...E,empId:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),T.jsx("input",{type:"password",placeholder:"Password",className:"glass-input",value:E.password,onChange:P=>S({...E,password:P.target.value}),required:!0,style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",outline:"none"}}),T.jsx("button",{type:"submit",className:"btn",disabled:p,style:{width:"100%",background:"linear-gradient(135deg, var(--color-accent), #60a5fa)",color:"white",padding:"var(--space-md)",fontSize:"1rem",marginTop:"var(--space-sm)",opacity:p?.7:1},children:p?"Processing...":o?"Sign In":"Sign Up"})]}),T.jsxs("div",{style:{marginTop:"var(--space-lg)",fontSize:"0.875rem",color:"var(--color-text-muted)"},children:[o&&T.jsx("div",{style:{marginBottom:"1rem"},children:T.jsx("button",{onClick:()=>m(!0),style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",textDecoration:"underline"},children:"Forgot Password?"})}),o?"Don't have an account? ":"Already have an account? ",T.jsx("button",{onClick:()=>{u(!o),N(""),Y("")},style:{background:"none",border:"none",color:"var(--color-accent)",cursor:"pointer",textDecoration:"underline"},children:o?"Sign Up":"Sign In"})]})]}),T.jsx("style",{children:`
        @keyframes float {
          0% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
          100% { transform: translate(0, 0); }
        }
      `})]})},_O=()=>{const{userProfile:r,activeAcademicYear:e}=ca(),[n,s]=U.useState("horizontal"),[o,u]=U.useState("CSE"),[f,m]=U.useState("3rd"),[p,g]=U.useState([]),[E,S]=U.useState([]),[w,N]=U.useState([]),[z,Y]=U.useState([]),[H,J]=U.useState(!0),[se,ae]=U.useState(!1),[re,pe]=U.useState({day:"Monday",time:"09:00 - 10:00",subject:"",room:"",faculty:"",group:"All"}),[Z,x]=U.useState(""),R=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C=["09:00 - 10:00","10:00 - 11:00","11:00 - 12:00","12:00 - 01:00","01:00 - 02:00","02:00 - 03:00","03:00 - 04:00","04:00 - 05:00"];U.useEffect(()=>{(async()=>{try{const[ue,_e,Se]=await Promise.all([sr(ni(ut,"rooms")),sr(ni(ut,"faculty")),sr(ni(ut,"subjects"))]);S(ue.docs.map(O=>O.data().name)),N(_e.docs.map(O=>O.data().name)),Y(Se.docs.map(O=>O.data().name))}catch(ue){console.error("Error loading master data:",ue)}})()},[]);const k=async()=>{J(!0);try{const X=tg(ni(ut,"schedule"),Oh("academicYear","==",e)),ue=await sr(X),_e=[];ue.forEach(Se=>{const O=Se.data();O.dept===o&&O.sem===f&&_e.push({id:Se.id,...O})}),g(_e)}catch(X){console.error("Error loading schedule:",X)}finally{J(!1)}};U.useEffect(()=>{e&&k()},[o,f,e]);const M=(X,ue)=>p.find(_e=>_e.day===X&&_e.time===ue),P=async X=>{const ue=p.find(Se=>Se.day===X.day&&Se.time===X.time&&Se.room===X.room);if(ue)return`Conflict! Room "${X.room}" is already booked for "${ue.subject}" at this time.`;const _e=p.find(Se=>Se.day===X.day&&Se.time===X.time&&Se.faculty===X.faculty);return _e?`Conflict! ${X.faculty} is already teaching "${_e.subject}" in ${_e.room} at this time.`:null},I=async X=>{X.preventDefault(),x("");const ue=await P(re);if(ue){x(ue);return}try{await x1(ni(ut,"schedule"),{...re,dept:o,sem:f,academicYear:e}),ae(!1),pe({...re,subject:"",room:"",faculty:""}),k()}catch(_e){console.error("Error saving schedule:",_e),x("Failed to save schedule.")}},Ye=async X=>{if(window.confirm("Are you sure you want to remove this class?"))try{await rg(dn(ut,"schedule",X)),k()}catch(ue){console.error("Error deleting:",ue)}},tt=(X,ue)=>{pe({...re,day:X,time:ue,subject:"",room:"",faculty:""}),x(""),ae(!0)},K=r&&r.role==="admin";return T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-md)",height:"100%"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"var(--space-md)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"var(--space-md)"},children:[T.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[T.jsxs("h2",{style:{margin:0,fontSize:"1.25rem"},children:["Weekly Schedule ",T.jsxs("span",{style:{fontSize:"0.8rem",opacity:.7},children:["(",e,")"]})]}),T.jsx("div",{style:{height:"24px",width:"1px",background:"var(--glass-border)"}}),T.jsxs("select",{className:"glass-input",value:o,onChange:X=>u(X.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[T.jsx("option",{value:"CSE",children:"CSE"}),T.jsx("option",{value:"ECE",children:"ECE"}),T.jsx("option",{value:"ME",children:"ME"})]}),T.jsxs("select",{className:"glass-input",value:f,onChange:X=>m(X.target.value),style:{padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",background:"rgba(0,0,0,0.2)",color:"white",border:"1px solid var(--glass-border)"},children:[T.jsx("option",{value:"3rd",children:"3rd Sem"}),T.jsx("option",{value:"5th",children:"5th Sem"}),T.jsx("option",{value:"7th",children:"7th Sem"})]})]}),T.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[T.jsx("button",{className:"btn",onClick:()=>s("horizontal"),style:{background:n==="horizontal"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Horizontal"}),T.jsx("button",{className:"btn",onClick:()=>s("vertical"),style:{background:n==="vertical"?"var(--color-accent)":"transparent",border:"1px solid var(--glass-border)",padding:"var(--space-xs) var(--space-sm)",fontSize:"0.875rem"},children:"Vertical"})]})]}),T.jsx("div",{className:"glass-panel",style:{padding:0,overflow:"auto",flex:1},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:`100px repeat(${C.length}, minmax(160px, 1fr))`,minWidth:"100%"},children:[T.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",position:"sticky",left:0,zIndex:10,backdropFilter:"blur(10px)"},children:"Day / Time"}),C.map(X=>T.jsx("div",{style:{padding:"var(--space-md)",background:"rgba(255,255,255,0.05)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",textAlign:"center",fontWeight:600,fontSize:"0.875rem"},children:X},X)),R.map(X=>T.jsxs(Xb.Fragment,{children:[T.jsx("div",{style:{padding:"var(--space-md)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",fontWeight:600,background:"rgba(255,255,255,0.02)",position:"sticky",left:0,zIndex:5,backdropFilter:"blur(10px)"},children:X}),C.map(ue=>{const _e=M(X,ue);return T.jsx("div",{style:{padding:"var(--space-xs)",borderBottom:"1px solid var(--glass-border)",borderRight:"1px solid var(--glass-border)",minHeight:"100px",position:"relative"},children:_e?T.jsxs("div",{className:"animate-fade-in",style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"var(--radius-sm)",padding:"var(--space-xs)",height:"100%",fontSize:"0.75rem",cursor:"pointer",transition:"transform 0.2s",":hover":{transform:"scale(1.02)"}},children:[T.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"2px"},children:_e.subject}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"var(--color-text-muted)"},children:[T.jsx("span",{children:_e.room}),T.jsx("span",{children:_e.group})]}),T.jsx("div",{style:{marginTop:"4px",fontStyle:"italic",color:"white"},children:_e.faculty}),K&&T.jsx("button",{onClick:Se=>{Se.stopPropagation(),Ye(_e.id)},style:{position:"absolute",top:"2px",right:"2px",background:"none",border:"none",color:"#fca5a5",cursor:"pointer",fontSize:"0.7rem"},children:""})]}):K&&T.jsx("div",{style:{height:"100%",width:"100%",opacity:0,transition:"opacity 0.2s",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Se=>Se.currentTarget.style.opacity="1",onMouseLeave:Se=>Se.currentTarget.style.opacity="0",onClick:()=>tt(X,ue),children:T.jsx("span",{style:{fontSize:"1.5rem",color:"var(--color-text-muted)"},children:"+"})})},`${X}-${ue}`)})]},X))]})}),se&&T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:T.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[T.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Add Class"}),T.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"1rem"},children:[re.day," @ ",re.time]}),Z&&T.jsxs("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.875rem"},children:[" ",Z]}),T.jsxs("form",{onSubmit:I,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[T.jsxs("select",{className:"glass-input",value:re.subject,onChange:X=>pe({...re,subject:X.target.value}),required:!0,children:[T.jsx("option",{value:"",children:"Select Subject"}),T.jsx("option",{value:"Lab",children:"Lab"}),z.map(X=>T.jsx("option",{value:X,children:X},X))]}),T.jsxs("select",{className:"glass-input",value:re.room,onChange:X=>pe({...re,room:X.target.value}),required:!0,children:[T.jsx("option",{value:"",children:"Select Room"}),E.map(X=>T.jsx("option",{value:X,children:X},X))]}),T.jsxs("select",{className:"glass-input",value:re.faculty,onChange:X=>pe({...re,faculty:X.target.value}),required:!0,children:[T.jsx("option",{value:"",children:"Select Faculty"}),w.map(X=>T.jsx("option",{value:X,children:X},X))]}),T.jsx("input",{className:"glass-input",placeholder:"Group (e.g. G1, All)",value:re.group,onChange:X=>pe({...re,group:X.target.value})}),T.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[T.jsx("button",{type:"button",onClick:()=>ae(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},vO=()=>{const{userProfile:r,activeAcademicYear:e}=ca(),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState("all"),[p,g]=U.useState([]),[E,S]=U.useState(""),w=async()=>{u(!0);try{const re=await sr(ni(ut,"users")),pe=[];re.forEach(Z=>{pe.push({id:Z.id,...Z.data()})}),s(pe)}catch(re){console.error("Error fetching users: ",re)}finally{u(!1)}},N=async()=>{try{const re=await I1(dn(ut,"settings","config"));re.exists()&&g(re.data().academicYears||[])}catch(re){console.error("Error loading settings:",re)}};U.useEffect(()=>{w(),N()},[]);const z=async(re,pe)=>{try{await Fl(dn(ut,"users",re),{status:pe}),w()}catch(Z){console.error("Error updating status: ",Z),alert("Failed to update status.")}},Y=async(re,pe)=>{if(window.confirm(`Are you sure you want to change this user's role to ${pe}?`))try{await Fl(dn(ut,"users",re),{role:pe}),w()}catch(Z){console.error("Error updating role: ",Z),alert("Failed to update role.")}},H=async re=>{if(window.confirm("Are you sure you want to DELETE this user? This cannot be undone."))try{await rg(dn(ut,"users",re)),w()}catch(pe){console.error("Error deleting user: ",pe),alert("Failed to delete user.")}},J=async()=>{if(E)try{const re=dn(ut,"settings","config");await Fl(re,{academicYears:bx(E),activeAcademicYear:E}),S(""),N(),alert(`New Academic Year ${E} Started!`),window.location.reload()}catch(re){console.error("Error adding year:",re),await rp(dn(ut,"settings","config"),{academicYears:[E],activeAcademicYear:E}),window.location.reload()}},se=async re=>{window.confirm(`Switch active year to ${re}?`)&&(await Fl(dn(ut,"settings","config"),{activeAcademicYear:re}),window.location.reload())},ae=n.filter(re=>f==="all"?!0:re.status===f);return!r||r.role!=="admin"?T.jsx("div",{style:{color:"white",padding:"2rem",textAlign:"center"},children:"Access Denied. Admins only."}):T.jsxs("div",{style:{paddingBottom:"2rem"},children:[T.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"var(--space-lg)"},children:"Admin Panel"}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",marginBottom:"2rem",border:"1px solid var(--color-accent)"},children:[T.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Academic Year Management",T.jsxs("span",{style:{fontSize:"0.8rem",background:"var(--color-accent)",padding:"2px 8px",borderRadius:"12px"},children:["Active: ",e]})]}),T.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[T.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Start New Year"}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[T.jsx("input",{className:"glass-input",placeholder:"e.g. 2025-2026",value:E,onChange:re=>S(re.target.value)}),T.jsx("button",{className:"btn btn-primary",onClick:J,children:"Start"})]})]}),T.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Switch Active Year"}),T.jsx("select",{className:"glass-input",value:e,onChange:re=>se(re.target.value),style:{width:"100%"},children:p.map(re=>T.jsx("option",{value:re,style:{color:"black"},children:re},re))})]})]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Total Users"}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:n.length})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Pending Approval"}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#fbbf24"},children:n.filter(re=>re.status==="pending").length})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsx("h3",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Admins"}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-accent)"},children:n.filter(re=>re.role==="admin").length})]})]}),T.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.5rem"},children:[T.jsx("button",{onClick:()=>m("all"),className:"btn",style:{background:f==="all"?"var(--color-accent)":"rgba(255,255,255,0.1)"},children:"All Users"}),T.jsx("button",{onClick:()=>m("pending"),className:"btn",style:{background:f==="pending"?"#fbbf24":"rgba(255,255,255,0.1)",color:f==="pending"?"black":"white"},children:"Pending"}),T.jsx("button",{onClick:()=>m("approved"),className:"btn",style:{background:f==="approved"?"#10b981":"rgba(255,255,255,0.1)"},children:"Approved"})]}),T.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:[T.jsx("th",{style:{padding:"1rem"},children:"Name"}),T.jsx("th",{style:{padding:"1rem"},children:"Emp ID"}),T.jsx("th",{style:{padding:"1rem"},children:"Email"}),T.jsx("th",{style:{padding:"1rem"},children:"Status"}),T.jsx("th",{style:{padding:"1rem"},children:"Role"}),T.jsx("th",{style:{padding:"1rem"},children:"Actions"})]})}),T.jsx("tbody",{children:o?T.jsx("tr",{children:T.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):ae.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No users found."})}):ae.map(re=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[T.jsx("td",{style:{padding:"1rem"},children:re.name}),T.jsx("td",{style:{padding:"1rem"},children:re.empId}),T.jsx("td",{style:{padding:"1rem"},children:re.email||"-"}),T.jsx("td",{style:{padding:"1rem"},children:T.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",background:re.status==="approved"?"rgba(16, 185, 129, 0.2)":"rgba(251, 191, 36, 0.2)",color:re.status==="approved"?"#6ee7b7":"#fcd34d"},children:re.status})}),T.jsx("td",{style:{padding:"1rem"},children:re.role}),T.jsxs("td",{style:{padding:"1rem",display:"flex",gap:"0.5rem"},children:[re.status==="pending"&&T.jsx("button",{onClick:()=>z(re.id,"approved"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#10b981"},children:"Approve"}),re.role!=="admin"&&T.jsx("button",{onClick:()=>Y(re.id,"admin"),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"var(--color-accent)"},children:"Make Admin"}),T.jsx("button",{onClick:()=>H(re.id),className:"btn",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",background:"#ef4444"},children:"Delete"})]})]},re.id))})]})})]})},EO=()=>{const{userProfile:r}=ca(),[e,n]=U.useState("faculty"),[s,o]=U.useState([]),[u,f]=U.useState(!0),[m,p]=U.useState(!1),[g,E]=U.useState({}),[S,w]=U.useState(null),N=r&&r.role==="admin",z={faculty:"faculty",rooms:"rooms",subjects:"subjects",timeslots:"timeslots"},Y=async()=>{f(!0);try{const Z=await sr(ni(ut,z[e])),x=[];Z.forEach(R=>{x.push({id:R.id,...R.data()})}),o(x)}catch(Z){console.error("Error fetching data: ",Z)}finally{f(!1)}};U.useEffect(()=>{Y()},[e]);const H=async Z=>{Z.preventDefault();try{S?await Fl(dn(ut,z[e],S),g):await x1(ni(ut,z[e]),g),p(!1),E({}),w(null),Y()}catch(x){console.error("Error saving document: ",x)}},J=async Z=>{if(window.confirm("Are you sure you want to delete this item?"))try{await rg(dn(ut,z[e],Z)),Y()}catch(x){console.error("Error deleting document: ",x)}},se=(Z=null)=>{Z?(E(Z),w(Z.id)):(E({}),w(null)),p(!0)},ae=()=>{switch(e){case"faculty":return T.jsxs(T.Fragment,{children:[T.jsx("input",{className:"glass-input",placeholder:"Name",value:g.name||"",onChange:Z=>E({...g,name:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",placeholder:"Emp ID",value:g.empId||"",onChange:Z=>E({...g,empId:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",placeholder:"Email",value:g.email||"",onChange:Z=>E({...g,email:Z.target.value})}),T.jsx("input",{className:"glass-input",placeholder:"Department",value:g.department||"",onChange:Z=>E({...g,department:Z.target.value})})]});case"rooms":return T.jsxs(T.Fragment,{children:[T.jsx("input",{className:"glass-input",placeholder:"Room Name/Number",value:g.name||"",onChange:Z=>E({...g,name:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",placeholder:"Capacity",type:"number",value:g.capacity||"",onChange:Z=>E({...g,capacity:Z.target.value})}),T.jsxs("select",{className:"glass-input",value:g.type||"lab",onChange:Z=>E({...g,type:Z.target.value}),children:[T.jsx("option",{value:"lab",children:"Lab"}),T.jsx("option",{value:"lecture",children:"Lecture Hall"})]})]});case"subjects":return T.jsxs(T.Fragment,{children:[T.jsx("input",{className:"glass-input",placeholder:"Subject Code",value:g.code||"",onChange:Z=>E({...g,code:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",placeholder:"Subject Name",value:g.name||"",onChange:Z=>E({...g,name:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",placeholder:"Semester",type:"number",value:g.semester||"",onChange:Z=>E({...g,semester:Z.target.value})}),T.jsxs("select",{className:"glass-input",value:g.type||"lab",onChange:Z=>E({...g,type:Z.target.value}),children:[T.jsx("option",{value:"lab",children:"Lab"}),T.jsx("option",{value:"theory",children:"Theory"})]})]});case"timeslots":return T.jsxs(T.Fragment,{children:[T.jsx("input",{className:"glass-input",placeholder:"Label (e.g., Slot A)",value:g.label||"",onChange:Z=>E({...g,label:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",type:"time",value:g.startTime||"",onChange:Z=>E({...g,startTime:Z.target.value}),required:!0}),T.jsx("input",{className:"glass-input",type:"time",value:g.endTime||"",onChange:Z=>E({...g,endTime:Z.target.value}),required:!0})]});default:return null}},re=()=>{switch(e){case"faculty":return T.jsxs(T.Fragment,{children:[T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Emp ID"}),T.jsx("th",{children:"Dept"}),N&&T.jsx("th",{children:"Actions"})]});case"rooms":return T.jsxs(T.Fragment,{children:[T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Capacity"}),T.jsx("th",{children:"Type"}),N&&T.jsx("th",{children:"Actions"})]});case"subjects":return T.jsxs(T.Fragment,{children:[T.jsx("th",{children:"Code"}),T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Sem"}),T.jsx("th",{children:"Type"}),N&&T.jsx("th",{children:"Actions"})]});case"timeslots":return T.jsxs(T.Fragment,{children:[T.jsx("th",{children:"Label"}),T.jsx("th",{children:"Start"}),T.jsx("th",{children:"End"}),N&&T.jsx("th",{children:"Actions"})]});default:return null}},pe=Z=>{switch(e){case"faculty":return T.jsxs(T.Fragment,{children:[T.jsx("td",{style:{padding:"1rem"},children:Z.name}),T.jsx("td",{style:{padding:"1rem"},children:Z.empId}),T.jsx("td",{style:{padding:"1rem"},children:Z.department})]});case"rooms":return T.jsxs(T.Fragment,{children:[T.jsx("td",{style:{padding:"1rem"},children:Z.name}),T.jsx("td",{style:{padding:"1rem"},children:Z.capacity}),T.jsx("td",{style:{padding:"1rem"},children:Z.type})]});case"subjects":return T.jsxs(T.Fragment,{children:[T.jsx("td",{style:{padding:"1rem"},children:Z.code}),T.jsx("td",{style:{padding:"1rem"},children:Z.name}),T.jsx("td",{style:{padding:"1rem"},children:Z.semester}),T.jsx("td",{style:{padding:"1rem"},children:Z.type})]});case"timeslots":return T.jsxs(T.Fragment,{children:[T.jsx("td",{style:{padding:"1rem"},children:Z.label}),T.jsx("td",{style:{padding:"1rem"},children:Z.startTime}),T.jsx("td",{style:{padding:"1rem"},children:Z.endTime})]});default:return null}};return T.jsxs("div",{style:{paddingBottom:"2rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},children:[T.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:"Master Data Management"}),N&&T.jsxs("button",{className:"btn",style:{background:"var(--color-accent)",color:"white"},onClick:()=>se(),children:["+ Add New ",e.slice(0,-1)]})]}),T.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"var(--space-lg)",borderBottom:"1px solid var(--glass-border)"},children:Object.keys(z).map(Z=>T.jsx("button",{onClick:()=>n(Z),style:{padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:e===Z?"2px solid var(--color-accent)":"2px solid transparent",color:e===Z?"white":"var(--color-text-muted)",cursor:"pointer",fontSize:"1rem",textTransform:"capitalize",transition:"all 0.2s"},children:Z},Z))}),T.jsx("div",{className:"glass-panel",style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[T.jsx("thead",{children:T.jsx("tr",{style:{borderBottom:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:re()})}),T.jsx("tbody",{children:u?T.jsx("tr",{children:T.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Loading..."})}):s.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"var(--color-text-muted)"},children:"No records found."})}):s.map(Z=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[pe(Z),N&&T.jsxs("td",{style:{padding:"1rem"},children:[T.jsx("button",{onClick:()=>se(Z),style:{background:"none",border:"none",cursor:"pointer",marginRight:"0.5rem"},children:""}),T.jsx("button",{onClick:()=>J(Z.id),style:{background:"none",border:"none",cursor:"pointer"},children:""})]})]},Z.id))})]})}),m&&T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:T.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem"},children:[T.jsxs("h3",{style:{marginBottom:"1.5rem"},children:[S?"Edit":"Add"," ",e.slice(0,-1)]}),T.jsxs("form",{onSubmit:H,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[ae(),T.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[T.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn",style:{flex:1,background:"rgba(255,255,255,0.1)"},children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn",style:{flex:1,background:"var(--color-accent)"},children:"Save"})]})]})]})})]})},no=({children:r,requiredRole:e})=>{const{currentUser:n,userProfile:s,loading:o}=ca();return o?T.jsx("div",{style:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):n?s&&s.status==="pending"?T.jsxs("div",{className:"glass-panel",style:{margin:"2rem",padding:"2rem",textAlign:"center",color:"white"},children:[T.jsx("h1",{children:"Account Pending"}),T.jsx("p",{children:"Your account is waiting for admin approval. Please check back later."}),T.jsx("button",{className:"btn",onClick:()=>window.location.reload(),style:{marginTop:"1rem",background:"var(--color-accent)"},children:"Check Status"})]}):e&&s&&s.role!==e?T.jsx(Mm,{to:"/",replace:!0}):r:T.jsx(Mm,{to:"/login",replace:!0})};function TO(){return T.jsx(zN,{children:T.jsx(gw,{children:T.jsxs(QA,{children:[T.jsx(ir,{path:"/login",element:T.jsx(yO,{})}),T.jsx(ir,{path:"/",element:T.jsx(no,{children:T.jsx(to,{children:T.jsx(gO,{})})})}),T.jsx(ir,{path:"/schedule",element:T.jsx(no,{children:T.jsx(to,{children:T.jsx(_O,{})})})}),T.jsx(ir,{path:"/assignments",element:T.jsx(no,{children:T.jsx(to,{children:T.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:T.jsx("h2",{children:"Assignments Component Placeholder"})})})})}),T.jsx(ir,{path:"/master-data",element:T.jsx(no,{children:T.jsx(to,{children:T.jsx(EO,{})})})}),T.jsx(ir,{path:"/analytics",element:T.jsx(no,{children:T.jsx(to,{children:T.jsx("div",{className:"glass-panel",style:{padding:"2rem"},children:T.jsx("h2",{children:"Analytics Component Placeholder"})})})})}),T.jsx(ir,{path:"/admin",element:T.jsx(no,{requiredRole:"admin",children:T.jsx(to,{children:T.jsx(vO,{})})})}),T.jsx(ir,{path:"*",element:T.jsx(Mm,{to:"/",replace:!0})})]})})})}nA.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx(TO,{})}));
